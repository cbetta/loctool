var ilib=require("./ilib.js");var JSUtils=require("./JSUtils.js");var Charset=require("./Charset.js");var Charmap=require("./Charmap.js");var CharmapFactory=function(a){var r=a&&a.name||"ISO-8859-15";var e=true;if(a){if(typeof a.sync==="boolean"){e=a.sync}}var i;new Charset({name:r,sync:e,loadParams:a&&a.loadParams,onLoad:function(r){var e,m=r.getName();if(!Charmap._algorithms[m]&&ilib.isDynCode()){var s=CharmapFactory._dynMap[m]||"CharmapTable";e=Charmap._algorithms[m]=require("./"+s+".js")}if(!e){e=Charmap._algorithms[m]||Charmap._algorithms["CharmapTable"]}i=e&&new e(JSUtils.merge(a||{},{charset:r}))}});return i};CharmapFactory._dynMap={"UTF-8":"UTF8","UTF-16":"UTF16LE","UTF-16LE":"UTF16LE","UTF-16BE":"UTF16BE","US-ASCII":"Charmap"};module.exports=CharmapFactory;