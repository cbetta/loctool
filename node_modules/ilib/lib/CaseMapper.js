var ilib=require("./ilib.js");var Locale=require("./Locale.js");var IString=require("./IString.js");var CaseMapper=function(e){this.up=true;this.locale=new Locale;if(e){if(typeof e.locale!=="undefined"){this.locale=typeof e.locale==="string"?new Locale(e.locale):e.locale}this.up=!e.direction||e.direction==="toupper"}this.mapData=this.up?{"ß":"SS","ΐ":"Ι","ά":"Α","έ":"Ε","ή":"Η","ί":"Ι","ΰ":"Υ","ϊ":"Ι","ϋ":"Υ","ό":"Ο","ύ":"Υ","ώ":"Ω","Ӏ":"Ӏ","ӏ":"Ӏ"}:{"Ӏ":"Ӏ"};switch(this.locale.getLanguage()){case"az":case"tr":case"crh":case"kk":case"krc":case"tt":var a="iı";var t="İI";this._setUpMap(a,t);break}if(ilib._getBrowser()==="ie"||ilib._getBrowser()==="Edge"){if(this.up){this.mapData["ς"]="Σ"}this._setUpMap("ⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⳁⳉⳋ","ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⳀⳈⳊ");this._setUpMap("ⴀⴁⴂⴃⴄⴅⴆⴇⴈⴉⴊⴋⴌⴍⴎⴏⴐⴑⴒⴓⴔⴕⴖⴗⴘⴙⴚⴛⴜⴝⴞⴟⴠⴡⴢⴣⴤⴥ","ႠႡႢႣႤႥႦႧႨႩႪႫႬႭႮႯႰႱႲႳႴႵႶႷႸႹႺႻႼႽႾႿჀჁჂჃჄჅ")}};CaseMapper.prototype={_charMapper:function(e){if(!e){return e}var a=typeof e==="string"?new IString(e):e.toString();var t="";var r=a.charIterator();var i;while(r.hasNext()){i=r.next();if(!this.up&&i==="Σ"){if(r.hasNext()){i=r.next();var s=i.charCodeAt(0);t+=s<904&&s!==902||s>974?"ς":"σ";t+=i.toLowerCase()}else{t+="ς"}}else{if(this.mapData[i]){t+=this.mapData[i]}else{t+=this.up?i.toUpperCase():i.toLowerCase()}}}return t},_setUpMap:function(e,a){var t,r;if(this.up){t=e;r=a}else{t=a;r=e}for(var i=0;i<a.length;i++){this.mapData[t[i]]=r[i]}},getLocale:function(){return this.locale},map:function(e){return this._charMapper(e)}};module.exports=CaseMapper;