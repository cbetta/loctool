module.exports=function(e){var t=require("./Path.js"),o=require("fs"),i=require("util"),r=require("./Loader.js");var n=function(e){this.parent.call(this,e);this.root=process.cwd();this.base=typeof module!=="undefined"&&module.filename?t.join(t.dirname(module.filename),".."):this.root;this.includePath.push(t.join(this.root,"resources"));this._exists(t.join(this.base,"locale"),"localeinfo.json");this._exists("/usr/share/javascript/ilib/locale","localeinfo.json")};n.prototype=new r;n.prototype.parent=r;n.prototype.constructor=n;n.prototype.name="NodeLoader";n.prototype._loadFile=function(e,t,i){var r;try{r=o.readFileSync(e,"utf-8");if(typeof i==="function"){i(r)}}catch(n){if(typeof i==="function"){i()}}return r};n.prototype._exists=function(e,i){var r=t.normalize(t.join(e,i));if(o.existsSync(r)){this.includePath.push(e)}};return new n(e)};