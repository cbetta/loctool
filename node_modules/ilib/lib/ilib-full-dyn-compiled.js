/*

 Copyright Â© 2012-2015, JEDLSoft

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.

 See the License for the specific language governing permissions and
 limitations under the License.
*/
var ilib=ilib||{};ilib._ver=function $ilib$_ver$(){return"11.0.006"};ilib.getVersion=function $ilib$getVersion$(){return ilib._ver()||"11.0"};ilib.data={norm:{ccc:{},nfd:{},nfc:{},nfkd:{},nfkc:{}},zoneinfo:{"Etc/UTC":{o:"0:0",f:"UTC"},local:{f:"local"}},ctype:null,ctype_c:null,ctype_l:null,ctype_m:null,ctype_p:null,ctype_z:null,scriptToRange:null,dateformats:null,timezones:[]};"undefined"!==typeof module&&(module.exports.ilib=ilib);
ilib.setAsPseudoLocale=function $ilib$setAsPseudoLocale$($localename$$){$localename$$&&ilib.pseudoLocales.push($localename$$)};ilib.clearPseudoLocales=function $ilib$clearPseudoLocales$(){ilib.pseudoLocales=["zxx-XX","zxx-Cyrl-XX","zxx-Hans-XX","zxx-Hebr-XX"]};ilib.clearPseudoLocales();
ilib._getPlatform=function $ilib$_getPlatform$(){if(!ilib._platform){try{if(typeof java.lang.Object!=="undefined"){ilib._platform=typeof process!=="undefined"?"trireme":"rhino";return ilib._platform}}catch($e$$){}ilib._platform=typeof process!=="undefined"&&typeof module!=="undefined"?"nodejs":typeof Qt!=="undefined"?"qt":typeof window!=="undefined"?typeof PalmSystem!=="undefined"?"webos":"browser":"unknown"}return ilib._platform};
ilib._getBrowser=function $ilib$_getBrowser$(){var $browser$$=void 0;if(ilib._getPlatform()==="browser"&&navigator&&navigator.userAgent){navigator.userAgent.indexOf("Firefox")>-1&&($browser$$="firefox");navigator.userAgent.indexOf("Opera")>-1&&($browser$$="opera");navigator.userAgent.indexOf("Chrome")>-1&&($browser$$="chrome");navigator.userAgent.indexOf(" .NET")>-1&&($browser$$="ie");navigator.userAgent.indexOf("Safari")>-1&&($browser$$="safari")}return $browser$$};
ilib._isGlobal=function $ilib$_isGlobal$($name$$){switch(ilib._getPlatform()){case "rhino":return typeof function(){return typeof global==="object"?global:this}()[$name$$]!=="undefined";case "nodejs":case "trireme":var $root$$=typeof global!=="undefined"?global:this;return $root$$&&typeof $root$$[$name$$]!=="undefined";case "qt":return false;default:try{return window&&typeof window[$name$$]!=="undefined"}catch($e$$){return false}}};
ilib.setLocale=function $ilib$setLocale$($spec$$){if(typeof $spec$$==="string"||!$spec$$)ilib.locale=$spec$$};
ilib.getLocale=function $ilib$getLocale$(){if(typeof ilib.locale!=="string"){switch(ilib._getPlatform()){case "browser":ilib.locale=navigator.language.substring(0,3)+navigator.language.substring(3,5).toUpperCase();if(!ilib.locale){var $lang_locobj$$=typeof navigator.browserLanguage!=="undefined"?navigator.browserLanguage:typeof navigator.userLanguage!=="undefined"?navigator.userLanguage:typeof navigator.systemLanguage!=="undefined"?navigator.systemLanguage:void 0;if(typeof $lang_locobj$$!=="undefined"&&
$lang_locobj$$)ilib.locale=$lang_locobj$$.substring(0,3)+$lang_locobj$$.substring(3,5).toUpperCase()}break;case "webos":if(typeof PalmSystem.locales!=="undefined"&&typeof PalmSystem.locales.UI!="undefined"&&PalmSystem.locales.UI.length>0)ilib.locale=PalmSystem.locales.UI;else if(typeof PalmSystem.locale!=="undefined")ilib.locale=PalmSystem.locale;break;case "rhino":if(typeof environment!=="undefined"&&environment.user&&typeof environment.user.language==="string"&&environment.user.language.length>
0){ilib.locale=environment.user.language;if(typeof environment.user.country==="string"&&environment.user.country.length>0)ilib.locale=ilib.locale+("-"+environment.user.country)}break;case "trireme":if(($lang_locobj$$=process.env.LANG||process.env.LANGUAGE||process.env.LC_ALL)&&typeof $lang_locobj$$!=="undefined")ilib.locale=$lang_locobj$$.substring(0,2).toLowerCase()+"-"+$lang_locobj$$.substring(3,5).toUpperCase();break;case "nodejs":if(($lang_locobj$$=process.env.LANG||process.env.LC_ALL)&&typeof $lang_locobj$$!==
"undefined")ilib.locale=$lang_locobj$$.substring(0,2).toLowerCase()+"-"+$lang_locobj$$.substring(3,5).toUpperCase();break;case "qt":$lang_locobj$$=Qt.locale();$lang_locobj$$.name&&$lang_locobj$$.name.replace("_","-")}ilib.locale=typeof ilib.locale==="string"?ilib.locale:"en-US"}return ilib.locale};ilib.setTimeZone=function $ilib$setTimeZone$($tz$$){ilib.tz=$tz$$||ilib.tz};
ilib.getTimeZone=function $ilib$getTimeZone$(){if(typeof ilib.tz==="undefined"){if(typeof navigator!=="undefined"&&typeof navigator.timezone!=="undefined"){if(navigator.timezone.length>0)ilib.tz=navigator.timezone}else if(typeof PalmSystem!=="undefined"&&typeof PalmSystem.timezone!=="undefined"){if(PalmSystem.timezone.length>0)ilib.tz=PalmSystem.timezone}else if(typeof environment!=="undefined"&&typeof environment.user!=="undefined"){if(typeof environment.user.timezone!=="undefined"&&environment.user.timezone.length>
0)ilib.tz=environment.user.timezone}else if(typeof process!=="undefined"&&typeof process.env!=="undefined"&&process.env.TZ&&typeof process.env.TZ!=="undefined")ilib.tz=process.env.TZ;ilib.tz=ilib.tz||"local"}return ilib.tz};ilib.Loader=function $ilib$Loader$(){};ilib.Loader.prototype.loadFiles=function $ilib$Loader$$loadFiles$(){};ilib.Loader.prototype.listAvailableFiles=function $ilib$Loader$$listAvailableFiles$(){};ilib.Loader.prototype.isAvailable=function $ilib$Loader$$isAvailable$(){};
ilib.setLoaderCallback=function $ilib$setLoaderCallback$($loader$$){if(typeof $loader$$==="object"&&typeof $loader$$.loadFiles==="function"||typeof $loader$$==="function"||typeof $loader$$==="undefined"){ilib._load=$loader$$;return true}return false};ilib.getLoader=function $ilib$getLoader$(){return ilib._load};ilib.isArray=function $ilib$isArray$($object$$){return typeof $object$$==="object"?Object.prototype.toString.call($object$$)==="[object Array]":false};
ilib.extend=function $ilib$extend$($object1$$,$object2$$){var $prop$$=void 0;if($object2$$)for($prop$$ in $object2$$)$prop$$&&(typeof $object2$$[$prop$$]!=="undefined"&&typeof $object2$$[$prop$$]!=="function")&&(ilib.isArray($object1$$[$prop$$])&&ilib.isArray($object2$$[$prop$$])?$object1$$[$prop$$]=$object1$$[$prop$$].concat($object2$$[$prop$$]):typeof $object1$$[$prop$$]==="object"&&typeof $object2$$[$prop$$]==="object"?$prop$$!=="ilib"&&($object1$$[$prop$$]=ilib.extend($object1$$[$prop$$],$object2$$[$prop$$])):
$object1$$[$prop$$]=$object2$$[$prop$$]);return $object1$$};
ilib.extend2=function $ilib$extend2$($object1$$,$object2$$){var $prop$$=void 0;if($object2$$)for($prop$$ in $object2$$)$prop$$&&typeof $object2$$[$prop$$]!=="undefined"&&(ilib.isArray($object1$$[$prop$$])&&ilib.isArray($object2$$[$prop$$])?$object1$$[$prop$$]=$object1$$[$prop$$].concat($object2$$[$prop$$]):typeof $object1$$[$prop$$]==="object"&&typeof $object2$$[$prop$$]==="object"?$prop$$!=="ilib"&&($object1$$[$prop$$]=ilib.extend2($object1$$[$prop$$],$object2$$[$prop$$])):$object1$$[$prop$$]=$object2$$[$prop$$]);
return $object1$$};
ilib.bind=function $ilib$bind$($scope$$,$method$$){function $cloneArray$$($inArrayLike$$,$inOffset$$){for(var $arr$$=[],$i$$=$inOffset$$||0,$l$$=$inArrayLike$$.length;$i$$<$l$$;$i$$++)$arr$$.push($inArrayLike$$[$i$$]);return $arr$$}if($scope$$&&$method$$&&typeof $method$$==="function"){var $args$$=$cloneArray$$(arguments,2);return typeof $method$$.bind==="function"?$method$$.bind.apply($method$$,[$scope$$].concat($args$$)):function(){var $nargs$$=$cloneArray$$(arguments);return $method$$.apply($scope$$,$args$$.concat($nargs$$))}}};
ilib._dyncode=!1;ilib.isDynCode=function $ilib$isDynCode$(){return ilib._dyncode};ilib._dyndata=!1;ilib.isDynData=function $ilib$isDynData$(){return ilib._dyndata};ilib._loadtime=(new Date).getTime();
var JSUtils={shallowCopy:function($source$$,$target$$){var $prop$$=void 0;if($source$$&&$target$$)for($prop$$ in $source$$)$prop$$!==void 0&&typeof $source$$[$prop$$]!=="undefined"&&($target$$[$prop$$]=$source$$[$prop$$])},deepCopy:function($from$$,$to$$){for(var $prop$$ in $from$$)if($prop$$)if(typeof $from$$[$prop$$]==="object"){$to$$[$prop$$]={};JSUtils.deepCopy($from$$[$prop$$],$to$$[$prop$$])}else $to$$[$prop$$]=$from$$[$prop$$];return $to$$},mapString:function($str$$,$map$$){var $mapped$$="";
if($map$$&&$str$$)for(var $i$$=0;$i$$<$str$$.length;$i$$++)var $c$$=$str$$.charAt($i$$),$mapped$$=$mapped$$+($map$$[$c$$]||$c$$);else $mapped$$=$str$$;return $mapped$$},indexOf:function($array$$,$obj$$){if(!$array$$||!$obj$$)return-1;if(typeof $array$$.indexOf==="function")return $array$$.indexOf($obj$$);for(var $i$$=0;$i$$<$array$$.length;$i$$++)if($array$$[$i$$]===$obj$$)return $i$$;return-1},toHexString:function($string$$,$limit$$){var $i$$,$result$$="",$lim$$=$limit$$&&$limit$$<9?$limit$$:4;if(!$string$$)return"";
for($i$$=0;$i$$<$string$$.length;$i$$++)var $ch$$=$string$$.charCodeAt($i$$).toString(16),$result$$=$result$$+("00000000".substring(0,$lim$$-$ch$$.length)+$ch$$);return $result$$.toUpperCase()},isDate:function($object$$){return typeof $object$$==="object"?Object.prototype.toString.call($object$$)==="[object Date]":false},merge:function($object1$$,$object2$$,$replace$$,$name1$$,$name2$$){var $prop$$=void 0,$newObj$$={};for($prop$$ in $object1$$)$prop$$&&typeof $object1$$[$prop$$]!=="undefined"&&($newObj$$[$prop$$]=
$object1$$[$prop$$]);for($prop$$ in $object2$$)if($prop$$&&typeof $object2$$[$prop$$]!=="undefined")if(ilib.isArray($object1$$[$prop$$])&&ilib.isArray($object2$$[$prop$$]))if(typeof $replace$$!=="boolean"||!$replace$$){$newObj$$[$prop$$]=[].concat($object1$$[$prop$$]);$newObj$$[$prop$$]=$newObj$$[$prop$$].concat($object2$$[$prop$$])}else $newObj$$[$prop$$]=$object2$$[$prop$$];else if(typeof $object1$$[$prop$$]==="object"&&typeof $object2$$[$prop$$]==="object")$newObj$$[$prop$$]=JSUtils.merge($object1$$[$prop$$],
$object2$$[$prop$$],$replace$$);else{$name1$$&&($name2$$&&$newObj$$[$prop$$]==$object2$$[$prop$$])&&console.log("Property "+$prop$$+" in "+$name1$$+" is being overridden by the same value in "+$name2$$);$newObj$$[$prop$$]=$object2$$[$prop$$]}return $newObj$$},isEmpty:function($obj$$){var $prop$$=void 0;if(!$obj$$)return true;for($prop$$ in $obj$$)if($prop$$&&typeof $obj$$[$prop$$]!=="undefined")return false;return true},hashCode:function($obj$$){function $addHash$$($hash$$,$newValue$$){return($hash$$*
65543+$newValue$$)%2147483647}function $stringHash$$($str$$){for(var $hash$$=0,$i$$=0;$i$$<$str$$.length;$i$$++)$hash$$=$addHash$$($hash$$,$str$$.charCodeAt($i$$));return $hash$$}var $hash$$=0;switch(typeof $obj$$){case "undefined":$hash$$=0;break;case "string":$hash$$=$stringHash$$($obj$$);break;case "function":case "number":case "xml":$hash$$=$stringHash$$(""+$obj$$);break;case "boolean":$hash$$=$obj$$?1:0;break;case "object":var $props$$=[],$i$$0$$;for($i$$0$$ in $obj$$)$obj$$.hasOwnProperty($i$$0$$)&&
$props$$.push($i$$0$$);$props$$.sort();for($i$$0$$=0;$i$$0$$<$props$$.length;$i$$0$$++){$hash$$=$addHash$$($hash$$,$stringHash$$($props$$[$i$$0$$]));$hash$$=$addHash$$($hash$$,JSUtils.hashCode($obj$$[$props$$[$i$$0$$]]))}}return $hash$$}},Locale=function $Locale$($language_parts_spec$$,$i$$,$variant$$,$script$$){if(typeof $i$$==="undefined"){$language_parts_spec$$=$language_parts_spec$$||ilib.getLocale();if(typeof $language_parts_spec$$==="string"){$language_parts_spec$$=$language_parts_spec$$.split("-");
for($i$$=0;$i$$<$language_parts_spec$$.length;$i$$++)Locale._isLanguageCode($language_parts_spec$$[$i$$])?this.language=$language_parts_spec$$[$i$$]:Locale._isRegionCode($language_parts_spec$$[$i$$])?this.region=$language_parts_spec$$[$i$$]:Locale._isScriptCode($language_parts_spec$$[$i$$])?this.script=$language_parts_spec$$[$i$$]:this.variant=$language_parts_spec$$[$i$$];this.language=this.language||void 0;this.region=this.region||void 0;this.script=this.script||void 0;this.variant=this.variant||
void 0}else if(typeof $language_parts_spec$$==="object"){this.language=$language_parts_spec$$.language||void 0;this.region=$language_parts_spec$$.region||void 0;this.script=$language_parts_spec$$.script||void 0;this.variant=$language_parts_spec$$.variant||void 0}}else{if($language_parts_spec$$){$language_parts_spec$$=$language_parts_spec$$.trim();this.language=$language_parts_spec$$.length>0?$language_parts_spec$$.toLowerCase():void 0}else this.language=void 0;if($i$$){$i$$=$i$$.trim();this.region=
$i$$.length>0?$i$$.toUpperCase():void 0}else this.region=void 0;if($variant$$){$variant$$=$variant$$.trim();this.variant=$variant$$.length>0?$variant$$:void 0}else this.variant=void 0;if($script$$){$script$$=$script$$.trim();this.script=$script$$.length>0?$script$$:void 0}else this.script=void 0}this._genSpec()};
Locale.a2toa3regmap={AF:"AFG",AX:"ALA",AL:"ALB",DZ:"DZA",AS:"ASM",AD:"AND",AO:"AGO",AI:"AIA",AQ:"ATA",AG:"ATG",AR:"ARG",AM:"ARM",AW:"ABW",AU:"AUS",AT:"AUT",AZ:"AZE",BS:"BHS",BH:"BHR",BD:"BGD",BB:"BRB",BY:"BLR",BE:"BEL",BZ:"BLZ",BJ:"BEN",BM:"BMU",BT:"BTN",BO:"BOL",BQ:"BES",BA:"BIH",BW:"BWA",BV:"BVT",BR:"BRA",IO:"IOT",BN:"BRN",BG:"BGR",BF:"BFA",BI:"BDI",KH:"KHM",CM:"CMR",CA:"CAN",CV:"CPV",KY:"CYM",CF:"CAF",TD:"TCD",CL:"CHL",CN:"CHN",CX:"CXR",CC:"CCK",CO:"COL",KM:"COM",CG:"COG",CD:"COD",CK:"COK",CR:"CRI",
CI:"CIV",HR:"HRV",CU:"CUB",CW:"CUW",CY:"CYP",CZ:"CZE",DK:"DNK",DJ:"DJI",DM:"DMA",DO:"DOM",EC:"ECU",EG:"EGY",SV:"SLV",GQ:"GNQ",ER:"ERI",EE:"EST",ET:"ETH",FK:"FLK",FO:"FRO",FJ:"FJI",FI:"FIN",FR:"FRA",GF:"GUF",PF:"PYF",TF:"ATF",GA:"GAB",GM:"GMB",GE:"GEO",DE:"DEU",GH:"GHA",GI:"GIB",GR:"GRC",GL:"GRL",GD:"GRD",GP:"GLP",GU:"GUM",GT:"GTM",GG:"GGY",GN:"GIN",GW:"GNB",GY:"GUY",HT:"HTI",HM:"HMD",VA:"VAT",HN:"HND",HK:"HKG",HU:"HUN",IS:"ISL",IN:"IND",ID:"IDN",IR:"IRN",IQ:"IRQ",IE:"IRL",IM:"IMN",IL:"ISR",IT:"ITA",
JM:"JAM",JP:"JPN",JE:"JEY",JO:"JOR",KZ:"KAZ",KE:"KEN",KI:"KIR",KP:"PRK",KR:"KOR",KW:"KWT",KG:"KGZ",LA:"LAO",LV:"LVA",LB:"LBN",LS:"LSO",LR:"LBR",LY:"LBY",LI:"LIE",LT:"LTU",LU:"LUX",MO:"MAC",MK:"MKD",MG:"MDG",MW:"MWI",MY:"MYS",MV:"MDV",ML:"MLI",MT:"MLT",MH:"MHL",MQ:"MTQ",MR:"MRT",MU:"MUS",YT:"MYT",MX:"MEX",FM:"FSM",MD:"MDA",MC:"MCO",MN:"MNG",ME:"MNE",MS:"MSR",MA:"MAR",MZ:"MOZ",MM:"MMR",NA:"NAM",NR:"NRU",NP:"NPL",NL:"NLD",NC:"NCL",NZ:"NZL",NI:"NIC",NE:"NER",NG:"NGA",NU:"NIU",NF:"NFK",MP:"MNP",NO:"NOR",
OM:"OMN",PK:"PAK",PW:"PLW",PS:"PSE",PA:"PAN",PG:"PNG",PY:"PRY",PE:"PER",PH:"PHL",PN:"PCN",PL:"POL",PT:"PRT",PR:"PRI",QA:"QAT",RE:"REU",RO:"ROU",RU:"RUS",RW:"RWA",BL:"BLM",SH:"SHN",KN:"KNA",LC:"LCA",MF:"MAF",PM:"SPM",VC:"VCT",WS:"WSM",SM:"SMR",ST:"STP",SA:"SAU",SN:"SEN",RS:"SRB",SC:"SYC",SL:"SLE",SG:"SGP",SX:"SXM",SK:"SVK",SI:"SVN",SB:"SLB",SO:"SOM",ZA:"ZAF",GS:"SGS",SS:"SSD",ES:"ESP",LK:"LKA",SD:"SDN",SR:"SUR",SJ:"SJM",SZ:"SWZ",SE:"SWE",CH:"CHE",SY:"SYR",TW:"TWN",TJ:"TJK",TZ:"TZA",TH:"THA",TL:"TLS",
TG:"TGO",TK:"TKL",TO:"TON",TT:"TTO",TN:"TUN",TR:"TUR",TM:"TKM",TC:"TCA",TV:"TUV",UG:"UGA",UA:"UKR",AE:"ARE",GB:"GBR",US:"USA",UM:"UMI",UY:"URY",UZ:"UZB",VU:"VUT",VE:"VEN",VN:"VNM",VG:"VGB",VI:"VIR",WF:"WLF",EH:"ESH",YE:"YEM",ZM:"ZMB",ZW:"ZWE"};
Locale.a1toa3langmap={ab:"abk",aa:"aar",af:"afr",ak:"aka",sq:"sqi",am:"amh",ar:"ara",an:"arg",hy:"hye",as:"asm",av:"ava",ae:"ave",ay:"aym",az:"aze",bm:"bam",ba:"bak",eu:"eus",be:"bel",bn:"ben",bh:"bih",bi:"bis",bs:"bos",br:"bre",bg:"bul",my:"mya",ca:"cat",ch:"cha",ce:"che",ny:"nya",zh:"zho",cv:"chv",kw:"cor",co:"cos",cr:"cre",hr:"hrv",cs:"ces",da:"dan",dv:"div",nl:"nld",dz:"dzo",en:"eng",eo:"epo",et:"est",ee:"ewe",fo:"fao",fj:"fij",fi:"fin",fr:"fra",ff:"ful",gl:"glg",ka:"kat",de:"deu",el:"ell",gn:"grn",
gu:"guj",ht:"hat",ha:"hau",he:"heb",hz:"her",hi:"hin",ho:"hmo",hu:"hun",ia:"ina",id:"ind",ie:"ile",ga:"gle",ig:"ibo",ik:"ipk",io:"ido",is:"isl",it:"ita",iu:"iku",ja:"jpn",jv:"jav",kl:"kal",kn:"kan",kr:"kau",ks:"kas",kk:"kaz",km:"khm",ki:"kik",rw:"kin",ky:"kir",kv:"kom",kg:"kon",ko:"kor",ku:"kur",kj:"kua",la:"lat",lb:"ltz",lg:"lug",li:"lim",ln:"lin",lo:"lao",lt:"lit",lu:"lub",lv:"lav",gv:"glv",mk:"mkd",mg:"mlg",ms:"msa",ml:"mal",mt:"mlt",mi:"mri",mr:"mar",mh:"mah",mn:"mon",na:"nau",nv:"nav",nb:"nob",
nd:"nde",ne:"nep",ng:"ndo",nn:"nno",no:"nor",ii:"iii",nr:"nbl",oc:"oci",oj:"oji",cu:"chu",om:"orm",or:"ori",os:"oss",pa:"pan",pi:"pli",fa:"fas",pl:"pol",ps:"pus",pt:"por",qu:"que",rm:"roh",rn:"run",ro:"ron",ru:"rus",sa:"san",sc:"srd",sd:"snd",se:"sme",sm:"smo",sg:"sag",sr:"srp",gd:"gla",sn:"sna",si:"sin",sk:"slk",sl:"slv",so:"som",st:"sot",az:"azb",es:"spa",su:"sun",sw:"swa",ss:"ssw",sv:"swe",ta:"tam",te:"tel",tg:"tgk",th:"tha",ti:"tir",bo:"bod",tk:"tuk",tl:"tgl",tn:"tsn",to:"ton",tr:"tur",ts:"tso",
tt:"tat",tw:"twi",ty:"tah",ug:"uig",uk:"ukr",ur:"urd",uz:"uzb",ve:"ven",vi:"vie",vo:"vol",wa:"wln",cy:"cym",wo:"wol",fy:"fry",xh:"xho",yi:"yid",yo:"yor",za:"zha",zu:"zul"};Locale._notLower=function $Locale$_notLower$($ch$$1_str$$){$ch$$1_str$$=$ch$$1_str$$.charCodeAt(0);return $ch$$1_str$$<97||$ch$$1_str$$>122};Locale._notUpper=function $Locale$_notUpper$($ch$$2_str$$){$ch$$2_str$$=$ch$$2_str$$.charCodeAt(0);return $ch$$2_str$$<65||$ch$$2_str$$>90};
Locale._notDigit=function $Locale$_notDigit$($ch$$3_str$$){$ch$$3_str$$=$ch$$3_str$$.charCodeAt(0);return $ch$$3_str$$<48||$ch$$3_str$$>57};Locale._isLanguageCode=function $Locale$_isLanguageCode$($str$$){if(typeof $str$$==="undefined"||$str$$.length<2||$str$$.length>3)return false;for(var $i$$=0;$i$$<$str$$.length;$i$$++)if(Locale._notLower($str$$.charAt($i$$)))return false;return true};
Locale._isRegionCode=function $Locale$_isRegionCode$($str$$){if(typeof $str$$==="undefined"||$str$$.length<2||$str$$.length>3)return false;if($str$$.length===2)for(var $i$$=0;$i$$<$str$$.length;$i$$++){if(Locale._notUpper($str$$.charAt($i$$)))return false}else for($i$$=0;$i$$<$str$$.length;$i$$++)if(Locale._notDigit($str$$.charAt($i$$)))return false;return true};
Locale._isScriptCode=function $Locale$_isScriptCode$($str$$){if(typeof $str$$==="undefined"||$str$$.length!==4||Locale._notUpper($str$$.charAt(0)))return false;for(var $i$$=1;$i$$<4;$i$$++)if(Locale._notLower($str$$.charAt($i$$)))return false;return true};Locale.regionAlpha2ToAlpha3=function $Locale$regionAlpha2ToAlpha3$($alpha2$$){return Locale.a2toa3regmap[$alpha2$$]||$alpha2$$};
Locale.languageAlpha1ToAlpha3=function $Locale$languageAlpha1ToAlpha3$($alpha1$$){return Locale.a1toa3langmap[$alpha1$$]||$alpha1$$};
Locale.prototype={_genSpec:function $Locale$$_genSpec$(){this.spec=this.language||"";if(this.script){if(this.spec.length>0)this.spec=this.spec+"-";this.spec=this.spec+this.script}if(this.region){if(this.spec.length>0)this.spec=this.spec+"-";this.spec=this.spec+this.region}if(this.variant){if(this.spec.length>0)this.spec=this.spec+"-";this.spec=this.spec+this.variant}},getLanguage:function $Locale$$getLanguage$(){return this.language},getLanguageAlpha3:function $Locale$$getLanguageAlpha3$(){return Locale.languageAlpha1ToAlpha3(this.language)},
getRegion:function $Locale$$getRegion$(){return this.region},getRegionAlpha3:function $Locale$$getRegionAlpha3$(){return Locale.regionAlpha2ToAlpha3(this.region)},getScript:function $Locale$$getScript$(){return this.script},getVariant:function $Locale$$getVariant$(){return this.variant},getSpec:function $Locale$$getSpec$(){return this.spec},toString:function $Locale$$toString$(){return this.getSpec()},equals:function $Locale$$equals$($other$$){return this.language===$other$$.language&&this.region===
$other$$.region&&this.script===$other$$.script&&this.variant===$other$$.variant},isPseudo:function $Locale$$isPseudo$(){return JSUtils.indexOf(ilib.pseudoLocales,this.spec)>-1}};Locale.locales=[];
Locale.getAvailableLocales=function $Locale$getAvailableLocales$($sync$$,$onLoad$$){var $locales$$=[];if(Locale.locales.length||typeof ilib._load.listAvailableFiles!=="function"){$locales$$=Locale.locales;$onLoad$$&&typeof $onLoad$$==="function"&&$onLoad$$($locales$$)}else{typeof $sync$$==="undefined"&&($sync$$=true);ilib._load.listAvailableFiles($sync$$,function($manifest$$){if($manifest$$)for(var $dir$$ in $manifest$$)for(var $filelist$$=$manifest$$[$dir$$],$i$$=0;$i$$<$filelist$$.length;$i$$++)$filelist$$[$i$$].length>
15&&$filelist$$[$i$$].substr(-15)==="localeinfo.json"&&$locales$$.push($filelist$$[$i$$].substring(0,$filelist$$[$i$$].length-16).replace(/\//g,"-"));$onLoad$$&&typeof $onLoad$$==="function"&&$onLoad$$($locales$$)})}return $locales$$};
var Utils={mergeLocData:function($prefix$$,$loc_locale$$,$replaceArrays$$,$returnOne$$){var $data$$=void 0,$loc_locale$$=$loc_locale$$||new Locale,$foundLocaleData$$=false,$property$$=$prefix$$,$mostSpecific$$;$mostSpecific$$=$data$$=ilib.data[$prefix$$]||{};if($loc_locale$$.getLanguage()){$property$$=$prefix$$+"_"+$loc_locale$$.getLanguage();if(ilib.data[$property$$]){$foundLocaleData$$=true;$data$$=JSUtils.merge($data$$,ilib.data[$property$$],$replaceArrays$$);$mostSpecific$$=ilib.data[$property$$]}}if($loc_locale$$.getRegion()){$property$$=
$prefix$$+"_"+$loc_locale$$.getRegion();if(ilib.data[$property$$]){$foundLocaleData$$=true;$data$$=JSUtils.merge($data$$,ilib.data[$property$$],$replaceArrays$$);$mostSpecific$$=ilib.data[$property$$]}}if($loc_locale$$.getLanguage()){$loc_locale$$.getLanguage();if($loc_locale$$.getScript()){$property$$=$prefix$$+"_"+$loc_locale$$.getLanguage()+"_"+$loc_locale$$.getScript();if(ilib.data[$property$$]){$foundLocaleData$$=true;$data$$=JSUtils.merge($data$$,ilib.data[$property$$],$replaceArrays$$);$mostSpecific$$=
ilib.data[$property$$]}}if($loc_locale$$.getRegion()){$property$$=$prefix$$+"_"+$loc_locale$$.getLanguage()+"_"+$loc_locale$$.getRegion();if(ilib.data[$property$$]){$foundLocaleData$$=true;$data$$=JSUtils.merge($data$$,ilib.data[$property$$],$replaceArrays$$);$mostSpecific$$=ilib.data[$property$$]}}}if($loc_locale$$.getRegion()&&$loc_locale$$.getVariant()){$property$$=$prefix$$+"_"+$loc_locale$$.getLanguage()+"_"+$loc_locale$$.getVariant();if(ilib.data[$property$$]){$foundLocaleData$$=true;$data$$=
JSUtils.merge($data$$,ilib.data[$property$$],$replaceArrays$$);$mostSpecific$$=ilib.data[$property$$]}}if($loc_locale$$.getLanguage()&&$loc_locale$$.getScript()&&$loc_locale$$.getRegion()){$property$$=$prefix$$+"_"+$loc_locale$$.getLanguage()+"_"+$loc_locale$$.getScript()+"_"+$loc_locale$$.getRegion();if(ilib.data[$property$$]){$foundLocaleData$$=true;$data$$=JSUtils.merge($data$$,ilib.data[$property$$],$replaceArrays$$);$mostSpecific$$=ilib.data[$property$$]}}if($loc_locale$$.getLanguage()&&$loc_locale$$.getRegion()&&
$loc_locale$$.getVariant()){$property$$=$prefix$$+"_"+$loc_locale$$.getLanguage()+"_"+$loc_locale$$.getRegion()+"_"+$loc_locale$$.getVariant();if(ilib.data[$property$$]){$foundLocaleData$$=true;$data$$=JSUtils.merge($data$$,ilib.data[$property$$],$replaceArrays$$);$mostSpecific$$=ilib.data[$property$$]}}if($loc_locale$$.getLanguage()&&$loc_locale$$.getScript()&&$loc_locale$$.getRegion()&&$loc_locale$$.getVariant()){$property$$=$prefix$$+"_"+$loc_locale$$.getLanguage()+"_"+$loc_locale$$.getScript()+
"_"+$loc_locale$$.getRegion()+"_"+$loc_locale$$.getVariant();if(ilib.data[$property$$]){$foundLocaleData$$=true;$data$$=JSUtils.merge($data$$,ilib.data[$property$$],$replaceArrays$$);$mostSpecific$$=ilib.data[$property$$]}}return $foundLocaleData$$?$returnOne$$?$mostSpecific$$:$data$$:void 0},getLocFiles:function($locale$$,$name$$){var $files$$=[],$filename$$=$name$$||"resources.json",$loc$$1_variant$$=$locale$$||new Locale,$language$$=$loc$$1_variant$$.getLanguage(),$region$$=$loc$$1_variant$$.getRegion(),
$script$$=$loc$$1_variant$$.getScript(),$loc$$1_variant$$=$loc$$1_variant$$.getVariant();$files$$.push($filename$$);$language$$&&$files$$.push($language$$+"/"+$filename$$);$region$$&&$files$$.push("und/"+$region$$+"/"+$filename$$);if($language$$){$script$$&&$files$$.push($language$$+"/"+$script$$+"/"+$filename$$);$region$$&&$files$$.push($language$$+"/"+$region$$+"/"+$filename$$)}$region$$&&$loc$$1_variant$$&&$files$$.push("und/"+$region$$+"/"+$loc$$1_variant$$+"/"+$filename$$);$language$$&&($script$$&&
$region$$)&&$files$$.push($language$$+"/"+$script$$+"/"+$region$$+"/"+$filename$$);$language$$&&($region$$&&$loc$$1_variant$$)&&$files$$.push($language$$+"/"+$region$$+"/"+$loc$$1_variant$$+"/"+$filename$$);$language$$&&($script$$&&$region$$&&$loc$$1_variant$$)&&$files$$.push($language$$+"/"+$script$$+"/"+$region$$+"/"+$loc$$1_variant$$+"/"+$filename$$);return $files$$},_callLoadData:function($files$$,$sync$$,$params$$,$callback$$){if(typeof ilib._load==="function")return ilib._load($files$$,$sync$$,
$params$$,$callback$$);if(typeof ilib._load==="object"&&typeof ilib._load.loadFiles==="function")return ilib._load.loadFiles($files$$,$sync$$,$params$$,$callback$$)},loadData:function($dot_params$$2_returnOne$$){var $files$$2_name$$="resources.json",$object$$=void 0,$locale$$=new Locale(ilib.getLocale()),$sync$$=false,$type$$=void 0,$loadParams$$={},$callback$$=void 0,$nonlocale$$=false,$replace$$=false,$basename$$;if($dot_params$$2_returnOne$$&&typeof $dot_params$$2_returnOne$$.callback==="function"){if($dot_params$$2_returnOne$$.name)$files$$2_name$$=
$dot_params$$2_returnOne$$.name;if($dot_params$$2_returnOne$$.object)$object$$=$dot_params$$2_returnOne$$.object;$dot_params$$2_returnOne$$.locale&&($locale$$=typeof $dot_params$$2_returnOne$$.locale==="string"?new Locale($dot_params$$2_returnOne$$.locale):$dot_params$$2_returnOne$$.locale);if($dot_params$$2_returnOne$$.type)$type$$=$dot_params$$2_returnOne$$.type;if($dot_params$$2_returnOne$$.loadParams)$loadParams$$=$dot_params$$2_returnOne$$.loadParams;if($dot_params$$2_returnOne$$.sync)$sync$$=
$dot_params$$2_returnOne$$.sync;$dot_params$$2_returnOne$$.nonlocale&&($nonlocale$$=!!$dot_params$$2_returnOne$$.nonlocale);if(typeof $dot_params$$2_returnOne$$.replace==="boolean")$replace$$=$dot_params$$2_returnOne$$.replace;$callback$$=$dot_params$$2_returnOne$$.callback;if($object$$&&!$object$$.cache)$object$$.cache={};if(!$type$$){$dot_params$$2_returnOne$$=$files$$2_name$$.lastIndexOf(".");$type$$=$dot_params$$2_returnOne$$!==-1?$files$$2_name$$.substring($dot_params$$2_returnOne$$+1):"text"}var $spec$$=
(!$nonlocale$$&&$locale$$.getSpec().replace(/-/g,"_")||"root")+","+$files$$2_name$$+","+(""+JSUtils.hashCode($loadParams$$));if(!$object$$||typeof $object$$.cache[$spec$$]==="undefined"){var $data$$,$dot_params$$2_returnOne$$=$loadParams$$&&$loadParams$$.returnOne;if($type$$==="json"){$basename$$=$files$$2_name$$.substring(0,$files$$2_name$$.lastIndexOf("."));if($nonlocale$$){$basename$$=$basename$$.replace(/\//g,".").replace(/[\\\+\-]/g,"_");$data$$=ilib.data[$basename$$]}else $data$$=Utils.mergeLocData($basename$$,
$locale$$,$replace$$,$dot_params$$2_returnOne$$);if($data$$){$object$$&&($object$$.cache[$spec$$]=$data$$);$callback$$($data$$);return}}if(typeof ilib._load!=="undefined"){$files$$2_name$$=$nonlocale$$?[$files$$2_name$$||"resources.json"]:Utils.getLocFiles($locale$$,$files$$2_name$$);if($type$$!=="json")$loadParams$$.returnOne=true;Utils._callLoadData($files$$2_name$$,$sync$$,$loadParams$$,ilib.bind(this,function($arr$$){if($type$$==="json"){$data$$=ilib.data[$basename$$]||{};for(var $i$$=0;$i$$<
$arr$$.length;$i$$++)typeof $arr$$[$i$$]!=="undefined"&&($data$$=$loadParams$$.returnOne?$arr$$[$i$$]:JSUtils.merge($data$$,$arr$$[$i$$],$replace$$));$object$$&&($object$$.cache[$spec$$]=$data$$);$callback$$($data$$)}else{for($i$$=$arr$$.length-1;$i$$>-1&&!$arr$$[$i$$];)$i$$--;if($i$$>-1){$object$$&&($object$$.cache[$spec$$]=$arr$$[$i$$]);$callback$$($arr$$[$i$$])}else $callback$$(void 0)}}))}else{$type$$==="json"&&($data$$=ilib.data[$basename$$]);$object$$&&$data$$&&($object$$.cache[$spec$$]=$data$$);
$callback$$($data$$)}}else $callback$$($object$$.cache[$spec$$])}}},LocaleInfo=function $LocaleInfo$($locale$$,$options$$){var $sync$$=true,$loadParams$$=void 0;this.info=LocaleInfo.defaultInfo;switch(typeof $locale$$){case "string":this.locale=new Locale($locale$$);break;default:case "undefined":this.locale=new Locale;break;case "object":this.locale=$locale$$}if($options$$){typeof $options$$.sync!=="undefined"&&($sync$$=$options$$.sync==true);if(typeof $options$$.loadParams!=="undefined")$loadParams$$=
$options$$.loadParams}if(!LocaleInfo.cache)LocaleInfo.cache={};Utils.loadData({object:LocaleInfo,locale:this.locale,name:"localeinfo.json",sync:$sync$$,loadParams:$loadParams$$,callback:ilib.bind(this,function($info$$){if(!$info$$){var $info$$=LocaleInfo.defaultInfo,$spec$$=this.locale.getSpec().replace(/-/g,"_");LocaleInfo.cache[$spec$$]=$info$$}this.info=$info$$;if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})})};LocaleInfo.defaultInfo=ilib.data.localeinfo;
LocaleInfo.defaultInfo=LocaleInfo.defaultInfo||{scripts:["Latn"],timezone:"Etc/UTC",units:"metric",calendar:"gregorian",clock:"24",currency:"USD",firstDayOfWeek:1,meridiems:"gregorian",numfmt:{currencyFormats:{common:"{s}{n}",commonNegative:"{s}-{n}",iso:"{s}{n}",isoNegative:"{s}-{n}"},script:"Latn",decimalChar:",",groupChar:".",prigroupSize:3,secgroupSize:0,pctFmt:"{n}%",negativepctFmt:"-{n}%",pctChar:"%",roundingMode:"halfdown",exponential:"e",digits:""}};
LocaleInfo.prototype={getLanguageName:function $LocaleInfo$$getLanguageName$(){return this.info["language.name"]},getRegionName:function $LocaleInfo$$getRegionName$(){return this.info["region.name"]},getClock:function $LocaleInfo$$getClock$(){return this.info.clock},getLocale:function $LocaleInfo$$getLocale$(){return this.locale},getUnits:function $LocaleInfo$$getUnits$(){return this.info.units},getUnitFormat:function $LocaleInfo$$getUnitFormat$(){return this.info.unitfmt},getCalendar:function $LocaleInfo$$getCalendar$(){return this.info.calendar},
getFirstDayOfWeek:function $LocaleInfo$$getFirstDayOfWeek$(){return this.info.firstDayOfWeek},getWeekEndStart:function $LocaleInfo$$getWeekEndStart$(){return this.info.weekendStart},getWeekEndEnd:function $LocaleInfo$$getWeekEndEnd$(){return this.info.weekendEnd},getTimeZone:function $LocaleInfo$$getTimeZone$(){return this.info.timezone},getDecimalSeparator:function $LocaleInfo$$getDecimalSeparator$(){return this.info.numfmt.decimalChar},getNativeDecimalSeparator:function $LocaleInfo$$getNativeDecimalSeparator$(){return this.info.native_numfmt&&
this.info.native_numfmt.decimalChar||this.info.numfmt.decimalChar},getGroupingSeparator:function $LocaleInfo$$getGroupingSeparator$(){return this.info.numfmt.groupChar},getNativeGroupingSeparator:function $LocaleInfo$$getNativeGroupingSeparator$(){return this.info.native_numfmt&&this.info.native_numfmt.groupChar||this.info.numfmt.groupChar},getPrimaryGroupingDigits:function $LocaleInfo$$getPrimaryGroupingDigits$(){return typeof this.info.numfmt.prigroupSize!=="undefined"&&this.info.numfmt.prigroupSize||
0},getSecondaryGroupingDigits:function $LocaleInfo$$getSecondaryGroupingDigits$(){return this.info.numfmt.secgroupSize||0},getPercentageFormat:function $LocaleInfo$$getPercentageFormat$(){return this.info.numfmt.pctFmt},getNegativePercentageFormat:function $LocaleInfo$$getNegativePercentageFormat$(){return this.info.numfmt.negativepctFmt},getPercentageSymbol:function $LocaleInfo$$getPercentageSymbol$(){return this.info.numfmt.pctChar||"%"},getExponential:function $LocaleInfo$$getExponential$(){return this.info.numfmt.exponential},
getNativeExponential:function $LocaleInfo$$getNativeExponential$(){return this.info.native_numfmt&&this.info.native_numfmt.exponential||this.info.numfmt.exponential},getNativePercentageSymbol:function $LocaleInfo$$getNativePercentageSymbol$(){return this.info.native_numfmt&&this.info.native_numfmt.pctChar||this.info.numfmt.pctChar||"%"},getNegativeNumberFormat:function $LocaleInfo$$getNegativeNumberFormat$(){return this.info.numfmt.negativenumFmt},getCurrencyFormats:function $LocaleInfo$$getCurrencyFormats$(){return this.info.numfmt.currencyFormats},
getCurrency:function $LocaleInfo$$getCurrency$(){return this.info.currency},getDigitsStyle:function $LocaleInfo$$getDigitsStyle$(){return this.info.numfmt.useNative?"native":typeof this.info.native_numfmt!=="undefined"?"optional":"western"},getDigits:function $LocaleInfo$$getDigits$(){return this.info.numfmt.digits},getNativeDigits:function $LocaleInfo$$getNativeDigits$(){return this.info.numfmt.useNative&&this.info.numfmt.digits||this.info.native_numfmt&&this.info.native_numfmt.digits},getRoundingMode:function $LocaleInfo$$getRoundingMode$(){return this.info.numfmt.roundingMode},
getDefaultScript:function $LocaleInfo$$getDefaultScript$(){return this.info.scripts?this.info.scripts[0]:"Latn"},getScript:function $LocaleInfo$$getScript$(){return this.locale.getScript()||this.getDefaultScript()},getAllScripts:function $LocaleInfo$$getAllScripts$(){return this.info.scripts||["Latn"]},getMeridiemsStyle:function $LocaleInfo$$getMeridiemsStyle$(){return this.info.meridiems||"gregorian"}};var IDate=function $IDate$(){};IDate._constructors={};
IDate.prototype={getType:function $IDate$$getType$(){return"date"},getTime:function $IDate$$getTime$(){return this.rd.getTime()},getTimeExtended:function $IDate$$getTimeExtended$(){return this.rd.getTimeExtended()},setTime:function $IDate$$setTime$($millis$$){this.rd=this.newRd({unixtime:$millis$$,cal:this.cal});this._calcDateComponents()},getDays:function $IDate$$getDays$(){return this.day},getMonths:function $IDate$$getMonths$(){return this.month},getYears:function $IDate$$getYears$(){return this.year},
getHours:function $IDate$$getHours$(){return this.hour},getMinutes:function $IDate$$getMinutes$(){return this.minute},getSeconds:function $IDate$$getSeconds$(){return this.second},getMilliseconds:function $IDate$$getMilliseconds$(){return this.millisecond},getEra:function $IDate$$getEra$(){return this.year<1?-1:1},setDays:function $IDate$$setDays$($day$$){this.day=parseInt($day$$,10)||1;this.rd._setDateComponents(this)},setMonths:function $IDate$$setMonths$($month$$){this.month=parseInt($month$$,
10)||1;this.rd._setDateComponents(this)},setYears:function $IDate$$setYears$($year$$){this.year=parseInt($year$$,10)||0;this.rd._setDateComponents(this)},setHours:function $IDate$$setHours$($hour$$){this.hour=parseInt($hour$$,10)||0;this.rd._setDateComponents(this)},setMinutes:function $IDate$$setMinutes$($minute$$){this.minute=parseInt($minute$$,10)||0;this.rd._setDateComponents(this)},setSeconds:function $IDate$$setSeconds$($second$$){this.second=parseInt($second$$,10)||0;this.rd._setDateComponents(this)},
setMilliseconds:function $IDate$$setMilliseconds$($milli$$){this.millisecond=parseInt($milli$$,10)||0;this.rd._setDateComponents(this)},before:function $IDate$$before$($dow$$){return new this.constructor({rd:this.rd.before($dow$$,this.offset),timezone:this.timezone})},after:function $IDate$$after$($dow$$){return new this.constructor({rd:this.rd.after($dow$$,this.offset),timezone:this.timezone})},onOrBefore:function $IDate$$onOrBefore$($dow$$){return new this.constructor({rd:this.rd.onOrBefore($dow$$,
this.offset),timezone:this.timezone})},onOrAfter:function $IDate$$onOrAfter$($dow$$){return new this.constructor({rd:this.rd.onOrAfter($dow$$,this.offset),timezone:this.timezone})},getJSDate:function $IDate$$getJSDate$(){var $unix$$=this.rd.getTimeExtended();return isNaN($unix$$)?void 0:new Date($unix$$)},getRataDie:function $IDate$$getRataDie$(){return this.rd.getRataDie()},setRd:function $IDate$$setRd$($rd$$){this.rd=this.newRd({rd:$rd$$,cal:this.cal});this._calcDateComponents()},getJulianDay:function $IDate$$getJulianDay$(){return this.rd.getJulianDay()},
setJulianDay:function $IDate$$setJulianDay$($date$$){this.rd=this.newRd({julianday:typeof $date$$==="object"?$date$$.getDate():$date$$,cal:this.cal});this._calcDateComponents()},getTimeZone:function $IDate$$getTimeZone$(){return this.timezone||"local"},setTimeZone:function $IDate$$setTimeZone$($tzName$$){if(!$tzName$$||$tzName$$==="")this.tz=this.timezone=void 0;else if(typeof $tzName$$==="string"){this.timezone=$tzName$$;this.tz=void 0;this._calcDateComponents()}},firstSunday:function $IDate$$firstSunday$($year$$){return this.newRd({rd:this.newRd({year:$year$$,
month:1,day:1,hour:0,minute:0,second:0,millisecond:0,cal:this.cal}).onOrAfter(4),cal:this.cal}).before(0)},getWeekOfYear:function $IDate$$getWeekOfYear$(){var $rd$$=Math.floor(this.rd.getRataDie()),$nextYear_year$$=this._calcYear($rd$$+this.offset),$yearStart$$=this.firstSunday($nextYear_year$$);if($rd$$<$yearStart$$)$yearStart$$=this.firstSunday($nextYear_year$$-1);else{$nextYear_year$$=this.firstSunday($nextYear_year$$+1);$rd$$>=$nextYear_year$$&&($yearStart$$=$nextYear_year$$)}return Math.floor(($rd$$-
$yearStart$$)/7)+1},getWeekOfMonth:function $IDate$$getWeekOfMonth$($first$$1_locale$$){var $li_weekStart$$=new LocaleInfo($first$$1_locale$$),$first$$1_locale$$=this.newRd({year:this._calcYear(this.rd.getRataDie()+this.offset),month:this.getMonths(),day:1,hour:0,minute:0,second:0,millisecond:0,cal:this.cal}),$li_weekStart$$=$first$$1_locale$$.onOrAfter($li_weekStart$$.getFirstDayOfWeek());$li_weekStart$$-$first$$1_locale$$.getRataDie()>3&&($li_weekStart$$=$li_weekStart$$-7);return Math.floor((this.rd.getRataDie()-
$li_weekStart$$)/7)+1}};
var MathUtils={signum:function($num$$){var $n$$=$num$$;if(typeof $num$$==="string")$n$$=parseInt($num$$,10);else if(typeof $num$$!=="number")return 1;return $n$$<0?-1:1},floor:function($num$$){return Math.floor($num$$)},ceiling:function($num$$){return Math.ceil($num$$)},down:function($num$$){return $num$$<0?Math.ceil($num$$):Math.floor($num$$)},up:function($num$$){return $num$$<0?Math.floor($num$$):Math.ceil($num$$)},halfup:function($num$$){return $num$$<0?Math.ceil($num$$-0.5):Math.floor($num$$+
0.5)},halfdown:function($num$$){return $num$$<0?Math.floor($num$$+0.5):Math.ceil($num$$-0.5)},halfeven:function($num$$){return Math.floor($num$$)%2===0?Math.ceil($num$$-0.5):Math.floor($num$$+0.5)},halfodd:function($num$$){return Math.floor($num$$)%2!==0?Math.ceil($num$$-0.5):Math.floor($num$$+0.5)},mod:function($dividend$$,$modulus$$){if($modulus$$==0)return 0;var $x$$=$dividend$$%$modulus$$;return $x$$<0?$x$$+$modulus$$:$x$$},amod:function($dividend$$,$modulus$$){if($modulus$$==0)return 0;var $x$$=
$dividend$$%$modulus$$;return $x$$<=0?$x$$+$modulus$$:$x$$}},IString=function $IString$($string$$){this.str=typeof $string$$==="object"?$string$$ instanceof IString?$string$$.str:$string$$.toString():typeof $string$$==="string"?new String($string$$):"";this.length=this.str.length;this.cpLength=-1;this.localeSpec=ilib.getLocale()};
IString._isSurrogate=function $IString$_isSurrogate$($ch$$4_n$$){$ch$$4_n$$=$ch$$4_n$$.charCodeAt(0);return $ch$$4_n$$>=56320&&$ch$$4_n$$<=57343||$ch$$4_n$$>=55296&&$ch$$4_n$$<=56319};IString.fromCodePoint=function $IString$fromCodePoint$($codepoint$$){if($codepoint$$<65536)return String.fromCharCode($codepoint$$);var $low$$=$codepoint$$&65535;return String.fromCharCode(55296|(Math.floor($codepoint$$/65536)-1&15)<<6|($low$$&64512)>>10)+String.fromCharCode(56320|$low$$&1023)};
IString.toCodePoint=function $IString$toCodePoint$($str$$,$index$$){if(!$str$$||$str$$.length===0)return-1;var $code$$=-1,$high$$=$str$$.charCodeAt($index$$);if($high$$>=55296&&$high$$<=56319){if($str$$.length>$index$$+1){var $low$$=$str$$.charCodeAt($index$$+1);$low$$>=56320&&$low$$<=57343&&($code$$=(($high$$&960)>>6)+1<<16|($high$$&63)<<10|$low$$&1023)}}else $code$$=$high$$;return $code$$};
IString.loadPlurals=function $IString$loadPlurals$($sync$$,$loc$$2_locale$$,$loadParams$$,$onLoad$$){var $loc$$2_locale$$=$loc$$2_locale$$?typeof $loc$$2_locale$$==="string"?new Locale($loc$$2_locale$$):$loc$$2_locale$$:new Locale(ilib.getLocale()),$spec$$=$loc$$2_locale$$.getLanguage();ilib.data["plurals_"+$spec$$]?$onLoad$$&&typeof $onLoad$$==="function"&&$onLoad$$(ilib.data["plurals_"+$spec$$]):Utils.loadData({name:"plurals.json",object:IString,locale:$loc$$2_locale$$,sync:$sync$$,loadParams:$loadParams$$,
callback:ilib.bind(this,function($plurals$$){$plurals$$||(IString.cache[$spec$$]={});ilib.data["plurals_"+$spec$$]=$plurals$$||{};$onLoad$$&&typeof $onLoad$$==="function"&&$onLoad$$(ilib.data["plurals_"+$spec$$])})})};
IString._fncs={firstProp:function $IString$_fncs$firstProp$($obj$$){for(var $p$$ in $obj$$)if($p$$&&$obj$$[$p$$])return $p$$},getValue:function $IString$_fncs$getValue$($obj$$,$n$$){if(typeof $obj$$==="object"){var $subrule$$=IString._fncs.firstProp($obj$$);return IString._fncs[$subrule$$]($obj$$[$subrule$$],$n$$)}return typeof $obj$$==="string"?$n$$:$obj$$},matchRangeContinuous:function $IString$_fncs$matchRangeContinuous$($n$$,$range$$){for(var $num$$ in $range$$)if(typeof $num$$!=="undefined"&&
typeof $range$$[$num$$]!=="undefined"){var $obj$$=$range$$[$num$$];if(typeof $obj$$==="number"){if($n$$===$range$$[$num$$])return true}else if(Object.prototype.toString.call($obj$$)==="[object Array]"&&$n$$>=$obj$$[0]&&$n$$<=$obj$$[1])return true}return false},matchRange:function $IString$_fncs$matchRange$($n$$,$range$$){return Math.floor($n$$)!==$n$$?false:IString._fncs.matchRangeContinuous($n$$,$range$$)},is:function $IString$_fncs$is$($rule$$,$n$$){var $left$$=IString._fncs.getValue($rule$$[0],
$n$$),$right$$=IString._fncs.getValue($rule$$[1],$n$$);return $left$$==$right$$},isnot:function $IString$_fncs$isnot$($rule$$,$n$$){return IString._fncs.getValue($rule$$[0],$n$$)!=IString._fncs.getValue($rule$$[1],$n$$)},inrange:function $IString$_fncs$inrange$($rule$$,$n$$){return IString._fncs.matchRange(IString._fncs.getValue($rule$$[0],$n$$),$rule$$[1])},notin:function $IString$_fncs$notin$($rule$$,$n$$){return!IString._fncs.matchRange(IString._fncs.getValue($rule$$[0],$n$$),$rule$$[1])},within:function $IString$_fncs$within$($rule$$,
$n$$){return IString._fncs.matchRangeContinuous(IString._fncs.getValue($rule$$[0],$n$$),$rule$$[1])},mod:function $IString$_fncs$mod$($rule$$,$n$$){return MathUtils.mod(IString._fncs.getValue($rule$$[0],$n$$),IString._fncs.getValue($rule$$[1],$n$$))},n:function $IString$_fncs$n$($rule$$,$n$$){return $n$$},or:function $IString$_fncs$or$($rule$$,$n$$){return IString._fncs.getValue($rule$$[0],$n$$)||IString._fncs.getValue($rule$$[1],$n$$)},and:function $IString$_fncs$and$($rule$$,$n$$){return IString._fncs.getValue($rule$$[0],
$n$$)&&IString._fncs.getValue($rule$$[1],$n$$)}};
IString.prototype={_length:function $IString$$_length$(){return this.str.length},format:function $IString$$format$($params$$){var $formatted$$=this.str;if($params$$){var $regex$$,$p$$;for($p$$ in $params$$)if(typeof $params$$[$p$$]!=="undefined"){$regex$$=RegExp("{"+$p$$+"}","g");$formatted$$=$formatted$$.replace($regex$$,$params$$[$p$$])}}return $formatted$$.toString()},formatChoice:function $IString$$formatChoice$($argIndex$$,$params$$){var $arg$$=this.str.split("|"),$type$$=typeof $argIndex$$,
$limits$$=[],$strings$$=[],$i$$,$limit$$1_parts$$1_ruleset_start$$,$result$$=void 0,$defaultCase$$="";if(this.str.length===0)return"";for($i$$=0;$i$$<$arg$$.length;$i$$++){$limit$$1_parts$$1_ruleset_start$$=$arg$$[$i$$].split("#");if($limit$$1_parts$$1_ruleset_start$$.length>2){$limits$$[$i$$]=$limit$$1_parts$$1_ruleset_start$$[0];$limit$$1_parts$$1_ruleset_start$$=$limit$$1_parts$$1_ruleset_start$$.shift();$strings$$[$i$$]=$limit$$1_parts$$1_ruleset_start$$.join("#")}else if($limit$$1_parts$$1_ruleset_start$$.length===
2){$limits$$[$i$$]=$limit$$1_parts$$1_ruleset_start$$[0];$strings$$[$i$$]=$limit$$1_parts$$1_ruleset_start$$[1]}else throw"syntax error in choice format pattern: "+$arg$$[$i$$];}for($i$$=0;$i$$<$limits$$.length;$i$$++)if($limits$$[$i$$].length===0)$defaultCase$$=new IString($strings$$[$i$$]);else switch($type$$){case "number":$arg$$=parseInt($argIndex$$,10);if($limits$$[$i$$].substring(0,2)==="<="){$limit$$1_parts$$1_ruleset_start$$=parseFloat($limits$$[$i$$].substring(2));if($arg$$<=$limit$$1_parts$$1_ruleset_start$$){$result$$=
new IString($strings$$[$i$$]);$i$$=$limits$$.length}}else if($limits$$[$i$$].substring(0,2)===">="){$limit$$1_parts$$1_ruleset_start$$=parseFloat($limits$$[$i$$].substring(2));if($arg$$>=$limit$$1_parts$$1_ruleset_start$$){$result$$=new IString($strings$$[$i$$]);$i$$=$limits$$.length}}else if($limits$$[$i$$].charAt(0)==="<"){$limit$$1_parts$$1_ruleset_start$$=parseFloat($limits$$[$i$$].substring(1));if($arg$$<$limit$$1_parts$$1_ruleset_start$$){$result$$=new IString($strings$$[$i$$]);$i$$=$limits$$.length}}else if($limits$$[$i$$].charAt(0)===
">"){$limit$$1_parts$$1_ruleset_start$$=parseFloat($limits$$[$i$$].substring(1));if($arg$$>$limit$$1_parts$$1_ruleset_start$$){$result$$=new IString($strings$$[$i$$]);$i$$=$limits$$.length}}else{this.locale=this.locale||new Locale(this.localeSpec);switch($limits$$[$i$$]){case "zero":case "one":case "two":case "few":case "many":if(($limit$$1_parts$$1_ruleset_start$$=ilib.data["plurals_"+this.locale.getLanguage()])&&IString._fncs.getValue($limit$$1_parts$$1_ruleset_start$$[$limits$$[$i$$]],$arg$$)){$result$$=
new IString($strings$$[$i$$]);$i$$=$limits$$.length}break;default:var $dash_end$$=$limits$$[$i$$].indexOf("-");if($dash_end$$!==-1){$limit$$1_parts$$1_ruleset_start$$=$limits$$[$i$$].substring(0,$dash_end$$);$dash_end$$=$limits$$[$i$$].substring($dash_end$$+1);if($arg$$>=parseInt($limit$$1_parts$$1_ruleset_start$$,10)&&$arg$$<=parseInt($dash_end$$,10)){$result$$=new IString($strings$$[$i$$]);$i$$=$limits$$.length}}else if($arg$$===parseInt($limits$$[$i$$],10)){$result$$=new IString($strings$$[$i$$]);
$i$$=$limits$$.length}}}break;case "boolean":if($limits$$[$i$$]==="true"&&$argIndex$$===true){$result$$=new IString($strings$$[$i$$]);$i$$=$limits$$.length}else if($limits$$[$i$$]==="false"&&$argIndex$$===false){$result$$=new IString($strings$$[$i$$]);$i$$=$limits$$.length}break;case "string":if(RegExp($limits$$[$i$$],"i").test($argIndex$$)){$result$$=new IString($strings$$[$i$$]);$i$$=$limits$$.length}break;case "object":throw"syntax error: fmtChoice parameter for the argument index cannot be an object";
}$result$$||($result$$=$defaultCase$$||new IString(""));$result$$=$result$$.format($params$$);return $result$$.toString()},toString:function $IString$$toString$(){return this.str.toString()},valueOf:function $IString$$valueOf$(){return this.str.valueOf()},charAt:function $IString$$charAt$($index$$){return new IString(this.str.charAt($index$$))},charCodeAt:function $IString$$charCodeAt$($index$$){return this.str.charCodeAt($index$$)},concat:function $IString$$concat$($strings$$){return new IString(this.str.concat($strings$$))},
indexOf:function $IString$$indexOf$($searchValue$$,$start$$){return this.str.indexOf($searchValue$$,$start$$)},lastIndexOf:function $IString$$lastIndexOf$($searchValue$$,$start$$){return this.str.lastIndexOf($searchValue$$,$start$$)},match:function $IString$$match$($regexp$$){return this.str.match($regexp$$)},replace:function $IString$$replace$($searchValue$$,$newValue$$){return new IString(this.str.replace($searchValue$$,$newValue$$))},search:function $IString$$search$($regexp$$){return this.str.search($regexp$$)},
slice:function $IString$$slice$($start$$,$end$$){return new IString(this.str.slice($start$$,$end$$))},split:function $IString$$split$($separator$$,$limit$$){return this.str.split($separator$$,$limit$$)},substr:function $IString$$substr$($start$$,$length$$){var $plat$$=ilib._getPlatform();if($plat$$==="qt"||$plat$$==="rhino"||$plat$$==="trireme")typeof $length$$==="undefined"&&($length$$=this.str.length-$start$$);return new IString(this.str.substr($start$$,$length$$))},substring:function $IString$$substring$($from$$,
$to$$){return this.str.substring($from$$,$to$$)},toLowerCase:function $IString$$toLowerCase$(){return this.str.toLowerCase()},toUpperCase:function $IString$$toUpperCase$(){return this.str.toUpperCase()},_toCodePoint:function $IString$$_toCodePoint$($index$$){return IString.toCodePoint(this.str,$index$$)},forEach:function $IString$$forEach$($callback$$){if(typeof $callback$$==="function")for(var $it$$=this.charIterator();$it$$.hasNext();)$callback$$($it$$.next())},forEachCodePoint:function $IString$$forEachCodePoint$($callback$$){if(typeof $callback$$===
"function")for(var $it$$=this.iterator();$it$$.hasNext();)$callback$$($it$$.next())},iterator:function $IString$$iterator$(){return new function _iterator($istring$$){this.index=0;this.hasNext=function $this$hasNext$(){return this.index<$istring$$.str.length};this.next=function $this$next$(){if(this.index<$istring$$.str.length){var $num$$=$istring$$._toCodePoint(this.index);this.index=this.index+($num$$>65535?2:1)}else $num$$=-1;return $num$$}}(this)},charIterator:function $IString$$charIterator$(){return new function _chiterator($istring$$){this.index=
0;this.hasNext=function $this$hasNext$(){return this.index<$istring$$.str.length};this.next=function $this$next$(){var $ch$$;if(this.index<$istring$$.str.length){$ch$$=$istring$$.str.charAt(this.index);if(IString._isSurrogate($ch$$)&&this.index+1<$istring$$.str.length&&IString._isSurrogate($istring$$.str.charAt(this.index+1))){this.index++;$ch$$=$ch$$+$istring$$.str.charAt(this.index)}this.index++}return $ch$$}}(this)},codePointAt:function $IString$$codePointAt$($count$$6_index$$){if($count$$6_index$$<
0)return-1;for(var $it$$=this.iterator(),$ch$$;$count$$6_index$$>=0&&$it$$.hasNext();$count$$6_index$$--)$ch$$=$it$$.next();return $count$$6_index$$<0?$ch$$:-1},setLocale:function $IString$$setLocale$($locale$$,$sync$$,$loadParams$$,$onLoad$$){if(typeof $locale$$==="object")this.locale=$locale$$;else{this.localeSpec=$locale$$;this.locale=new Locale($locale$$)}IString.loadPlurals(typeof $sync$$!=="undefined"?$sync$$:true,this.locale,$loadParams$$,$onLoad$$)},getLocale:function $IString$$getLocale$(){return(this.locale?
this.locale.getSpec():this.localeSpec)||ilib.getLocale()},codePointLength:function $IString$$codePointLength$(){if(this.cpLength===-1){var $it$$=this.iterator();for(this.cpLength=0;$it$$.hasNext();){this.cpLength++;$it$$.next()}}return this.cpLength}};var Calendar=function $Calendar$(){};Calendar._constructors={};
Calendar.prototype={getType:function $Calendar$$getType$(){throw"Cannot call methods of abstract class Calendar";},getNumMonths:function $Calendar$$getNumMonths$(){throw"Cannot call methods of abstract class Calendar";},getMonLength:function $Calendar$$getMonLength$(){throw"Cannot call methods of abstract class Calendar";},isLeapYear:function $Calendar$$isLeapYear$(){throw"Cannot call methods of abstract class Calendar";}};
var CalendarFactory=function $CalendarFactory$($options$$){var $locale$$,$type$$,$sync$$=true,$instance$$;if($options$$){$options$$.locale&&($locale$$=typeof $options$$.locale==="string"?new Locale($options$$.locale):$options$$.locale);$type$$=$options$$.type||$options$$.calendar;if(typeof $options$$.sync==="boolean")$sync$$=$options$$.sync}$locale$$||($locale$$=new Locale);$type$$?$instance$$=CalendarFactory._init($type$$,$options$$):new LocaleInfo($locale$$,{sync:$sync$$,loadParams:$options$$&&
$options$$.loadParams,onLoad:ilib.bind(this,function($info$$){$type$$=$info$$.getCalendar();$instance$$=CalendarFactory._init($type$$,$options$$);if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad($instance$$)})});return $instance$$};CalendarFactory._dynMap={coptic:"Coptic",ethiopic:"Ethiopic",gregorian:"Gregorian",han:"Han",hebrew:"Hebrew",islamic:"Islamic",julian:"Julian",persian:"Persian","persian-algo":"PersianAlgo",thaisolar:"ThaiSolar"};
CalendarFactory._dynLoadCalendar=function $CalendarFactory$_dynLoadCalendar$($name$$){if(!Calendar._constructors[$name$$]){var $entry$$=CalendarFactory._dynMap[$name$$];$entry$$&&(Calendar._constructors[$name$$]=require("./"+$entry$$+"Cal.js"))}return Calendar._constructors[$name$$]};CalendarFactory._init=function $CalendarFactory$_init$($type$$,$options$$){var $cons$$;ilib.isDynCode()&&CalendarFactory._dynLoadCalendar($type$$);return($cons$$=Calendar._constructors[$type$$])&&new $cons$$($options$$)};
CalendarFactory.getCalendars=function $CalendarFactory$getCalendars$(){var $arr$$=[],$c$$;if(ilib.isDynCode())for($c$$ in CalendarFactory._dynMap)CalendarFactory._dynLoadCalendar($c$$);for($c$$ in Calendar._constructors)$c$$&&Calendar._constructors[$c$$]&&$arr$$.push($c$$);return $arr$$};var GregorianCal=function $GregorianCal$($options$$){if(!$options$$||!$options$$.noinstance)this.type="gregorian"};GregorianCal.monthLengths=[31,28,31,30,31,30,31,31,30,31,30,31];
GregorianCal.prototype.getNumMonths=function $GregorianCal$$getNumMonths$(){return 12};GregorianCal.prototype.getMonLength=function $GregorianCal$$getMonLength$($month$$,$year$$){return $month$$!==2||!this.isLeapYear($year$$)?GregorianCal.monthLengths[$month$$-1]:29};
GregorianCal.prototype.isLeapYear=function $GregorianCal$$isLeapYear$($y$$35_year$$){var $y$$35_year$$=typeof $y$$35_year$$==="number"?$y$$35_year$$:$y$$35_year$$.getYears(),$centuries$$=MathUtils.mod($y$$35_year$$,400);return MathUtils.mod($y$$35_year$$,4)===0&&$centuries$$!==100&&$centuries$$!==200&&$centuries$$!==300};GregorianCal.prototype.getType=function $GregorianCal$$getType$(){return this.type};GregorianCal.prototype.newDateInstance=function $GregorianCal$$newDateInstance$($options$$){return new GregorianDate($options$$)};
Calendar._constructors.gregorian=GregorianCal;var JulianDay=function $JulianDay$($num$$){this.jd=$num$$;this.days=Math.floor(this.jd);this.frac=$num$$-this.days};
JulianDay.prototype={getDays:function $JulianDay$$getDays$(){return this.days},setDays:function $JulianDay$$setDays$($days$$){this.days=Math.floor($days$$);this.jd=this.days+this.frac},getDayFraction:function $JulianDay$$getDayFraction$(){return this.frac},setDayFraction:function $JulianDay$$setDayFraction$($fraction$$){this.frac=$fraction$$-Math.floor($fraction$$);this.jd=this.days+this.frac},getDate:function $JulianDay$$getDate$(){return this.jd},setDate:function $JulianDay$$setDate$($num$$){this.jd=
$num$$},addDate:function $JulianDay$$addDate$($offset$$){if(typeof $offset$$==="number"){this.jd=this.jd+$offset$$;this.days=Math.floor(this.jd);this.frac=this.jd-this.days}}};
var RataDie=function $RataDie$($date$$2_params$$){if($date$$2_params$$)if(typeof $date$$2_params$$.date!=="undefined"){$date$$2_params$$=$date$$2_params$$.date;JSUtils.isDate($date$$2_params$$)||($date$$2_params$$=new Date($date$$2_params$$));this._setTime($date$$2_params$$.getTime())}else if(typeof $date$$2_params$$.unixtime!=="undefined")this._setTime(parseInt($date$$2_params$$.unixtime,10));else if(typeof $date$$2_params$$.julianday!=="undefined")this._setJulianDay(parseFloat($date$$2_params$$.julianday));
else if($date$$2_params$$.year||$date$$2_params$$.month||$date$$2_params$$.day||$date$$2_params$$.hour||$date$$2_params$$.minute||$date$$2_params$$.second||$date$$2_params$$.millisecond||$date$$2_params$$.parts||$date$$2_params$$.cycle)this._setDateComponents($date$$2_params$$);else if(typeof $date$$2_params$$.rd!=="undefined")this.rd=typeof $date$$2_params$$.rd==="object"&&$date$$2_params$$.rd instanceof RataDie?$date$$2_params$$.rd.rd:$date$$2_params$$.rd;typeof this.rd==="undefined"&&this._setTime((new Date).getTime())};
RataDie.gregorianEpoch=1721424.5;
RataDie.prototype={epoch:RataDie.gregorianEpoch,_setTime:function $RataDie$$_setTime$($millis$$){this._setJulianDay(2440587.5+$millis$$/864E5)},_setJulianDay:function $RataDie$$_setJulianDay$($date$$){$date$$=typeof $date$$==="number"?new JulianDay($date$$):$date$$;this.rd=MathUtils.halfup(($date$$.getDate()-this.epoch)*864E5)/864E5},_onOrBefore:function $RataDie$$_onOrBefore$($rd$$,$dayOfWeek$$){return $rd$$-MathUtils.mod(Math.floor($rd$$)-$dayOfWeek$$-2,7)},onOrBefore:function $RataDie$$onOrBefore$($dayOfWeek$$,$offset$$){$offset$$=
$offset$$||0;return this._onOrBefore(this.rd+$offset$$,$dayOfWeek$$)-$offset$$},onOrAfter:function $RataDie$$onOrAfter$($dayOfWeek$$,$offset$$){$offset$$=$offset$$||0;return this._onOrBefore(this.rd+6+$offset$$,$dayOfWeek$$)-$offset$$},before:function $RataDie$$before$($dayOfWeek$$,$offset$$){$offset$$=$offset$$||0;return this._onOrBefore(this.rd-1+$offset$$,$dayOfWeek$$)-$offset$$},after:function $RataDie$$after$($dayOfWeek$$,$offset$$){$offset$$=$offset$$||0;return this._onOrBefore(this.rd+7+$offset$$,
$dayOfWeek$$)-$offset$$},getTime:function $RataDie$$getTime$(){var $jd$$=this.getJulianDay();return $jd$$<2440587.5||$jd$$>2465442.634803241?-1:Math.round(($jd$$-2440587.5)*864E5)},getTimeExtended:function $RataDie$$getTimeExtended$(){var $jd$$=this.getJulianDay();return $jd$$<-9.75594125E7||$jd$$>1.024405875E8?NaN:Math.round(($jd$$-2440587.5)*864E5)},getJulianDay:function $RataDie$$getJulianDay$(){return this.rd+this.epoch},getRataDie:function $RataDie$$getRataDie$(){return this.rd}};
var GregRataDie=function $GregRataDie$($params$$){this.cal=$params$$&&$params$$.cal||new GregorianCal;this.rd=void 0;RataDie.call(this,$params$$)};GregRataDie.prototype=new RataDie;GregRataDie.prototype.parent=RataDie;GregRataDie.prototype.constructor=GregRataDie;GregRataDie.cumMonthLengths=[0,31,59,90,120,151,181,212,243,273,304,334,365];GregRataDie.cumMonthLengthsLeap=[0,31,60,91,121,152,182,213,244,274,305,335,366];
GregRataDie.prototype._setDateComponents=function $GregRataDie$$_setDateComponents$($date$$){var $dayInYear_year$$=parseInt($date$$.year,10)||0,$month$$=parseInt($date$$.month,10)||1,$day$$=parseInt($date$$.day,10)||1,$hour$$=parseInt($date$$.hour,10)||0,$minute$$=parseInt($date$$.minute,10)||0,$second$$=parseInt($date$$.second,10)||0,$date$$=parseInt($date$$.millisecond,10)||0,$years$$=365*($dayInYear_year$$-1)+Math.floor(($dayInYear_year$$-1)/4)-Math.floor(($dayInYear_year$$-1)/100)+Math.floor(($dayInYear_year$$-
1)/400),$dayInYear_year$$=($month$$>1?GregRataDie.cumMonthLengths[$month$$-1]:0)+$day$$+(GregorianCal.prototype.isLeapYear.call(this.cal,$dayInYear_year$$)&&$month$$>2?1:0);this.rd=$years$$+$dayInYear_year$$+($hour$$*36E5+$minute$$*6E4+$second$$*1E3+$date$$)/864E5};GregRataDie.prototype._onOrBefore=function $GregRataDie$$_onOrBefore$($rd$$,$dayOfWeek$$){return $rd$$-MathUtils.mod(Math.floor($rd$$)-$dayOfWeek$$,7)};
var TimeZone=function $TimeZone$($options$$){this.sync=true;this.locale=new Locale;this.isLocal=false;if($options$$){if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new Locale($options$$.locale):$options$$.locale;if($options$$.id){var $id$$=$options$$.id.toString();if($id$$==="local"){this.isLocal=true;var $jun1_now$$=new Date,$jan1$$=new Date($jun1_now$$.getFullYear(),0,1),$jun1_now$$=new Date($jun1_now$$.getFullYear(),5,1);this.offsetJan1=-$jan1$$.getTimezoneOffset();this.offsetJun1=
-$jun1_now$$.getTimezoneOffset();this.offset=Math.min(this.offsetJan1,this.offsetJun1)}this.id=$id$$}else if($options$$.offset){this.offset=typeof $options$$.offset==="string"?parseInt($options$$.offset,10):$options$$.offset;this.id=this.getDisplayName(void 0,void 0)}if(typeof $options$$.sync!=="undefined")this.sync=!!$options$$.sync;this.loadParams=$options$$.loadParams;this.onLoad=$options$$.onLoad}this.id?this._loadtzdata():new LocaleInfo(this.locale,{sync:this.sync,onLoad:ilib.bind(this,function($li$$){this.id=
$li$$.getTimeZone()||"Etc/UTC";this._loadtzdata()})})};TimeZone.prototype._loadtzdata=function $TimeZone$$_loadtzdata$(){!ilib.data.zoneinfo[this.id]&&typeof this.offset==="undefined"?Utils.loadData({object:TimeZone,nonlocale:true,name:"zoneinfo/"+this.id+".json",sync:this.sync,loadParams:this.loadParams,callback:ilib.bind(this,function($tzdata$$){$tzdata$$&&!JSUtils.isEmpty($tzdata$$)&&(ilib.data.zoneinfo[this.id]=$tzdata$$);this._initZone()})}):this._initZone()};
TimeZone.prototype._initZone=function $TimeZone$$_initZone$(){this.zone=ilib.data.zoneinfo[this.id];if(!this.zone&&typeof this.offset==="undefined"){this.id="Etc/UTC";this.zone=ilib.data.zoneinfo[this.id]}this._calcDSTSavings();if(typeof this.offset==="undefined"&&this.zone.o){var $offsetParts$$=this._offsetStringToObj(this.zone.o);this.offset=(Math.abs($offsetParts$$.h||0)*60+($offsetParts$$.m||0))*MathUtils.signum($offsetParts$$.h||0)}if(this.onLoad&&typeof this.onLoad==="function")this.onLoad(this)};
TimeZone._marshallIds=function $TimeZone$_marshallIds$($country$$,$sync$$,$callback$$){var $tz$$,$ids$$=[];if($country$$)if(ilib.data.zoneinfo.zonetab){$ids$$=ilib.data.zoneinfo.zonetab[$country$$];typeof $callback$$==="function"&&$callback$$($ids$$)}else Utils.loadData({object:TimeZone,nonlocale:true,name:"zoneinfo/zonetab.json",sync:$sync$$,callback:ilib.bind(this,function($tzdata$$){if($tzdata$$)ilib.data.zoneinfo.zonetab=$tzdata$$;$ids$$=ilib.data.zoneinfo.zonetab[$country$$];typeof $callback$$===
"function"&&$callback$$($ids$$)})});else{$ids$$.push("local");for($tz$$ in ilib.data.timezones)ilib.data.timezones[$tz$$]&&$ids$$.push(ilib.data.timezones[$tz$$]);typeof $callback$$==="function"&&$callback$$($ids$$)}return $ids$$};
TimeZone.getAvailableIds=function $TimeZone$getAvailableIds$($country$$,$sync$$,$onLoad$$){var $tz$$,$ids$$=[];typeof $sync$$!=="boolean"&&($sync$$=true);if(ilib.data.timezones.length===0)if(typeof ilib._load!=="undefined"&&typeof ilib._load.listAvailableFiles==="function")ilib._load.listAvailableFiles($sync$$,function($hash$$){for(var $dir$$ in $hash$$){var $files$$=$hash$$[$dir$$];ilib.isArray($files$$)&&$files$$.forEach(function($filename$$){$filename$$&&$filename$$.match(/^zoneinfo/)&&ilib.data.timezones.push($filename$$.replace(/^zoneinfo\//,
"").replace(/\.json$/,""))})}$ids$$=TimeZone._marshallIds($country$$,$sync$$,$onLoad$$)});else{for($tz$$ in ilib.data.zoneinfo)ilib.data.zoneinfo[$tz$$]&&ilib.data.timezones.push($tz$$);$ids$$=TimeZone._marshallIds($country$$,$sync$$,$onLoad$$)}else $ids$$=TimeZone._marshallIds($country$$,$sync$$,$onLoad$$);return $ids$$};TimeZone.prototype.getId=function $TimeZone$$getId$(){return this.id.toString()};
TimeZone.prototype.getDisplayName=function $TimeZone$$getDisplayName$($date$$,$style$$){$style$$=this.isLocal||typeof this.zone==="undefined"?"rfc822":$style$$||"standard";switch($style$$){default:case "standard":if(this.zone.f&&this.zone.f!=="zzz"){if(this.zone.f.indexOf("{c}")!==-1){var $hour$$2_letter_str$$="",$hour$$2_letter_str$$=this.inDaylightTime($date$$)?this.zone.s&&this.zone.s.c:this.zone.e&&this.zone.e.c,$ret_temp$$=new IString(this.zone.f);return $ret_temp$$.format({c:$hour$$2_letter_str$$||
""})}return this.zone.f}$ret_temp$$="GMT"+this.zone.o;this.inDaylightTime($date$$)&&($ret_temp$$=$ret_temp$$+("+"+this.zone.s.v));return $ret_temp$$;case "rfc822":var $minute$$2_offset$$=this.getOffset($date$$),$ret_temp$$="UTC",$hour$$2_letter_str$$=$minute$$2_offset$$.h||0,$minute$$2_offset$$=$minute$$2_offset$$.m||0;if($hour$$2_letter_str$$!==0){$ret_temp$$=$ret_temp$$+($hour$$2_letter_str$$>0?"+":"-");Math.abs($hour$$2_letter_str$$)<10&&($ret_temp$$=$ret_temp$$+"0");$ret_temp$$=$ret_temp$$+($hour$$2_letter_str$$<
0?-$hour$$2_letter_str$$:$hour$$2_letter_str$$);$minute$$2_offset$$<10&&($ret_temp$$=$ret_temp$$+"0");$ret_temp$$=$ret_temp$$+$minute$$2_offset$$}return $ret_temp$$;case "long":if(this.zone.n){if(this.zone.n.indexOf("{c}")!==-1){$hour$$2_letter_str$$=this.inDaylightTime($date$$)?"Daylight":"Standard";$ret_temp$$=new IString(this.zone.n);return $ret_temp$$.format({c:$hour$$2_letter_str$$||""})}return this.zone.n}$ret_temp$$="GMT"+this.zone.o;this.inDaylightTime($date$$)&&($ret_temp$$=$ret_temp$$+("+"+
this.zone.s.v));return $ret_temp$$}};
TimeZone.prototype._offsetStringToObj=function $TimeZone$$_offsetStringToObj$($offsetParts$$1_str$$){var $offsetParts$$1_str$$=typeof $offsetParts$$1_str$$==="string"?$offsetParts$$1_str$$.split(":"):[],$ret$$={h:0},$temp$$;if($offsetParts$$1_str$$.length>0){$ret$$.h=parseInt($offsetParts$$1_str$$[0],10);if($offsetParts$$1_str$$.length>1){if($temp$$=parseInt($offsetParts$$1_str$$[1],10))$ret$$.m=$temp$$;if($offsetParts$$1_str$$.length>2)if($temp$$=parseInt($offsetParts$$1_str$$[2],10))$ret$$.s=$temp$$}}return $ret$$};
TimeZone.prototype.getOffset=function $TimeZone$$getOffset$($date$$6_hours_ret$$){if(!$date$$6_hours_ret$$)return this.getRawOffset();var $minutes_offset$$=this.getOffsetMillis($date$$6_hours_ret$$)/6E4,$date$$6_hours_ret$$=MathUtils.down($minutes_offset$$/60),$minutes_offset$$=Math.abs($minutes_offset$$)-Math.abs($date$$6_hours_ret$$)*60,$date$$6_hours_ret$$={h:$date$$6_hours_ret$$};if($minutes_offset$$!=0)$date$$6_hours_ret$$.m=$minutes_offset$$;return $date$$6_hours_ret$$};
TimeZone.prototype.getOffsetMillis=function $TimeZone$$getOffsetMillis$($date$$){var $ret$$;if(this.isLocal&&typeof $date$$.dst==="undefined")return-(!$date$$?new Date:new Date($date$$.getTimeExtended())).getTimezoneOffset()*6E4;$ret$$=this.offset;$date$$&&this.inDaylightTime($date$$)&&($ret$$=$ret$$+this.dstSavings);return $ret$$*6E4};
TimeZone.prototype._getOffsetMillisWallTime=function $TimeZone$$_getOffsetMillisWallTime$($date$$){var $ret$$;$ret$$=this.offset;$date$$&&this.inDaylightTime($date$$,true)&&($ret$$=$ret$$+this.dstSavings);return $ret$$*6E4};
TimeZone.prototype.getOffsetStr=function $TimeZone$$getOffsetStr$($date$$9_offset$$){var $date$$9_offset$$=this.getOffset($date$$9_offset$$),$ret$$;$ret$$=$date$$9_offset$$.h;if(typeof $date$$9_offset$$.m!=="undefined"){$ret$$=$ret$$+(":"+$date$$9_offset$$.m);typeof $date$$9_offset$$.s!=="undefined"&&($ret$$=$ret$$+(":"+$date$$9_offset$$.s))}else $ret$$=$ret$$+":0";return $ret$$};
TimeZone.prototype.getRawOffset=function $TimeZone$$getRawOffset$(){var $hours$$1_ret$$=MathUtils.down(this.offset/60),$minutes$$=Math.abs(this.offset)-Math.abs($hours$$1_ret$$)*60,$hours$$1_ret$$={h:$hours$$1_ret$$};if($minutes$$!=0)$hours$$1_ret$$.m=$minutes$$;return $hours$$1_ret$$};TimeZone.prototype.getRawOffsetMillis=function $TimeZone$$getRawOffsetMillis$(){return this.offset*6E4};
TimeZone.prototype.getRawOffsetStr=function $TimeZone$$getRawOffsetStr$(){var $off$$=this.getRawOffset();return $off$$.h+":"+($off$$.m||"0")};TimeZone.prototype.getDSTSavings=function $TimeZone$$getDSTSavings$(){if(this.isLocal){var $savings$$=Math.abs(this.offsetJan1-this.offsetJun1),$hours$$=MathUtils.down($savings$$/60);return{h:$hours$$,m:$savings$$-$hours$$*60}}return this.zone&&this.zone.s?this._offsetStringToObj(this.zone.s.v):{h:0}};
TimeZone.prototype.getDSTSavingsStr=function $TimeZone$$getDSTSavingsStr$(){if(this.isLocal){var $savings$$=this.getDSTSavings();return $savings$$.h+":"+$savings$$.m}return typeof this.offset!=="undefined"&&this.zone&&this.zone.s?this.zone.s.v:"0:0"};
TimeZone.prototype._calcRuleStart=function $TimeZone$$_calcRuleStart$($rule$$,$year$$){var $type$$="=",$weekday$$=0,$cal_day$$2_i$$,$hour$$,$d$$1_minute$$=$hour$$=0,$second$$=0,$time$$;if(typeof $rule$$.j!=="undefined")$hour$$=new GregRataDie({julianday:$rule$$.j});else{if($rule$$.r.charAt(0)=="l"||$rule$$.r.charAt(0)=="f"){$cal_day$$2_i$$=CalendarFactory({type:"gregorian"});$type$$=$rule$$.r.charAt(0);$weekday$$=parseInt($rule$$.r.substring(1),10);$cal_day$$2_i$$=$type$$==="l"?$cal_day$$2_i$$.getMonLength($rule$$.m,
$year$$):1}else{$cal_day$$2_i$$=$rule$$.r.indexOf("<");$cal_day$$2_i$$==-1&&($cal_day$$2_i$$=$rule$$.r.indexOf(">"));if($cal_day$$2_i$$!=-1){$type$$=$rule$$.r.charAt($cal_day$$2_i$$);$weekday$$=parseInt($rule$$.r.substring(0,$cal_day$$2_i$$),10);$cal_day$$2_i$$=parseInt($rule$$.r.substring($cal_day$$2_i$$+1),10)}else $cal_day$$2_i$$=parseInt($rule$$.r,10)}if($rule$$.t){$time$$=$rule$$.t.split(":");$hour$$=parseInt($time$$[0],10);if($time$$.length>1){$d$$1_minute$$=parseInt($time$$[1],10);$time$$.length>
2&&($second$$=parseInt($time$$[2],10))}}$hour$$=new GregRataDie({year:$year$$,month:$rule$$.m,day:$cal_day$$2_i$$,hour:$hour$$,minute:$d$$1_minute$$,second:$second$$})}$d$$1_minute$$=$hour$$.getRataDie();switch($type$$){case "l":case "<":$d$$1_minute$$=$hour$$.onOrBefore($weekday$$);break;case "f":case ">":$d$$1_minute$$=$hour$$.onOrAfter($weekday$$)}return $d$$1_minute$$};
TimeZone.prototype._calcDSTSavings=function $TimeZone$$_calcDSTSavings$(){var $saveParts$$=this.getDSTSavings();this.dstSavings=(Math.abs($saveParts$$.h||0)*60+($saveParts$$.m||0))*MathUtils.signum($saveParts$$.h||0)};TimeZone.prototype._getDSTStartRule=function $TimeZone$$_getDSTStartRule$(){return this.zone.s};TimeZone.prototype._getDSTEndRule=function $TimeZone$$_getDSTEndRule$(){return this.zone.e};
TimeZone.prototype.inDaylightTime=function $TimeZone$$inDaylightTime$($date$$,$wallTime$$){var $d$$2_offset$$22_rd$$,$dst_startRd_startrule_time$$,$endRd_year$$;if(this.isLocal){$d$$2_offset$$22_rd$$=0;typeof $date$$.dst!=="undefined"&&!$date$$.dst&&($d$$2_offset$$22_rd$$=this.dstSavings*6E4);$d$$2_offset$$22_rd$$=new Date($date$$?$date$$.getTimeExtended()+$d$$2_offset$$22_rd$$:void 0);$dst_startRd_startrule_time$$=Math.max(this.offsetJan1,this.offsetJun1);return-$d$$2_offset$$22_rd$$.getTimezoneOffset()===
$dst_startRd_startrule_time$$}if(!$date$$||!$date$$.cal||$date$$.cal.type!=="gregorian"){$dst_startRd_startrule_time$$=$date$$&&typeof $date$$.getTimeExtended==="function"?$date$$.getTimeExtended():void 0;$d$$2_offset$$22_rd$$=(new GregRataDie({unixtime:$dst_startRd_startrule_time$$})).getRataDie();$endRd_year$$=(new Date($dst_startRd_startrule_time$$)).getUTCFullYear()}else{$d$$2_offset$$22_rd$$=$date$$.rd.getRataDie();$endRd_year$$=$date$$.year}if(!this.useDaylightTime($endRd_year$$))return false;
$dst_startRd_startrule_time$$=this._getDSTStartRule($endRd_year$$);var $endrule$$=this._getDSTEndRule($endRd_year$$);$dst_startRd_startrule_time$$=this._calcRuleStart($dst_startRd_startrule_time$$,$endRd_year$$);$endRd_year$$=this._calcRuleStart($endrule$$,$endRd_year$$);if($wallTime$$)$dst_startRd_startrule_time$$=$dst_startRd_startrule_time$$+this.dstSavings/1440;else{$dst_startRd_startrule_time$$=$dst_startRd_startrule_time$$-this.offset/1440;$endRd_year$$=$endRd_year$$-(this.offset+this.dstSavings)/
1440}return $d$$2_offset$$22_rd$$<$endRd_year$$&&$endRd_year$$-$d$$2_offset$$22_rd$$<=this.dstSavings/1440&&typeof $date$$.dst==="boolean"?$date$$.dst:$dst_startRd_startrule_time$$<$endRd_year$$?$d$$2_offset$$22_rd$$>=$dst_startRd_startrule_time$$&&$d$$2_offset$$22_rd$$<$endRd_year$$?true:false:$d$$2_offset$$22_rd$$>=$dst_startRd_startrule_time$$||$d$$2_offset$$22_rd$$<$endRd_year$$?true:false};
TimeZone.prototype.useDaylightTime=function $TimeZone$$useDaylightTime$(){return this.isLocal&&this.offsetJan1!==this.offsetJun1||typeof this.zone!=="undefined"&&typeof this.zone.s!=="undefined"&&typeof this.zone.e!=="undefined"};TimeZone.prototype.getCountry=function $TimeZone$$getCountry$(){return this.zone.c};
var SearchUtils={bsearch:function($target$$,$arr$$,$comparator_value$$){if(typeof $arr$$==="undefined"||!$arr$$||typeof $target$$==="undefined")return-1;for(var $high$$=$arr$$.length-1,$low$$=0,$mid$$=0,$cmp$$=$comparator_value$$||SearchUtils.bsearch.numbers;$low$$<=$high$$;){$mid$$=Math.floor(($high$$+$low$$)/2);$comparator_value$$=$cmp$$($arr$$[$mid$$],$target$$);if($comparator_value$$>0)$high$$=$mid$$-1;else if($comparator_value$$<0)$low$$=$mid$$+1;else return $mid$$}return $low$$}};
SearchUtils.bsearch.numbers=function $SearchUtils$bsearch$numbers$($element$$,$target$$){return $element$$-$target$$};
SearchUtils.bisectionSearch=function $SearchUtils$bisectionSearch$($target$$,$low$$,$high$$,$precision_value$$,$func$$){if(typeof $target$$!=="number"||typeof $low$$!=="number"||typeof $high$$!=="number"||typeof $func$$!=="function")return NaN;var $mid$$=0,$pre$$=$precision_value$$>0?$precision_value$$:1.0E-13;do{$mid$$=($high$$+$low$$)/2;$precision_value$$=$func$$($mid$$);$precision_value$$>$target$$?$high$$=$mid$$:$precision_value$$<$target$$&&($low$$=$mid$$)}while($high$$-$low$$>$pre$$);return $mid$$};
var GregorianDate=function $GregorianDate$($params$$){this.cal=new GregorianCal;this.timezone="local";if($params$$){if(typeof $params$$.noinstance==="boolean"&&$params$$.noinstance)return;if($params$$.locale){this.locale=typeof $params$$.locale==="string"?new Locale($params$$.locale):$params$$.locale;this.timezone=(new LocaleInfo(this.locale)).getTimeZone()}if($params$$.timezone)this.timezone=$params$$.timezone.toString();if($params$$.year||$params$$.month||$params$$.day||$params$$.hour||$params$$.minute||
$params$$.second||$params$$.millisecond){this.year=parseInt($params$$.year,10)||0;this.month=parseInt($params$$.month,10)||1;this.day=parseInt($params$$.day,10)||1;this.hour=parseInt($params$$.hour,10)||0;this.minute=parseInt($params$$.minute,10)||0;this.second=parseInt($params$$.second,10)||0;this.millisecond=parseInt($params$$.millisecond,10)||0;if(typeof $params$$.dst==="boolean")this.dst=$params$$.dst;this.rd=this.newRd($params$$);this.offset=0;if(this.timezone==="local"&&typeof $params$$.dst===
"undefined")this.offset=-(new Date(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTimezoneOffset()/1440;else{if(!this.tz)this.tz=new TimeZone({id:this.timezone});this.offset=this.tz._getOffsetMillisWallTime(this)/864E5}if(this.offset!==0)this.rd=this.newRd({rd:this.rd.getRataDie()-this.offset})}}if(!this.rd){this.rd=this.newRd($params$$);this._calcDateComponents()}};GregorianDate.prototype=new IDate({noinstance:!0});GregorianDate.prototype.parent=IDate;
GregorianDate.prototype.constructor=GregorianDate;GregorianDate.prototype.newRd=function $GregorianDate$$newRd$($params$$){return new GregRataDie($params$$)};
GregorianDate._calcYear=function $GregorianDate$_calcYear$($rd$$){var $days400_years4$$,$days100_days4_years1$$,$year$$;$year$$=Math.floor(($rd$$-1)/146097);$days400_years4$$=MathUtils.mod($rd$$-1,146097);$rd$$=Math.floor($days400_years4$$/36524);$days100_days4_years1$$=MathUtils.mod($days400_years4$$,36524);$days400_years4$$=Math.floor($days100_days4_years1$$/1461);$days100_days4_years1$$=MathUtils.mod($days100_days4_years1$$,1461);$days100_days4_years1$$=Math.floor($days100_days4_years1$$/365);
$year$$=400*$year$$+100*$rd$$+4*$days400_years4$$+$days100_days4_years1$$;$rd$$!==4&&$days100_days4_years1$$!==4&&$year$$++;return $year$$};GregorianDate.prototype._calcYear=function $GregorianDate$$_calcYear$($rd$$){return GregorianDate._calcYear($rd$$)};
GregorianDate.prototype._calcDateComponents=function $GregorianDate$$_calcDateComponents$(){if(this.timezone==="local"&&this.rd.getRataDie()>=-99280837&&this.rd.getRataDie()<=100719163){var $d$$4_rd$$=new Date(this.rd.getTimeExtended());this.year=$d$$4_rd$$.getFullYear();this.month=$d$$4_rd$$.getMonth()+1;this.day=$d$$4_rd$$.getDate();this.hour=$d$$4_rd$$.getHours();this.minute=$d$$4_rd$$.getMinutes();this.second=$d$$4_rd$$.getSeconds();this.millisecond=$d$$4_rd$$.getMilliseconds();this.offset=-$d$$4_rd$$.getTimezoneOffset()/
1440}else{if(typeof this.offset==="undefined"){this.year=this._calcYear(this.rd.getRataDie());if(!this.tz)this.tz=new TimeZone({id:this.timezone});this.offset=this.tz.getOffsetMillis(this)/864E5}$d$$4_rd$$=this.rd.getRataDie();this.offset!==0&&($d$$4_rd$$=$d$$4_rd$$+this.offset);this.year=this._calcYear($d$$4_rd$$);var $cumulative_yearStartRd$$=this.newRd({year:this.year,month:1,day:1,cal:this.cal}),$d$$4_rd$$=$d$$4_rd$$-$cumulative_yearStartRd$$.getRataDie()+1,$cumulative_yearStartRd$$=GregorianCal.prototype.isLeapYear.call(this.cal,
this.year)?GregRataDie.cumMonthLengthsLeap:GregRataDie.cumMonthLengths;this.month=SearchUtils.bsearch(Math.floor($d$$4_rd$$),$cumulative_yearStartRd$$);$d$$4_rd$$=$d$$4_rd$$-$cumulative_yearStartRd$$[this.month-1];this.day=Math.floor($d$$4_rd$$);$d$$4_rd$$=$d$$4_rd$$-this.day;$d$$4_rd$$=Math.round($d$$4_rd$$*864E5);this.hour=Math.floor($d$$4_rd$$/36E5);$d$$4_rd$$=$d$$4_rd$$-this.hour*36E5;this.minute=Math.floor($d$$4_rd$$/6E4);$d$$4_rd$$=$d$$4_rd$$-this.minute*6E4;this.second=Math.floor($d$$4_rd$$/
1E3);$d$$4_rd$$=$d$$4_rd$$-this.second*1E3;this.millisecond=Math.floor($d$$4_rd$$)}};GregorianDate.prototype.getDayOfWeek=function $GregorianDate$$getDayOfWeek$(){var $rd$$=Math.floor(this.rd.getRataDie()+(this.offset||0));return MathUtils.mod($rd$$,7)};GregorianDate.prototype.getDayOfYear=function $GregorianDate$$getDayOfYear$(){return(this.cal.isLeapYear(this.year)?GregRataDie.cumMonthLengthsLeap:GregRataDie.cumMonthLengths)[this.month-1]+this.day};
GregorianDate.prototype.getEra=function $GregorianDate$$getEra$(){return this.year<1?-1:1};GregorianDate.prototype.getCalendar=function $GregorianDate$$getCalendar$(){return"gregorian"};IDate._constructors.gregorian=GregorianDate;
var DateFactory=function $DateFactory$($options$$){var $locale$$,$type$$,$sync$$=true,$obj$$;if($options$$){$options$$.locale&&($locale$$=typeof $options$$.locale==="string"?new Locale($options$$.locale):$options$$.locale);$type$$=$options$$.type||$options$$.calendar;if(typeof $options$$.sync==="boolean")$sync$$=$options$$.sync}$locale$$||($locale$$=new Locale);$type$$?$obj$$=DateFactory._init($type$$,$options$$):new LocaleInfo($locale$$,{sync:$sync$$,loadParams:$options$$&&$options$$.loadParams,
onLoad:ilib.bind(this,function($info$$){$type$$=$info$$.getCalendar();$obj$$=DateFactory._init($type$$,$options$$);if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad($obj$$)})});return $obj$$};DateFactory._dynMap={coptic:"Coptic",ethiopic:"Ethiopic",gregorian:"Gregorian",han:"Han",hebrew:"Hebrew",islamic:"Islamic",julian:"Julian",persian:"Persian","persian-algo":"PersianAlgo",thaisolar:"ThaiSolar"};
DateFactory._dynLoadDate=function $DateFactory$_dynLoadDate$($name$$){if(!IDate._constructors[$name$$]){var $entry$$=DateFactory._dynMap[$name$$];$entry$$&&(IDate._constructors[$name$$]=require("./"+$entry$$+"Date.js"))}return IDate._constructors[$name$$]};DateFactory._init=function $DateFactory$_init$($type$$,$options$$){var $cons$$;if(ilib.isDynCode()){DateFactory._dynLoadDate($type$$);CalendarFactory._dynLoadCalendar($type$$)}return($cons$$=IDate._constructors[$type$$])&&new $cons$$($options$$)};
DateFactory._dateToIlib=function $DateFactory$_dateToIlib$($inDate$$,$timezone$$,$locale$$){if(typeof $inDate$$==="undefined"||$inDate$$===null)return $inDate$$;if($inDate$$ instanceof IDate)return $inDate$$;if(JSUtils.isDate($inDate$$))return DateFactory({unixtime:$inDate$$.getTime(),timezone:$timezone$$,locale:$locale$$});if($inDate$$ instanceof JulianDay)return DateFactory({jd:$inDate$$,timezone:$timezone$$,locale:$locale$$});if(typeof $inDate$$==="number")return DateFactory({unixtime:$inDate$$,
timezone:$timezone$$,locale:$locale$$});if(typeof $inDate$$==="object")return DateFactory($inDate$$);typeof $inDate$$==="string"&&($inDate$$=new Date($inDate$$));return DateFactory({unixtime:$inDate$$.getTime(),timezone:$timezone$$,locale:$locale$$})};
var ResBundle=function $ResBundle$($options$$){var $lookupLocale$$,$spec$$;this.locale=new Locale;this.baseName="strings";this.type="text";this.loadParams={};this.missing="source";this.sync=true;if($options$$){if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new Locale($options$$.locale):$options$$.locale;if($options$$.name)this.baseName=$options$$.name;if($options$$.type)this.type=$options$$.type;this.lengthen=$options$$.lengthen||false;if(typeof $options$$.sync!=="undefined")this.sync=
$options$$.sync==true;if(typeof $options$$.loadParams!=="undefined")this.loadParams=$options$$.loadParams;if(typeof $options$$.missing!=="undefined"&&($options$$.missing==="pseudo"||$options$$.missing==="empty"))this.missing=$options$$.missing}else $options$$={};this.map={};ResBundle[this.baseName]||(ResBundle[this.baseName]={});$lookupLocale$$=this.locale.isPseudo()?new Locale("en-US"):this.locale;Utils.loadData({object:ResBundle[this.baseName],locale:$lookupLocale$$,name:this.baseName+".json",sync:this.sync,
loadParams:this.loadParams,callback:ilib.bind(this,function($map$$){if(!$map$$){$map$$=ilib.data[this.baseName]||{};$spec$$=$lookupLocale$$.getSpec().replace(/-/g,"_");ResBundle[this.baseName].cache[$spec$$]=$map$$}this.map=$map$$;if(this.locale.isPseudo()){if(!ResBundle.pseudomap)ResBundle.pseudomap={};this._loadPseudo(this.locale,$options$$.onLoad)}else if(this.missing==="pseudo"){if(!ResBundle.pseudomap)ResBundle.pseudomap={};new LocaleInfo(this.locale,{sync:this.sync,loadParams:this.loadParams,
onLoad:ilib.bind(this,function($li$$){this._loadPseudo(new Locale("zxx","XX",void 0,$li$$.getDefaultScript()),$options$$.onLoad)})})}else if(typeof $options$$.onLoad==="function")$options$$.onLoad(this)})})};ResBundle.defaultPseudo=ilib.data.pseudomap||{a:"\u00e0",e:"\u00eb",i:"\u00ed",o:"\u00f5",u:"\u00fc",y:"\u00ff",A:"\u00c3",E:"\u00cb",I:"\u00cf",O:"\u00d8",U:"\u00da",Y:"\u0176"};
ResBundle.prototype={_loadPseudo:function $ResBundle$$_loadPseudo$($pseudoLocale$$,$onLoad$$){Utils.loadData({object:ResBundle.pseudomap,locale:$pseudoLocale$$,name:"pseudomap.json",sync:this.sync,loadParams:this.loadParams,callback:ilib.bind(this,function($map$$){if(!$map$$||JSUtils.isEmpty($map$$)){var $map$$=ResBundle.defaultPseudo,$spec$$=$pseudoLocale$$.getSpec().replace(/-/g,"_");ResBundle.pseudomap.cache[$spec$$]=$map$$}this.pseudomap=$map$$;typeof $onLoad$$==="function"&&$onLoad$$(this)})})},
getLocale:function $ResBundle$$getLocale$(){return this.locale},getName:function $ResBundle$$getName$(){return this.baseName},getType:function $ResBundle$$getType$(){return this.type},pseudo:function $ResBundle$$pseudo$($str$$){if($str$$){var $ret$$="",$i$$;for($i$$=0;$i$$<$str$$.length;$i$$++)if(this.type!=="raw"){if(this.type==="html"||this.type==="xml")if($str$$.charAt($i$$)==="<"){for($ret$$=$ret$$+$str$$.charAt($i$$++);$i$$<$str$$.length&&$str$$.charAt($i$$)!==">";)$ret$$=$ret$$+$str$$.charAt($i$$++);
$i$$<$str$$.length&&($ret$$=$ret$$+$str$$.charAt($i$$++))}else if($str$$.charAt($i$$)==="&"){for($ret$$=$ret$$+$str$$.charAt($i$$++);$i$$<$str$$.length&&$str$$.charAt($i$$)!==";"&&$str$$.charAt($i$$)!==" ";)$ret$$=$ret$$+$str$$.charAt($i$$++);$i$$<$str$$.length&&($ret$$=$ret$$+$str$$.charAt($i$$++))}if($i$$<$str$$.length)if($str$$.charAt($i$$)==="{"){for($ret$$=$ret$$+$str$$.charAt($i$$++);$i$$<$str$$.length&&$str$$.charAt($i$$)!=="}";)$ret$$=$ret$$+$str$$.charAt($i$$++);$i$$<$str$$.length&&($ret$$=
$ret$$+$str$$.charAt($i$$))}else $ret$$=$ret$$+(this.pseudomap[$str$$.charAt($i$$)]||$str$$.charAt($i$$))}else $ret$$=$ret$$+(this.pseudomap[$str$$.charAt($i$$)]||$str$$.charAt($i$$));if(this.lengthen)for($i$$=($ret$$.length<=20?Math.round($ret$$.length/2):$ret$$.length>20&&$ret$$.length<=40?Math.round($ret$$.length/3):Math.round($ret$$.length/5))-1;$i$$>=0;$i$$--)$ret$$=$ret$$+$i$$%10;if(this.locale.getScript()==="Hans"||this.locale.getScript()==="Hant"||this.locale.getScript()==="Hani"||this.locale.getScript()===
"Hrkt"||this.locale.getScript()==="Jpan"||this.locale.getScript()==="Hira"||this.locale.getScript()==="Kana")$ret$$=$ret$$.replace(/ /g,"");return $ret$$}},escapeXml:function $ResBundle$$escapeXml$($str$$){$str$$=$str$$.replace(/&/g,"&amp;");$str$$=$str$$.replace(/</g,"&lt;");return $str$$=$str$$.replace(/>/g,"&gt;")},unescapeXml:function $ResBundle$$unescapeXml$($str$$){$str$$=$str$$.replace(/&amp;/g,"&");$str$$=$str$$.replace(/&lt;/g,"<");return $str$$=$str$$.replace(/&gt;/g,">")},makeKey:function $ResBundle$$makeKey$($key$$13_source$$){$key$$13_source$$=
$key$$13_source$$.replace(/\s+/gm," ");return this.type==="xml"||this.type==="html"?this.unescapeXml($key$$13_source$$):$key$$13_source$$},getString:function $ResBundle$$getString$($source$$,$key$$,$escapeMode_ret$$){if(!$source$$&&!$key$$)return new IString("");if(this.locale.isPseudo())$source$$=this.pseudo(($source$$?$source$$:this.map[$key$$])||$key$$);else var $keyName$$=$key$$||this.makeKey($source$$),$source$$=typeof this.map[$keyName$$]!=="undefined"?this.map[$keyName$$]:this.missing==="pseudo"?
this.pseudo($source$$||$key$$):this.missing==="empty"?"":$source$$;if($escapeMode_ret$$&&$escapeMode_ret$$!=="none"){if($escapeMode_ret$$=="default")$escapeMode_ret$$=this.type;if($escapeMode_ret$$==="xml"||$escapeMode_ret$$==="html")$source$$=this.escapeXml($source$$);else if($escapeMode_ret$$=="js"||$escapeMode_ret$$==="attribute")$source$$=$source$$.replace(/'/g,"\\'").replace(/"/g,'\\"')}if($source$$!==void 0){$escapeMode_ret$$=new IString($source$$);$escapeMode_ret$$.setLocale(this.locale.getSpec(),
true,this.loadParams);return $escapeMode_ret$$}},getStringJS:function $ResBundle$$getStringJS$($source$$,$key$$,$escapeMode$$){return this.getString($source$$,$key$$,$escapeMode$$).toString()},containsKey:function $ResBundle$$containsKey$($source$$,$key$$){return typeof $source$$==="undefined"&&typeof $key$$==="undefined"?false:typeof this.map[$key$$||this.makeKey($source$$)]!=="undefined"},getResObj:function $ResBundle$$getResObj$(){return this.map}};
var DateFmt=function $DateFmt$($options$$){var $arr$$,$i$$,$bad$$,$sync$$=true,$loadParams$$=void 0;this.locale=new Locale;this.type="date";this.length="s";this.dateComponents="dmy";this.timeComponents="ahm";this.meridiems="default";if($options$$){if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new Locale($options$$.locale):$options$$.locale;if($options$$.type&&($options$$.type==="date"||$options$$.type==="time"||$options$$.type==="datetime"))this.type=$options$$.type;if($options$$.calendar)this.calName=
$options$$.calendar;if($options$$.length&&($options$$.length==="short"||$options$$.length==="medium"||$options$$.length==="long"||$options$$.length==="full"))this.length=$options$$.length.charAt(0);if($options$$.date){$arr$$=$options$$.date.split("");$arr$$.sort(function($left$$,$right$$){return $left$$<$right$$?-1:$right$$<$left$$?1:0});$bad$$=false;for($i$$=0;$i$$<$arr$$.length;$i$$++)if($arr$$[$i$$]!=="d"&&$arr$$[$i$$]!=="m"&&$arr$$[$i$$]!=="y"&&$arr$$[$i$$]!=="w"&&$arr$$[$i$$]!=="n"){$bad$$=true;
break}if(!$bad$$)this.dateComponents=$arr$$.join("")}if($options$$.time){$arr$$=$options$$.time.split("");$arr$$.sort(function($left$$,$right$$){return $left$$<$right$$?-1:$right$$<$left$$?1:0});this.badTime=false;for($i$$=0;$i$$<$arr$$.length;$i$$++)if($arr$$[$i$$]!=="h"&&$arr$$[$i$$]!=="m"&&$arr$$[$i$$]!=="s"&&$arr$$[$i$$]!=="a"&&$arr$$[$i$$]!=="z"){this.badTime=true;break}if(!this.badTime)this.timeComponents=$arr$$.join("")}if($options$$.clock&&($options$$.clock==="12"||$options$$.clock==="24"))this.clock=
$options$$.clock;if($options$$.template){this.timeComponents=this.dateComponents=this.length=this.type="";this.template=$options$$.template}if($options$$.timezone)this.tz=$options$$.timezone instanceof TimeZone?$options$$.timezone:new TimeZone({locale:this.locale,id:$options$$.timezone});else if($options$$.locale)this.tz=new TimeZone({locale:this.locale});if(typeof $options$$.useNative==="boolean")this.useNative=$options$$.useNative;if(typeof $options$$.meridiems!=="undefined"&&($options$$.meridiems===
"chinese"||$options$$.meridiems==="gregorian"||$options$$.meridiems==="ethiopic"))this.meridiems=$options$$.meridiems;typeof $options$$.sync!=="undefined"&&($sync$$=$options$$.sync===true);$loadParams$$=$options$$.loadParams}if(!DateFmt.cache)DateFmt.cache={};new LocaleInfo(this.locale,{sync:$sync$$,loadParams:$loadParams$$,onLoad:ilib.bind(this,function($li$$){this.locinfo=$li$$;this.calName=this.calName||this.locinfo.getCalendar()||"gregorian";ilib.isDynCode()&&DateFactory._dynLoadDate(this.calName);
this.cal=CalendarFactory({type:this.calName});if(!this.cal)this.cal=new GregorianCal;if(this.meridiems==="default")this.meridiems=$li$$.getMeridiemsStyle();new ResBundle({locale:this.locale,name:"sysres",sync:$sync$$,loadParams:$loadParams$$,onLoad:ilib.bind(this,function($rb$$){this.sysres=$rb$$;if(this.template){this._massageTemplate();if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)}else Utils.loadData({object:DateFmt,locale:this.locale,name:"dateformats.json",sync:$sync$$,
loadParams:$loadParams$$,callback:ilib.bind(this,function($formats$$){if(!$formats$$){var $formats$$=ilib.data.dateformats||DateFmt.defaultFmt,$spec$$=this.locale.getSpec().replace(/-/g,"_");DateFmt.cache[$spec$$]=$formats$$}if(typeof this.clock==="undefined")this.clock=this.locinfo.getClock();this._initTemplate($formats$$);this._massageTemplate();if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})})})})})})};DateFmt.lenmap={s:"short",m:"medium",l:"long",f:"full"};
DateFmt.zeros="0000";
DateFmt.defaultFmt={gregorian:{order:"{date} {time}",date:{dmwy:"EEE d/MM/yyyy",dmy:"d/MM/yyyy",dmw:"EEE d/MM",dm:"d/MM",my:"MM/yyyy",dw:"EEE d",d:"dd",m:"MM",y:"yyyy",n:"NN",w:"EEE"},time:{12:"h:mm:ssa",24:"H:mm:ss"},range:{c00:"{st} - {et}, {sd}/{sm}/{sy}",c01:"{sd}/{sm} {st} - {ed}/{em} {et}, {sy}",c02:"{sd}/{sm} {st} - {ed}/{em} {et}, {sy}",c03:"{sd}/{sm}/{sy} {st} - {ed}/{em}/{ey} {et}",c10:"{sd}-{ed}/{sm}/{sy}",c11:"{sd}/{sm} - {ed}/{em} {sy}",c12:"{sd}/{sm}/{sy} - {ed}/{em}/{ey}",c20:"{sm}/{sy} - {em}/{ey}",
c30:"{sy} - {ey}"}},islamic:"gregorian",hebrew:"gregorian",julian:"gregorian",buddhist:"gregorian",persian:"gregorian","persian-algo":"gregorian",han:"gregorian"};DateFmt.monthNameLenMap={"short":"N",medium:"NN","long":"MMM",full:"MMMM"};DateFmt.weekDayLenMap={"short":"E",medium:"EE","long":"EEE",full:"EEEE"};
DateFmt.getMeridiemsRange=function $DateFmt$getMeridiemsRange$($options$$){var $options$$=$options$$||{},$args$$={};if($options$$.locale)$args$$.locale=$options$$.locale;if($options$$.meridiems)$args$$.meridiems=$options$$.meridiems;return(new DateFmt($args$$)).getMeridiemsRange()};
DateFmt.prototype={_initTemplate:function $DateFmt$$_initTemplate$($formats$$){if($formats$$[this.calName]){this.formats=$formats$$[this.calName];if(typeof this.formats==="string")this.formats=$formats$$[this.formats];this.template="";switch(this.type){case "datetime":this.template=this.formats&&this._getLengthFormat(this.formats.order,this.length)||"{date} {time}";this.template=this.template.replace("{date}",this._getFormat(this.formats.date,this.dateComponents,this.length)||"");this.template=this.template.replace("{time}",
this._getFormat(this.formats.time[this.clock],this.timeComponents,this.length)||"");break;case "date":this.template=this._getFormat(this.formats.date,this.dateComponents,this.length);break;case "time":this.template=this._getFormat(this.formats.time[this.clock],this.timeComponents,this.length)}}else throw"No formats available for calendar "+this.calName+" in locale "+this.locale.toString();},_massageTemplate:function $DateFmt$$_massageTemplate$(){var $digits_i$$;if(this.clock&&this.template){var $temp$$=
"";switch(this.clock){case "24":for($digits_i$$=0;$digits_i$$<this.template.length;$digits_i$$++)if(this.template.charAt($digits_i$$)=="'"){for($temp$$=$temp$$+this.template.charAt($digits_i$$++);$digits_i$$<this.template.length&&this.template.charAt($digits_i$$)!=="'";)$temp$$=$temp$$+this.template.charAt($digits_i$$++);$digits_i$$<this.template.length&&($temp$$=$temp$$+this.template.charAt($digits_i$$))}else $temp$$=this.template.charAt($digits_i$$)=="K"?$temp$$+"k":this.template.charAt($digits_i$$)==
"h"?$temp$$+"H":$temp$$+this.template.charAt($digits_i$$);this.template=$temp$$;break;case "12":for($digits_i$$=0;$digits_i$$<this.template.length;$digits_i$$++)if(this.template.charAt($digits_i$$)=="'"){for($temp$$=$temp$$+this.template.charAt($digits_i$$++);$digits_i$$<this.template.length&&this.template.charAt($digits_i$$)!=="'";)$temp$$=$temp$$+this.template.charAt($digits_i$$++);$digits_i$$<this.template.length&&($temp$$=$temp$$+this.template.charAt($digits_i$$))}else $temp$$=this.template.charAt($digits_i$$)==
"k"?$temp$$+"K":this.template.charAt($digits_i$$)=="H"?$temp$$+"h":$temp$$+this.template.charAt($digits_i$$);this.template=$temp$$}}this.templateArr=this._tokenize(this.template);if(typeof this.useNative==="boolean"){if(this.useNative)if($digits_i$$=this.locinfo.getNativeDigits())this.digits=$digits_i$$}else if(this.locinfo.getDigitsStyle()==="native")if($digits_i$$=this.locinfo.getNativeDigits()){this.useNative=true;this.digits=$digits_i$$}},_tokenize:function $DateFmt$$_tokenize$($template$$){var $i$$=
0,$start$$,$ch$$,$letter$$,$arr$$=[];if($template$$)for(;$i$$<$template$$.length;){$ch$$=$template$$.charAt($i$$);$start$$=$i$$;if($ch$$==="'"){for($i$$++;$i$$<$template$$.length&&$template$$.charAt($i$$)!=="'";)$i$$++;$i$$<$template$$.length&&$i$$++}else if($ch$$>="a"&&$ch$$<="z"||$ch$$>="A"&&$ch$$<="Z")for($letter$$=$template$$.charAt($i$$);$i$$<$template$$.length&&$ch$$===$letter$$;)$ch$$=$template$$.charAt(++$i$$);else for(;$i$$<$template$$.length&&$ch$$!=="'"&&($ch$$<"a"||$ch$$>"z")&&($ch$$<
"A"||$ch$$>"Z");)$ch$$=$template$$.charAt(++$i$$);$arr$$.push($template$$.substring($start$$,$i$$))}return $arr$$},_getFormat:function getFormat($obj$$,$components$$,$length$$){if(typeof $components$$!=="undefined"&&$obj$$&&$obj$$[$components$$])return this._getLengthFormat($obj$$[$components$$],$length$$)},_getLengthFormat:function getLengthFormat($obj$$,$length$$){if(typeof $obj$$==="string")return $obj$$;if($obj$$[$length$$])return $obj$$[$length$$]},getLocale:function $DateFmt$$getLocale$(){return this.locale},
getTemplate:function $DateFmt$$getTemplate$(){return this.template},getType:function $DateFmt$$getType$(){return this.type},getCalendar:function $DateFmt$$getCalendar$(){return this.cal.getType()},getLength:function $DateFmt$$getLength$(){return DateFmt.lenmap[this.length]||""},getDateComponents:function $DateFmt$$getDateComponents$(){return this.dateComponents||""},getTimeComponents:function $DateFmt$$getTimeComponents$(){return this.timeComponents||""},getTimeZone:function $DateFmt$$getTimeZone$(){if(!this.tz)this.tz=
new TimeZone({id:ilib.getTimeZone()});return this.tz},getClock:function $DateFmt$$getClock$(){return this.clock||this.locinfo.getClock()},getMeridiemsRange:function $DateFmt$$getMeridiemsRange$(){var $_getSysString_result$$;$_getSysString_result$$=function $$_getSysString_result$$$($key$$){return(this.sysres.getString(void 0,$key$$+"-"+this.calName)||this.sysres.getString(void 0,$key$$)).toString()};switch(this.meridiems){case "chinese":$_getSysString_result$$=[{name:$_getSysString_result$$.call(this,
"azh0"),start:"00:00",end:"05:59"},{name:$_getSysString_result$$.call(this,"azh1"),start:"06:00",end:"08:59"},{name:$_getSysString_result$$.call(this,"azh2"),start:"09:00",end:"11:59"},{name:$_getSysString_result$$.call(this,"azh3"),start:"12:00",end:"12:59"},{name:$_getSysString_result$$.call(this,"azh4"),start:"13:00",end:"17:59"},{name:$_getSysString_result$$.call(this,"azh5"),start:"18:00",end:"20:59"},{name:$_getSysString_result$$.call(this,"azh6"),start:"21:00",end:"23:59"}];break;case "ethiopic":$_getSysString_result$$=
[{name:$_getSysString_result$$.call(this,"a0-ethiopic"),start:"00:00",end:"05:59"},{name:$_getSysString_result$$.call(this,"a1-ethiopic"),start:"06:00",end:"06:00"},{name:$_getSysString_result$$.call(this,"a2-ethiopic"),start:"06:01",end:"11:59"},{name:$_getSysString_result$$.call(this,"a3-ethiopic"),start:"12:00",end:"17:59"},{name:$_getSysString_result$$.call(this,"a4-ethiopic"),start:"18:00",end:"23:59"}];break;default:$_getSysString_result$$=[{name:$_getSysString_result$$.call(this,"a0"),start:"00:00",
end:"11:59"},{name:$_getSysString_result$$.call(this,"a1"),start:"12:00",end:"23:59"}]}return $_getSysString_result$$},_getTemplate:function $DateFmt$$_getTemplate$($prefix$$,$calendar$$){return $calendar$$!=="gregorian"?$prefix$$+"-"+$calendar$$:$prefix$$},getMonthsOfYear:function $DateFmt$$getMonthsOfYear$($monthCount_options$$){var $length$$15_template$$=$monthCount_options$$&&$monthCount_options$$.length||this.getLength(),$length$$15_template$$=DateFmt.monthNameLenMap[$length$$15_template$$],
$months$$=[void 0],$date$$11_i$$;if($monthCount_options$$){$monthCount_options$$.date&&($date$$11_i$$=DateFactory._dateToIlib($monthCount_options$$.date));$monthCount_options$$.year&&($date$$11_i$$=DateFactory({year:$monthCount_options$$.year,month:1,day:1,type:this.cal.getType()}))}$date$$11_i$$||($date$$11_i$$=DateFactory({calendar:this.cal.getType()}));$monthCount_options$$=this.cal.getNumMonths($date$$11_i$$.getYears());for($date$$11_i$$=1;$date$$11_i$$<=$monthCount_options$$;$date$$11_i$$++)$months$$[$date$$11_i$$]=
this.sysres.getString(this._getTemplate($length$$15_template$$+$date$$11_i$$,this.cal.getType())).toString();return $months$$},getDaysOfWeek:function $DateFmt$$getDaysOfWeek$($length$$16_options$$15_template$$){for(var $length$$16_options$$15_template$$=$length$$16_options$$15_template$$&&$length$$16_options$$15_template$$.length||this.getLength(),$length$$16_options$$15_template$$=DateFmt.weekDayLenMap[$length$$16_options$$15_template$$],$days$$=[],$i$$=0;$i$$<7;$i$$++)$days$$[$i$$]=this.sysres.getString(this._getTemplate($length$$16_options$$15_template$$+
$i$$,this.cal.getType())).toString();return $days$$},toString:function $DateFmt$$toString$(){return this.getTemplate()},_pad:function $DateFmt$$_pad$($str$$,$length$$){typeof $str$$!=="string"&&($str$$=""+$str$$);var $start$$=0;$str$$.charAt(0)==="-"&&$start$$++;return $str$$.length>=$length$$+$start$$?$str$$:$str$$.substring(0,$start$$)+DateFmt.zeros.substring(0,$length$$-$str$$.length+$start$$)+$str$$.substring($start$$)},_formatTemplate:function $DateFmt$$_formatTemplate$($date$$,$templateArr$$){var $i$$,
$key$$,$temp$$3_tz$$,$str$$="";for($i$$=0;$i$$<$templateArr$$.length;$i$$++)switch($templateArr$$[$i$$]){case "d":$str$$=$str$$+($date$$.day||1);break;case "dd":$str$$=$str$$+this._pad($date$$.day||"1",2);break;case "yy":$temp$$3_tz$$=""+($date$$.year||0)%100;$str$$=$str$$+this._pad($temp$$3_tz$$,2);break;case "yyyy":$str$$=$str$$+this._pad($date$$.year||"0",4);break;case "M":$str$$=$str$$+($date$$.month||1);break;case "MM":$str$$=$str$$+this._pad($date$$.month||"1",2);break;case "h":$temp$$3_tz$$=
($date$$.hour||0)%12;$temp$$3_tz$$==0&&($temp$$3_tz$$="12");$str$$=$str$$+$temp$$3_tz$$;break;case "hh":$temp$$3_tz$$=($date$$.hour||0)%12;$temp$$3_tz$$==0&&($temp$$3_tz$$="12");$str$$=$str$$+this._pad($temp$$3_tz$$,2);break;case "K":$temp$$3_tz$$=($date$$.hour||0)%12;$str$$=$str$$+$temp$$3_tz$$;break;case "KK":$temp$$3_tz$$=($date$$.hour||0)%12;$str$$=$str$$+this._pad($temp$$3_tz$$,2);break;case "H":$str$$=$str$$+($date$$.hour||"0");break;case "HH":$str$$=$str$$+this._pad($date$$.hour||"0",2);break;
case "k":$str$$=$str$$+($date$$.hour==0?"24":$date$$.hour);break;case "kk":$temp$$3_tz$$=$date$$.hour==0?"24":$date$$.hour;$str$$=$str$$+this._pad($temp$$3_tz$$,2);break;case "m":$str$$=$str$$+($date$$.minute||"0");break;case "mm":$str$$=$str$$+this._pad($date$$.minute||"0",2);break;case "s":$str$$=$str$$+($date$$.minute||"0");break;case "ss":$str$$=$str$$+this._pad($date$$.second||"0",2);break;case "S":$str$$=$str$$+($date$$.millisecond||"0");break;case "SSS":$str$$=$str$$+this._pad($date$$.millisecond||
"0",3);break;case "N":case "NN":case "MMM":case "MMMM":$key$$=$templateArr$$[$i$$]+($date$$.month||1);$str$$=$str$$+(this.sysres.getString(void 0,$key$$+"-"+this.calName)||this.sysres.getString(void 0,$key$$));break;case "E":case "EE":case "EEE":case "EEEE":$key$$=$templateArr$$[$i$$]+$date$$.getDayOfWeek();$str$$=$str$$+(this.sysres.getString(void 0,$key$$+"-"+this.calName)||this.sysres.getString(void 0,$key$$));break;case "a":switch(this.meridiems){case "chinese":$key$$=$date$$.hour<6?"azh0":$date$$.hour<
9?"azh1":$date$$.hour<12?"azh2":$date$$.hour<13?"azh3":$date$$.hour<18?"azh4":$date$$.hour<21?"azh5":"azh6";break;case "ethiopic":$date$$.hour<6?$key$$="a0-ethiopic":$date$$.hour===6&&$date$$.minute===0?$key$$="a1-ethiopic":$date$$.hour>=6&&$date$$.hour<12?$key$$="a2-ethiopic":$date$$.hour>=12&&$date$$.hour<18?$key$$="a3-ethiopic":$date$$.hour>=18&&($key$$="a4-ethiopic");break;default:$key$$=$date$$.hour<12?"a0":"a1"}$str$$=$str$$+(this.sysres.getString(void 0,$key$$+"-"+this.calName)||this.sysres.getString(void 0,
$key$$));break;case "w":$str$$=$str$$+$date$$.getWeekOfYear();break;case "ww":$str$$=$str$$+this._pad($date$$.getWeekOfYear(),2);break;case "D":$str$$=$str$$+$date$$.getDayOfYear();break;case "DD":$str$$=$str$$+this._pad($date$$.getDayOfYear(),2);break;case "DDD":$str$$=$str$$+this._pad($date$$.getDayOfYear(),3);break;case "W":$str$$=$str$$+$date$$.getWeekOfMonth(this.locale);break;case "G":$key$$="G"+$date$$.getEra();$str$$=$str$$+(this.sysres.getString(void 0,$key$$+"-"+this.calName)||this.sysres.getString(void 0,
$key$$));break;case "O":$temp$$3_tz$$=this.sysres.getString("1#1st|2#2nd|3#3rd|21#21st|22#22nd|23#23rd|31#31st|#{num}th","ordinalChoice");$str$$=$str$$+$temp$$3_tz$$.formatChoice($date$$.day,{num:$date$$.day});break;case "z":$temp$$3_tz$$=this.getTimeZone();$str$$=$str$$+$temp$$3_tz$$.getDisplayName($date$$,"standard");break;case "Z":$temp$$3_tz$$=this.getTimeZone();$str$$=$str$$+$temp$$3_tz$$.getDisplayName($date$$,"rfc822");break;default:$str$$=$str$$+$templateArr$$[$i$$].replace(/'/g,"")}this.digits&&
($str$$=JSUtils.mapString($str$$,this.digits));return $str$$},format:function $DateFmt$$format$($date$$){var $thisZoneName$$=this.tz&&this.tz.getId()||"local",$date$$=DateFactory._dateToIlib($date$$,$thisZoneName$$,this.locale);if(!$date$$.getCalendar||!($date$$ instanceof IDate))throw"Wrong date type passed to DateFmt.format()";if(($date$$.timezone||"local")!==$thisZoneName$$||$date$$.getCalendar()!==this.calName)$date$$=DateFactory({type:this.calName,timezone:$thisZoneName$$,julianday:$date$$.getJulianDay()});
return this._formatTemplate($date$$,this.templateArr)},formatRelative:function $DateFmt$$formatRelative$($reference$$,$date$$){var $reference$$=DateFactory._dateToIlib($reference$$),$date$$=DateFactory._dateToIlib($date$$),$fmt$$,$dateRd_diff_time$$,$num$$;if(typeof $reference$$!=="object"||!$reference$$.getCalendar||$reference$$.getCalendar()!==this.calName||typeof $date$$!=="object"||!$date$$.getCalendar||$date$$.getCalendar()!==this.calName)throw"Wrong calendar type";$fmt$$=$reference$$.getRataDie();
$dateRd_diff_time$$=$date$$.getRataDie();if($dateRd_diff_time$$<$fmt$$){$dateRd_diff_time$$=$fmt$$-$dateRd_diff_time$$;$fmt$$=this.sysres.getString("{duration} ago")}else{$dateRd_diff_time$$=$dateRd_diff_time$$-$fmt$$;$fmt$$=this.sysres.getString("in {duration}")}if($dateRd_diff_time$$<6.94444E-4){$num$$=Math.round($dateRd_diff_time$$*86400);switch(this.length){case "s":$dateRd_diff_time$$=this.sysres.getString("#{num}s");break;case "m":$dateRd_diff_time$$=this.sysres.getString("1#1 se|#{num} sec");
break;case "l":$dateRd_diff_time$$=this.sysres.getString("1#1 sec|#{num} sec");break;default:case "f":$dateRd_diff_time$$=this.sysres.getString("1#1 second|#{num} seconds")}}else if($dateRd_diff_time$$<0.041666667){$num$$=Math.round($dateRd_diff_time$$*1440);switch(this.length){case "s":$dateRd_diff_time$$=this.sysres.getString("#{num}m","durationShortMinutes");break;case "m":$dateRd_diff_time$$=this.sysres.getString("1#1 mi|#{num} min");break;case "l":$dateRd_diff_time$$=this.sysres.getString("1#1 min|#{num} min");
break;default:case "f":$dateRd_diff_time$$=this.sysres.getString("1#1 minute|#{num} minutes")}}else if($dateRd_diff_time$$<1){$num$$=Math.round($dateRd_diff_time$$*24);switch(this.length){case "s":$dateRd_diff_time$$=this.sysres.getString("#{num}h");break;case "m":$dateRd_diff_time$$=this.sysres.getString("1#1 hr|#{num} hrs","durationMediumHours");break;case "l":$dateRd_diff_time$$=this.sysres.getString("1#1 hr|#{num} hrs");break;default:case "f":$dateRd_diff_time$$=this.sysres.getString("1#1 hour|#{num} hours")}}else if($dateRd_diff_time$$<
14){$num$$=Math.round($dateRd_diff_time$$);switch(this.length){case "s":$dateRd_diff_time$$=this.sysres.getString("#{num}d");break;case "m":$dateRd_diff_time$$=this.sysres.getString("1#1 dy|#{num} dys");break;case "l":$dateRd_diff_time$$=this.sysres.getString("1#1 day|#{num} days","durationLongDays");break;default:case "f":$dateRd_diff_time$$=this.sysres.getString("1#1 day|#{num} days")}}else if($dateRd_diff_time$$<84){$num$$=Math.round($dateRd_diff_time$$/7);switch(this.length){case "s":$dateRd_diff_time$$=
this.sysres.getString("#{num}w");break;case "m":$dateRd_diff_time$$=this.sysres.getString("1#1 wk|#{num} wks","durationMediumWeeks");break;case "l":$dateRd_diff_time$$=this.sysres.getString("1#1 wk|#{num} wks");break;default:case "f":$dateRd_diff_time$$=this.sysres.getString("1#1 week|#{num} weeks")}}else if($dateRd_diff_time$$<730){$num$$=Math.round($dateRd_diff_time$$/30.4);switch(this.length){case "s":$dateRd_diff_time$$=this.sysres.getString("#{num}m","durationShortMonths");break;case "m":$dateRd_diff_time$$=
this.sysres.getString("1#1 mo|#{num} mos");break;case "l":$dateRd_diff_time$$=this.sysres.getString("1#1 mon|#{num} mons");break;default:case "f":$dateRd_diff_time$$=this.sysres.getString("1#1 month|#{num} months")}}else{$num$$=Math.round($dateRd_diff_time$$/365);switch(this.length){case "s":$dateRd_diff_time$$=this.sysres.getString("#{num}y");break;case "m":$dateRd_diff_time$$=this.sysres.getString("1#1 yr|#{num} yrs","durationMediumYears");break;case "l":$dateRd_diff_time$$=this.sysres.getString("1#1 yr|#{num} yrs");
break;default:case "f":$dateRd_diff_time$$=this.sysres.getString("1#1 year|#{num} years")}}return $fmt$$.format({duration:$dateRd_diff_time$$.formatChoice($num$$,{num:$num$$})})}};
var DateRngFmt=function $DateRngFmt$($options$$){var $sync$$=true,$loadParams$$=void 0;this.locale=new Locale;this.length="s";if($options$$){if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new Locale($options$$.locale):$options$$.locale;if($options$$.calendar)this.calName=$options$$.calendar;if($options$$.length&&($options$$.length==="short"||$options$$.length==="medium"||$options$$.length==="long"||$options$$.length==="full"))this.length=$options$$.length.charAt(0);typeof $options$$.sync!==
"undefined"&&($sync$$=$options$$.sync==true);$loadParams$$=$options$$.loadParams}var $opts$$={};JSUtils.shallowCopy($options$$,$opts$$);$opts$$.sync=$sync$$;$opts$$.loadParams=$loadParams$$;$opts$$.onLoad=ilib.bind(this,function($fmt$$){if(this.dateFmt=$fmt$$){this.locinfo=this.dateFmt.locinfo;this.calName=this.calName||this.locinfo.getCalendar()||"gregorian";this.cal=CalendarFactory({type:this.calName});if(!this.cal)this.cal=new GregorianCal;this.timeTemplate=this.dateFmt._getFormat(this.dateFmt.formats.time[this.dateFmt.clock],
this.dateFmt.timeComponents,this.length)||"hh:mm";this.timeTemplateArr=this.dateFmt._tokenize(this.timeTemplate);if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)}});new DateFmt($opts$$)};
DateRngFmt.prototype={getLocale:function $DateRngFmt$$getLocale$(){return this.locale},getCalendar:function $DateRngFmt$$getCalendar$(){return this.dateFmt.getCalendar()},getLength:function $DateRngFmt$$getLength$(){return DateFmt.lenmap[this.length]||""},getTimeZone:function $DateRngFmt$$getTimeZone$(){return this.dateFmt.getTimeZone()},getClock:function $DateRngFmt$$getClock$(){return this.dateFmt.getClock()},format:function $DateRngFmt$$format$($start$$,$end$$){var $fmt$$3_startRd$$,$endRd$$;$fmt$$3_startRd$$=
"";var $monthTemplate$$,$dayTemplate$$;if(typeof $start$$!=="object"||!$start$$.getCalendar||$start$$.getCalendar()!==this.calName||typeof $end$$!=="object"||!$end$$.getCalendar||$end$$.getCalendar()!==this.calName)throw"Wrong calendar type";$fmt$$3_startRd$$=$start$$.getRataDie();$endRd$$=$end$$.getRataDie();$fmt$$3_startRd$$=$endRd$$-$fmt$$3_startRd$$<3?$start$$.year===$end$$.year?$start$$.month===$end$$.month?$start$$.day===$end$$.day?new IString(this.dateFmt._getFormat(this.dateFmt.formats.range,
"c00",this.length)):new IString(this.dateFmt._getFormat(this.dateFmt.formats.range,"c01",this.length)):new IString(this.dateFmt._getFormat(this.dateFmt.formats.range,"c02",this.length)):new IString(this.dateFmt._getFormat(this.dateFmt.formats.range,"c03",this.length)):$endRd$$-$fmt$$3_startRd$$<730?$start$$.year===$end$$.year?$start$$.month===$end$$.month?new IString(this.dateFmt._getFormat(this.dateFmt.formats.range,"c10",this.length)):new IString(this.dateFmt._getFormat(this.dateFmt.formats.range,
"c11",this.length)):new IString(this.dateFmt._getFormat(this.dateFmt.formats.range,"c12",this.length)):$endRd$$-$fmt$$3_startRd$$<3650?new IString(this.dateFmt._getFormat(this.dateFmt.formats.range,"c20",this.length)):new IString(this.dateFmt._getFormat(this.dateFmt.formats.range,"c30",this.length));$endRd$$=this.dateFmt._tokenize(this.dateFmt._getFormat(this.dateFmt.formats.date,"y",this.length)||"yyyy");$monthTemplate$$=this.dateFmt._tokenize(this.dateFmt._getFormat(this.dateFmt.formats.date,"m",
this.length)||"MM");$dayTemplate$$=this.dateFmt._tokenize(this.dateFmt._getFormat(this.dateFmt.formats.date,"d",this.length)||"dd");return $fmt$$3_startRd$$.format({sy:this.dateFmt._formatTemplate($start$$,$endRd$$),sm:this.dateFmt._formatTemplate($start$$,$monthTemplate$$),sd:this.dateFmt._formatTemplate($start$$,$dayTemplate$$),st:this.dateFmt._formatTemplate($start$$,this.timeTemplateArr),ey:this.dateFmt._formatTemplate($end$$,$endRd$$),em:this.dateFmt._formatTemplate($end$$,$monthTemplate$$),
ed:this.dateFmt._formatTemplate($end$$,$dayTemplate$$),et:this.dateFmt._formatTemplate($end$$,this.timeTemplateArr)})}};var HebrewCal=function $HebrewCal$(){this.type="hebrew"};
HebrewCal.elapsedDays=function $HebrewCal$elapsedDays$($days$$2_months$$1_year$$){var $days$$2_months$$1_year$$=Math.floor((235*$days$$2_months$$1_year$$-234)/19),$parts$$=204+793*MathUtils.mod($days$$2_months$$1_year$$,1080),$days$$2_months$$1_year$$=29*$days$$2_months$$1_year$$+Math.floor((11+12*$days$$2_months$$1_year$$+793*Math.floor($days$$2_months$$1_year$$/1080)+Math.floor($parts$$/1080))/24);return MathUtils.mod(3*($days$$2_months$$1_year$$+1),7)<3?$days$$2_months$$1_year$$+1:$days$$2_months$$1_year$$};
HebrewCal.newYearsCorrection=function $HebrewCal$newYearsCorrection$($year$$,$elapsed$$){var $lastYear$$=HebrewCal.elapsedDays($year$$-1);return HebrewCal.elapsedDays($year$$+1)-$elapsed$$==356?2:$elapsed$$-$lastYear$$==382?1:0};HebrewCal.newYear=function $HebrewCal$newYear$($year$$){var $elapsed$$=HebrewCal.elapsedDays($year$$);return $elapsed$$+HebrewCal.newYearsCorrection($year$$,$elapsed$$)};HebrewCal.daysInYear=function $HebrewCal$daysInYear$($year$$){return HebrewCal.newYear($year$$+1)-HebrewCal.newYear($year$$)};
HebrewCal.longHeshvan=function $HebrewCal$longHeshvan$($year$$){return MathUtils.mod(HebrewCal.daysInYear($year$$),10)===5};HebrewCal.longKislev=function $HebrewCal$longKislev$($year$$){return MathUtils.mod(HebrewCal.daysInYear($year$$),10)!==3};
HebrewCal.prototype.lastDayOfMonth=function $HebrewCal$$lastDayOfMonth$($month$$,$year$$){switch($month$$){case 2:case 4:case 6:case 10:return 29;case 13:return this.isLeapYear($year$$)?29:0;case 8:return HebrewCal.longHeshvan($year$$)?30:29;case 9:return HebrewCal.longKislev($year$$)?30:29;case 12:case 1:case 3:case 5:case 7:case 11:return 30;default:return 0}};HebrewCal.prototype.getNumMonths=function $HebrewCal$$getNumMonths$($year$$){return this.isLeapYear($year$$)?13:12};
HebrewCal.prototype.getMonLength=function $HebrewCal$$getMonLength$($month$$,$year$$){return $month$$<1||$month$$>13||$month$$==13&&!this.isLeapYear($year$$)?0:this.lastDayOfMonth($month$$,$year$$)};HebrewCal.prototype.isLeapYear=function $HebrewCal$$isLeapYear$($year$$){return MathUtils.mod(1+7*(typeof $year$$=="number"?$year$$:$year$$.year),19)<7};HebrewCal.prototype.getType=function $HebrewCal$$getType$(){return this.type};HebrewCal.prototype.newDateInstance=function $HebrewCal$$newDateInstance$($options$$){return new HebrewDate($options$$)};
Calendar._constructors.hebrew=HebrewCal;var HebrewRataDie=function $HebrewRataDie$($params$$){this.cal=$params$$&&$params$$.cal||new HebrewCal;this.rd=void 0;RataDie.call(this,$params$$)};HebrewRataDie.prototype=new RataDie;HebrewRataDie.prototype.parent=RataDie;HebrewRataDie.prototype.constructor=HebrewRataDie;HebrewRataDie.prototype.epoch=347997.25;HebrewRataDie.cumMonthLengths=[176,206,235,265,294,324,0,30,59,88,117,147];
HebrewRataDie.cumMonthLengthsLeap=[206,236,265,295,324,354,0,30,59,88,117,147,177];
HebrewRataDie.prototype._setDateComponents=function $HebrewRataDie$$_setDateComponents$($date$$){var $days$$3_elapsed$$=HebrewCal.elapsedDays($date$$.year),$days$$3_elapsed$$=$days$$3_elapsed$$+HebrewCal.newYearsCorrection($date$$.year,$days$$3_elapsed$$)+$date$$.day-1,$minute$$4_parts$$=0,$minute$$4_parts$$=(this.cal.isLeapYear($date$$.year)?HebrewRataDie.cumMonthLengthsLeap:HebrewRataDie.cumMonthLengths)[$date$$.month-1];($date$$.month<7||$date$$.month>8)&&HebrewCal.longHeshvan($date$$.year)&&$minute$$4_parts$$++;
($date$$.month<7||$date$$.month>9)&&HebrewCal.longKislev($date$$.year)&&$minute$$4_parts$$++;var $days$$3_elapsed$$=$days$$3_elapsed$$+$minute$$4_parts$$,$second$$,$millisecond$$;if(typeof $date$$.parts!=="undefined"){$minute$$4_parts$$=parseInt($date$$.parts,10);$millisecond$$=parseInt($minute$$4_parts$$,10)*3.333333333333;$minute$$4_parts$$=Math.floor($millisecond$$/60);$millisecond$$=$millisecond$$-$minute$$4_parts$$*60;$second$$=Math.floor($millisecond$$);$millisecond$$=$millisecond$$-$second$$}else{$minute$$4_parts$$=
parseInt($date$$.minute,10)||0;$second$$=parseInt($date$$.second,10)||0;$millisecond$$=parseInt($date$$.millisecond,10)||0}this.rd=$days$$3_elapsed$$+($date$$.hour>=18?(($date$$.hour-18||0)*36E5+($minute$$4_parts$$||0)*6E4+($second$$||0)*1E3+($millisecond$$||0))/864E5:0.25+(($date$$.hour||0)*36E5+($minute$$4_parts$$||0)*6E4+($second$$||0)*1E3+($millisecond$$||0))/864E5)};
HebrewRataDie.prototype._onOrBefore=function $HebrewRataDie$$_onOrBefore$($rd$$,$dayOfWeek$$){return $rd$$-MathUtils.mod(Math.floor($rd$$)-$dayOfWeek$$+1,7)};
var HebrewDate=function $HebrewDate$($params$$){this.cal=new HebrewCal;if($params$$){if($params$$.timezone)this.timezone=$params$$.timezone;if($params$$.locale){this.locale=typeof $params$$.locale==="string"?new Locale($params$$.locale):$params$$.locale;if(!this.timezone)this.timezone=(new LocaleInfo(this.locale)).getTimeZone()}if($params$$.year||$params$$.month||$params$$.day||$params$$.hour||$params$$.minute||$params$$.second||$params$$.millisecond||$params$$.parts){this.year=parseInt($params$$.year,
10)||0;this.month=parseInt($params$$.month,10)||1;this.day=parseInt($params$$.day,10)||1;this.hour=parseInt($params$$.hour,10)||0;if(typeof $params$$.parts!=="undefined"){this.parts=parseInt($params$$.parts,10);var $seconds$$=parseInt($params$$.parts,10)*3.333333333333;this.minute=Math.floor($seconds$$/60);$seconds$$=$seconds$$-this.minute*60;this.second=Math.floor($seconds$$);this.millisecond=$seconds$$-this.second}else{this.minute=parseInt($params$$.minute,10)||0;this.second=parseInt($params$$.second,
10)||0;this.millisecond=parseInt($params$$.millisecond,10)||0}this.dayOfYear=parseInt($params$$.dayOfYear,10);if(typeof $params$$.dst==="boolean")this.dst=$params$$.dst;this.rd=this.newRd(this);if(!this.tz)this.tz=new TimeZone({id:this.timezone});this.offset=this.tz._getOffsetMillisWallTime(this)/864E5;if(this.offset!==0)this.rd=this.newRd({rd:this.rd.getRataDie()-this.offset})}}if(!this.rd){this.rd=this.newRd($params$$);this._calcDateComponents()}};HebrewDate.prototype=new IDate({noinstance:!0});
HebrewDate.prototype.parent=IDate;HebrewDate.prototype.constructor=HebrewDate;HebrewDate.cumMonthLengthsReverse=[[0,7],[30,8],[59,9],[88,10],[117,11],[147,12],[176,1],[206,2],[235,3],[265,4],[294,5],[324,6],[354,7]];HebrewDate.cumMonthLengthsLeapReverse=[[0,7],[30,8],[59,9],[88,10],[117,11],[147,12],[177,13],[206,1],[236,2],[265,3],[295,4],[324,5],[354,6],[384,7]];HebrewDate.GregorianDiff=1373060.25;HebrewDate.prototype.newRd=function $HebrewDate$$newRd$($params$$){return new HebrewRataDie($params$$)};
HebrewDate.prototype._calcYear=function $HebrewDate$$_calcYear$($rd$$){var $year$$,$nextNewYear$$;$year$$=Math.floor($rd$$/365.246822206)+1;for($nextNewYear$$=HebrewCal.newYear($year$$);$rd$$>=$nextNewYear$$;){$year$$++;$nextNewYear$$=HebrewCal.newYear($year$$)}return $year$$-1};
HebrewDate.prototype._calcDateComponents=function $HebrewDate$$_calcDateComponents$(){var $rd$$11_remainder$$,$i$$,$table$$,$target$$;$rd$$11_remainder$$=this.rd.getRataDie();if(typeof this.offset==="undefined"){this.year=this._calcYear($rd$$11_remainder$$);if(!this.tz)this.tz=new TimeZone({id:this.timezone});this.offset=this.tz.getOffsetMillis(this)/864E5}if(this.offset!==0){$rd$$11_remainder$$=$rd$$11_remainder$$+this.offset;this.year=this._calcYear($rd$$11_remainder$$)}$rd$$11_remainder$$=$rd$$11_remainder$$-
HebrewCal.newYear(this.year);if($rd$$11_remainder$$>=59){$rd$$11_remainder$$>=88&&HebrewCal.longKislev(this.year)&&$rd$$11_remainder$$--;HebrewCal.longHeshvan(this.year)&&$rd$$11_remainder$$--}$table$$=this.cal.isLeapYear(this.year)?HebrewDate.cumMonthLengthsLeapReverse:HebrewDate.cumMonthLengthsReverse;$i$$=0;for($target$$=Math.floor($rd$$11_remainder$$);$i$$+1<$table$$.length&&$target$$>=$table$$[$i$$+1][0];)$i$$++;this.month=$table$$[$i$$][1];$rd$$11_remainder$$=$rd$$11_remainder$$-$table$$[$i$$][0];
this.day=Math.floor($rd$$11_remainder$$);$rd$$11_remainder$$=$rd$$11_remainder$$-this.day;this.day++;$rd$$11_remainder$$=Math.round($rd$$11_remainder$$*864E5);this.hour=Math.floor($rd$$11_remainder$$/36E5);$rd$$11_remainder$$=$rd$$11_remainder$$-this.hour*36E5;this.hour=this.hour>=6?this.hour-6:this.hour+18;this.minute=Math.floor($rd$$11_remainder$$/6E4);$rd$$11_remainder$$=$rd$$11_remainder$$-this.minute*6E4;this.second=Math.floor($rd$$11_remainder$$/1E3);$rd$$11_remainder$$=$rd$$11_remainder$$-
this.second*1E3;this.millisecond=Math.floor($rd$$11_remainder$$)};HebrewDate.prototype.getDayOfWeek=function $HebrewDate$$getDayOfWeek$(){var $rd$$=Math.floor(this.rd.getRataDie()+(this.offset||0));return MathUtils.mod($rd$$+1,7)};HebrewDate.prototype.getHalaqim=function $HebrewDate$$getHalaqim$(){if(this.parts<0)this.parts=(this.minute*6E4+this.second*1E3+this.millisecond)*3.0E-4;return this.parts};
HebrewDate.prototype.firstSunday=function $HebrewDate$$firstSunday$($year$$){return this.newRd({rd:this.newRd({year:$year$$,month:7,day:1,hour:18,minute:0,second:0,millisecond:0,cal:this.cal}).onOrAfter(4),cal:this.cal}).before(0)};
HebrewDate.prototype.getDayOfYear=function $HebrewDate$$getDayOfYear$(){var $days$$=(this.cal.isLeapYear(this.year)?HebrewRataDie.cumMonthLengthsLeap:HebrewRataDie.cumMonthLengths)[this.month-1];(this.month<7||this.month>8)&&HebrewCal.longHeshvan(this.year)&&$days$$++;(this.month<7||this.month>9)&&HebrewCal.longKislev(this.year)&&$days$$++;return $days$$+this.day};
HebrewDate.prototype.getWeekOfMonth=function $HebrewDate$$getWeekOfMonth$($first$$2_locale$$){var $li$$6_weekStart$$=new LocaleInfo($first$$2_locale$$),$first$$2_locale$$=this.newRd({year:this.year,month:this.month,day:1,hour:18,minute:0,second:0,millisecond:0}),$rd$$=this.rd.getRataDie(),$li$$6_weekStart$$=$first$$2_locale$$.onOrAfter($li$$6_weekStart$$.getFirstDayOfWeek());$li$$6_weekStart$$-$first$$2_locale$$.getRataDie()>3&&($li$$6_weekStart$$=$li$$6_weekStart$$-7);return $rd$$<$li$$6_weekStart$$?
0:Math.floor(($rd$$-$li$$6_weekStart$$)/7)+1};HebrewDate.prototype.getEra=function $HebrewDate$$getEra$(){return this.year<1?-1:1};HebrewDate.prototype.getCalendar=function $HebrewDate$$getCalendar$(){return"hebrew"};IDate._constructors.hebrew=HebrewDate;var IslamicCal=function $IslamicCal$(){this.type="islamic"};IslamicCal.monthLengths=[30,29,30,29,30,29,30,29,30,29,30,29];IslamicCal.prototype.getNumMonths=function $IslamicCal$$getNumMonths$(){return 12};
IslamicCal.prototype.getMonLength=function $IslamicCal$$getMonLength$($month$$,$year$$){return $month$$!==12?IslamicCal.monthLengths[$month$$-1]:this.isLeapYear($year$$)?30:29};IslamicCal.prototype.isLeapYear=function $IslamicCal$$isLeapYear$($year$$){return MathUtils.mod(14+11*$year$$,30)<11};IslamicCal.prototype.getType=function $IslamicCal$$getType$(){return this.type};IslamicCal.prototype.newDateInstance=function $IslamicCal$$newDateInstance$($options$$){return new IslamicDate($options$$)};
Calendar._constructors.islamic=IslamicCal;var IslamicRataDie=function $IslamicRataDie$($params$$){this.cal=$params$$&&$params$$.cal||new IslamicCal;this.rd=void 0;RataDie.call(this,$params$$)};IslamicRataDie.prototype=new RataDie;IslamicRataDie.prototype.parent=RataDie;IslamicRataDie.prototype.constructor=IslamicRataDie;IslamicRataDie.prototype.epoch=1948439.5;
IslamicRataDie.prototype._setDateComponents=function $IslamicRataDie$$_setDateComponents$($date$$){this.rd=($date$$.year-1)*354+Math.ceil(29.5*($date$$.month-1))+$date$$.day+Math.floor((3+11*$date$$.year)/30)-1+($date$$.hour*36E5+$date$$.minute*6E4+$date$$.second*1E3+$date$$.millisecond)/864E5};
var IslamicDate=function $IslamicDate$($params$$){this.cal=new IslamicCal;if($params$$){if($params$$.locale){this.locale=typeof $params$$.locale==="string"?new Locale($params$$.locale):$params$$.locale;this.timezone=(new LocaleInfo(this.locale)).getTimeZone()}if($params$$.timezone)this.timezone=$params$$.timezone;if($params$$.year||$params$$.month||$params$$.day||$params$$.hour||$params$$.minute||$params$$.second||$params$$.millisecond){this.year=parseInt($params$$.year,10)||0;this.month=parseInt($params$$.month,
10)||1;this.day=parseInt($params$$.day,10)||1;this.hour=parseInt($params$$.hour,10)||0;this.minute=parseInt($params$$.minute,10)||0;this.second=parseInt($params$$.second,10)||0;this.millisecond=parseInt($params$$.millisecond,10)||0;this.dayOfYear=parseInt($params$$.dayOfYear,10);if(typeof $params$$.dst==="boolean")this.dst=$params$$.dst;this.rd=this.newRd(this);if(!this.tz)this.tz=new TimeZone({id:this.timezone});this.offset=this.tz._getOffsetMillisWallTime(this)/864E5;if(this.offset!==0)this.rd=
this.newRd({rd:this.rd.getRataDie()-this.offset})}}if(!this.rd){this.rd=this.newRd($params$$);this._calcDateComponents()}};IslamicDate.prototype=new IDate({noinstance:!0});IslamicDate.prototype.parent=IDate;IslamicDate.prototype.constructor=IslamicDate;IslamicDate.cumMonthLengths=[0,30,59,89,118,148,177,207,236,266,295,325,354];IslamicDate.GregorianDiff=227015;IslamicDate.prototype.newRd=function $IslamicDate$$newRd$($params$$){return new IslamicRataDie($params$$)};
IslamicDate.prototype._calcYear=function $IslamicDate$$_calcYear$($rd$$){return Math.floor((30*$rd$$+10646)/10631)};
IslamicDate.prototype._calcDateComponents=function $IslamicDate$$_calcDateComponents$(){var $rd$$15_remainder$$;$rd$$15_remainder$$=this.rd.getRataDie();this.year=this._calcYear($rd$$15_remainder$$);if(typeof this.offset==="undefined"){this.year=this._calcYear($rd$$15_remainder$$);if(!this.tz)this.tz=new TimeZone({id:this.timezone});this.offset=this.tz.getOffsetMillis(this)/864E5}if(this.offset!==0){$rd$$15_remainder$$=$rd$$15_remainder$$+this.offset;this.year=this._calcYear($rd$$15_remainder$$)}var $yearStart$$=
this.newRd({year:this.year,month:1,day:1,hour:0,minute:0,second:0,millisecond:0});this.dayOfYear=$rd$$15_remainder$$=$rd$$15_remainder$$-$yearStart$$.getRataDie()+1;this.month=SearchUtils.bsearch($rd$$15_remainder$$,IslamicDate.cumMonthLengths);$rd$$15_remainder$$=$rd$$15_remainder$$-IslamicDate.cumMonthLengths[this.month-1];this.day=Math.floor($rd$$15_remainder$$);$rd$$15_remainder$$=$rd$$15_remainder$$-this.day;$rd$$15_remainder$$=Math.round($rd$$15_remainder$$*864E5);this.hour=Math.floor($rd$$15_remainder$$/
36E5);$rd$$15_remainder$$=$rd$$15_remainder$$-this.hour*36E5;this.minute=Math.floor($rd$$15_remainder$$/6E4);$rd$$15_remainder$$=$rd$$15_remainder$$-this.minute*6E4;this.second=Math.floor($rd$$15_remainder$$/1E3);this.millisecond=$rd$$15_remainder$$=$rd$$15_remainder$$-this.second*1E3};IslamicDate.prototype.getDayOfWeek=function $IslamicDate$$getDayOfWeek$(){var $rd$$=Math.floor(this.rd.getRataDie()+(this.offset||0));return MathUtils.mod($rd$$-2,7)};
IslamicDate.prototype.getDayOfYear=function $IslamicDate$$getDayOfYear$(){return IslamicDate.cumMonthLengths[this.month-1]+this.day};IslamicDate.prototype.getEra=function $IslamicDate$$getEra$(){return this.year<1?-1:1};IslamicDate.prototype.getCalendar=function $IslamicDate$$getCalendar$(){return"islamic"};IDate._constructors.islamic=IslamicDate;var JulianCal=function $JulianCal$(){this.type="julian"};JulianCal.monthLengths=[31,28,31,30,31,30,31,31,30,31,30,31];
JulianCal.cumMonthLengths=[0,31,59,90,120,151,181,212,243,273,304,334,365];JulianCal.cumMonthLengthsLeap=[0,31,60,91,121,152,182,213,244,274,305,335,366];JulianCal.prototype.getNumMonths=function $JulianCal$$getNumMonths$(){return 12};JulianCal.prototype.getMonLength=function $JulianCal$$getMonLength$($month$$,$year$$){return $month$$!==2||!this.isLeapYear($year$$)?JulianCal.monthLengths[$month$$-1]:29};
JulianCal.prototype.isLeapYear=function $JulianCal$$isLeapYear$($year$$){return MathUtils.mod(typeof $year$$==="number"?$year$$:$year$$.year,4)===($year$$>0?0:3)};JulianCal.prototype.getType=function $JulianCal$$getType$(){return this.type};JulianCal.prototype.newDateInstance=function $JulianCal$$newDateInstance$($options$$){return new JulianDate($options$$)};Calendar._constructors.julian=JulianCal;
var JulianRataDie=function $JulianRataDie$($params$$){this.cal=$params$$&&$params$$.cal||new JulianCal;this.rd=void 0;RataDie.call(this,$params$$)};JulianRataDie.prototype=new RataDie;JulianRataDie.prototype.parent=RataDie;JulianRataDie.prototype.constructor=JulianRataDie;JulianRataDie.prototype.epoch=1721422.5;
JulianRataDie.prototype._setDateComponents=function $JulianRataDie$$_setDateComponents$($date$$){var $year$$35_years$$=$date$$.year+($date$$.year<0?1:0),$year$$35_years$$=365*($year$$35_years$$-1)+Math.floor(($year$$35_years$$-1)/4),$dayInYear$$=($date$$.month>1?JulianCal.cumMonthLengths[$date$$.month-1]:0)+$date$$.day+(this.cal.isLeapYear($date$$.year)&&$date$$.month>2?1:0);this.rd=$year$$35_years$$+$dayInYear$$+($date$$.hour*36E5+$date$$.minute*6E4+$date$$.second*1E3+$date$$.millisecond)/864E5};
var JulianDate=function $JulianDate$($params$$){this.cal=new JulianCal;if($params$$){if($params$$.locale){this.locale=typeof $params$$.locale==="string"?new Locale($params$$.locale):$params$$.locale;this.timezone=(new LocaleInfo(this.locale)).getTimeZone()}if($params$$.timezone)this.timezone=$params$$.timezone;if($params$$.year||$params$$.month||$params$$.day||$params$$.hour||$params$$.minute||$params$$.second||$params$$.millisecond){this.year=parseInt($params$$.year,10)||0;this.month=parseInt($params$$.month,
10)||1;this.day=parseInt($params$$.day,10)||1;this.hour=parseInt($params$$.hour,10)||0;this.minute=parseInt($params$$.minute,10)||0;this.second=parseInt($params$$.second,10)||0;this.millisecond=parseInt($params$$.millisecond,10)||0;this.dayOfYear=parseInt($params$$.dayOfYear,10);if(typeof $params$$.dst==="boolean")this.dst=$params$$.dst;this.rd=this.newRd(this);if(!this.tz)this.tz=new TimeZone({id:this.timezone});this.offset=this.tz._getOffsetMillisWallTime(this)/864E5;if(this.offset!==0)this.rd=
this.newRd({rd:this.rd.getRataDie()-this.offset})}}if(!this.rd){this.rd=this.newRd($params$$);this._calcDateComponents()}};JulianDate.prototype=new IDate({noinstance:!0});JulianDate.prototype.parent=IDate;JulianDate.prototype.constructor=JulianDate;JulianDate.prototype.newRd=function $JulianDate$$newRd$($params$$){return new JulianRataDie($params$$)};
JulianDate.prototype._calcYear=function $JulianDate$$_calcYear$($rd$$17_year$$){$rd$$17_year$$=Math.floor((4*(Math.floor($rd$$17_year$$)-1)+1464)/1461);return $rd$$17_year$$<=0?$rd$$17_year$$-1:$rd$$17_year$$};
JulianDate.prototype._calcDateComponents=function $JulianDate$$_calcDateComponents$(){var $rd$$18_remainder$$,$cumulative$$1_jan1$$;$rd$$18_remainder$$=this.rd.getRataDie();this.year=this._calcYear($rd$$18_remainder$$);if(typeof this.offset==="undefined"){this.year=this._calcYear($rd$$18_remainder$$);if(!this.tz)this.tz=new TimeZone({id:this.timezone});this.offset=this.tz.getOffsetMillis(this)/864E5}if(this.offset!==0){$rd$$18_remainder$$=$rd$$18_remainder$$+this.offset;this.year=this._calcYear($rd$$18_remainder$$)}$cumulative$$1_jan1$$=
this.newRd({year:this.year,month:1,day:1,hour:0,minute:0,second:0,millisecond:0});$rd$$18_remainder$$=$rd$$18_remainder$$+1-$cumulative$$1_jan1$$.getRataDie();$cumulative$$1_jan1$$=this.cal.isLeapYear(this.year)?JulianCal.cumMonthLengthsLeap:JulianCal.cumMonthLengths;this.month=SearchUtils.bsearch(Math.floor($rd$$18_remainder$$),$cumulative$$1_jan1$$);$rd$$18_remainder$$=$rd$$18_remainder$$-$cumulative$$1_jan1$$[this.month-1];this.day=Math.floor($rd$$18_remainder$$);$rd$$18_remainder$$=$rd$$18_remainder$$-
this.day;$rd$$18_remainder$$=Math.round($rd$$18_remainder$$*864E5);this.hour=Math.floor($rd$$18_remainder$$/36E5);$rd$$18_remainder$$=$rd$$18_remainder$$-this.hour*36E5;this.minute=Math.floor($rd$$18_remainder$$/6E4);$rd$$18_remainder$$=$rd$$18_remainder$$-this.minute*6E4;this.second=Math.floor($rd$$18_remainder$$/1E3);this.millisecond=$rd$$18_remainder$$=$rd$$18_remainder$$-this.second*1E3};
JulianDate.prototype.getDayOfWeek=function $JulianDate$$getDayOfWeek$(){var $rd$$=Math.floor(this.rd.getRataDie()+(this.offset||0));return MathUtils.mod($rd$$-2,7)};JulianDate.prototype.getCalendar=function $JulianDate$$getCalendar$(){return"julian"};IDate._constructors.julian=JulianDate;var ThaiSolarCal=function $ThaiSolarCal$(){this.type="thaisolar"};ThaiSolarCal.prototype=new GregorianCal({noinstance:!0});ThaiSolarCal.prototype.parent=GregorianCal;ThaiSolarCal.prototype.constructor=ThaiSolarCal;
ThaiSolarCal.prototype.isLeapYear=function $ThaiSolarCal$$isLeapYear$($y$$38_year$$){var $y$$38_year$$=typeof $y$$38_year$$==="number"?$y$$38_year$$:$y$$38_year$$.getYears(),$y$$38_year$$=$y$$38_year$$-543,$centuries$$=MathUtils.mod($y$$38_year$$,400);return MathUtils.mod($y$$38_year$$,4)===0&&$centuries$$!==100&&$centuries$$!==200&&$centuries$$!==300};ThaiSolarCal.prototype.newDateInstance=function $ThaiSolarCal$$newDateInstance$($options$$){return new ThaiSolarDate($options$$)};
Calendar._constructors.thaisolar=ThaiSolarCal;var ThaiSolarDate=function $ThaiSolarDate$($params$$){var $p$$=$params$$;if($params$$){$p$$={};JSUtils.shallowCopy($params$$,$p$$);if(typeof $p$$.year!=="undefined")$p$$.year=$p$$.year-543;if(typeof $p$$.rd!=="undefined")$p$$.rd=$p$$.rd-198327}this.offset=this.rd=void 0;GregorianDate.call(this,$p$$);this.cal=new ThaiSolarCal;if($params$$&&typeof $params$$.year!=="undefined")this.year=parseInt($params$$.year,10)};ThaiSolarDate.prototype=new GregorianDate({noinstance:!0});
ThaiSolarDate.prototype.parent=GregorianDate.prototype;ThaiSolarDate.prototype.constructor=ThaiSolarDate;ThaiSolarDate.epoch=1523097.5;ThaiSolarDate.prototype._calcDateComponents=function $ThaiSolarDate$$_calcDateComponents$(){this.parent._calcDateComponents.call(this);this.year=this.year+543};ThaiSolarDate.prototype.getRataDie=function $ThaiSolarDate$$getRataDie$(){return this.rd.getRataDie()+198327};
ThaiSolarDate.prototype.before=function $ThaiSolarDate$$before$($dow$$){return new ThaiSolarDate({rd:this.rd.before($dow$$,this.offset)+198327,timezone:this.timezone})};ThaiSolarDate.prototype.after=function $ThaiSolarDate$$after$($dow$$){return new ThaiSolarDate({rd:this.rd.after($dow$$,this.offset)+198327,timezone:this.timezone})};ThaiSolarDate.prototype.onOrBefore=function $ThaiSolarDate$$onOrBefore$($dow$$){return new ThaiSolarDate({rd:this.rd.onOrBefore($dow$$,this.offset)+198327,timezone:this.timezone})};
ThaiSolarDate.prototype.onOrAfter=function $ThaiSolarDate$$onOrAfter$($dow$$){return new ThaiSolarDate({rd:this.rd.onOrAfter($dow$$,this.offset)+198327,timezone:this.timezone})};ThaiSolarDate.prototype.getCalendar=function $ThaiSolarDate$$getCalendar$(){return"thaisolar"};IDate._constructors.thaisolar=ThaiSolarDate;
var Astro={initAstro:function($sync$$,$loadParams$$,$callback$$){ilib.data.astro?$callback$$&&typeof $callback$$==="function"&&$callback$$(ilib.data.astro):Utils.loadData({name:"astro.json",locale:"-",nonLocale:true,sync:$sync$$,loadParams:$loadParams$$,callback:ilib.bind(this,function($astroData$$){ilib.data.astro=$astroData$$;$callback$$&&typeof $callback$$==="function"&&$callback$$($astroData$$)})})},_dtr:function($d$$){return $d$$*Math.PI/180},_rtd:function($r$$){return $r$$*180/Math.PI},_dcos:function($d$$){return Math.cos(Astro._dtr($d$$))},
_dsin:function($d$$){return Math.sin(Astro._dtr($d$$))},_dtan:function($d$$){return Math.tan(Astro._dtr($d$$))},_fixangle:function($a$$){return $a$$-360*Math.floor($a$$/360)},_fixangr:function($a$$){return $a$$-2*Math.PI*Math.floor($a$$/(2*Math.PI))},_equinox:function($year$$,$which$$){var $W_deltaL$$,$i$$,$j$$,$JDE0_JDE0tab$$,$S$$,$T_Y$$;if($year$$<1E3){$JDE0_JDE0tab$$=ilib.data.astro._JDE0tab1000;$T_Y$$=$year$$/1E3}else{$JDE0_JDE0tab$$=ilib.data.astro._JDE0tab2000;$T_Y$$=($year$$-2E3)/1E3}$JDE0_JDE0tab$$=
$JDE0_JDE0tab$$[$which$$][0]+$JDE0_JDE0tab$$[$which$$][1]*$T_Y$$+$JDE0_JDE0tab$$[$which$$][2]*$T_Y$$*$T_Y$$+$JDE0_JDE0tab$$[$which$$][3]*$T_Y$$*$T_Y$$*$T_Y$$+$JDE0_JDE0tab$$[$which$$][4]*$T_Y$$*$T_Y$$*$T_Y$$*$T_Y$$;$T_Y$$=($JDE0_JDE0tab$$-2451545)/36525;$W_deltaL$$=35999.373*$T_Y$$-2.47;$W_deltaL$$=1+0.0334*Astro._dcos($W_deltaL$$)+7.0E-4*Astro._dcos(2*$W_deltaL$$);for($i$$=$j$$=$S$$=0;$i$$<24;$i$$++){$S$$=$S$$+ilib.data.astro._EquinoxpTerms[$j$$]*Astro._dcos(ilib.data.astro._EquinoxpTerms[$j$$+1]+
ilib.data.astro._EquinoxpTerms[$j$$+2]*$T_Y$$);$j$$=$j$$+3}return $JDE0_JDE0tab$$+$S$$*1.0E-5/$W_deltaL$$},_deltat:function($year$$){var $dt_i$$24_t$$;if($year$$>=1620&&$year$$<=2014){$dt_i$$24_t$$=Math.floor($year$$-1620);$dt_i$$24_t$$=ilib.data.astro._deltaTtab[$dt_i$$24_t$$]+(ilib.data.astro._deltaTtab[$dt_i$$24_t$$+1]-ilib.data.astro._deltaTtab[$dt_i$$24_t$$])*($year$$-1620-$dt_i$$24_t$$)}else{$dt_i$$24_t$$=($year$$-2E3)/100;if($year$$<948)$dt_i$$24_t$$=2177+497*$dt_i$$24_t$$+44.1*$dt_i$$24_t$$*
$dt_i$$24_t$$;else{$dt_i$$24_t$$=102+102*$dt_i$$24_t$$+25.3*$dt_i$$24_t$$*$dt_i$$24_t$$;$year$$>2E3&&$year$$<2100&&($dt_i$$24_t$$=$dt_i$$24_t$$+0.37*($year$$-2100))}}return $dt_i$$24_t$$},_obliqeq:function($eps_jd$$){var $u$$,$v$$,$i$$;$v$$=$u$$=($eps_jd$$-2451545)/3652500;$eps_jd$$=23+26/60+21.448/3600;if(Math.abs($u$$)<1)for($i$$=0;$i$$<10;$i$$++){$eps_jd$$=$eps_jd$$+ilib.data.astro._oterms[$i$$]/3600*$v$$;$v$$=$v$$*$u$$}return $eps_jd$$},_sunpos:function($epsilon_jd$$){var $ret$$={},$T$$,$T2$$,
$T3$$,$Omega$$;$T$$=($epsilon_jd$$-2451545)/36525;$T2$$=$T$$*$T$$;$T3$$=$T$$*$T2$$;$ret$$.meanLongitude=Astro._fixangle(280.46646+36000.76983*$T$$+3.032E-4*$T2$$);$ret$$.meanAnomaly=Astro._fixangle(357.52911+35999.05029*$T$$-1.537E-4*$T2$$-4.8E-7*$T3$$);$ret$$.eccentricity=0.016708634-4.2037E-5*$T$$-1.267E-7*$T2$$;$ret$$.equationOfCenter=(1.914602-0.004817*$T$$-1.4E-5*$T2$$)*Astro._dsin($ret$$.meanAnomaly)+(0.019993-1.01E-4*$T$$)*Astro._dsin(2*$ret$$.meanAnomaly)+2.89E-4*Astro._dsin(3*$ret$$.meanAnomaly);
$ret$$.sunLongitude=$ret$$.meanLongitude+$ret$$.equationOfCenter;$Omega$$=125.04-1934.136*$T$$;$ret$$.apparentLong=$ret$$.sunLongitude+-0.00569+-0.00478*Astro._dsin($Omega$$);$epsilon_jd$$=Astro._obliqeq($epsilon_jd$$)+0.00256*Astro._dcos($Omega$$);$ret$$.inclination=Astro._fixangle(23.4392911-0.013004167*$T$$-1.6389E-7*$T2$$+5.036E-7*$T3$$);$ret$$.apparentRightAscension=Astro._fixangle(Astro._rtd(Math.atan2(Astro._dcos($epsilon_jd$$)*Astro._dsin($ret$$.apparentLong),Astro._dcos($ret$$.apparentLong))));
return $ret$$},_nutation:function($jd$$){var $i$$,$j$$1_t$$;$j$$1_t$$=($jd$$-2451545)/36525;var $t3_to10$$,$jd$$=[],$dp$$=0,$de$$=0,$ang$$,$ret$$={};$t3_to10$$=$j$$1_t$$*($i$$=$j$$1_t$$*$j$$1_t$$);$jd$$[0]=Astro._dtr(297.850363+445267.11148*$j$$1_t$$-0.0019142*$i$$+$t3_to10$$/189474);$jd$$[1]=Astro._dtr(357.52772+35999.05034*$j$$1_t$$-1.603E-4*$i$$-$t3_to10$$/3E5);$jd$$[2]=Astro._dtr(134.96298+477198.867398*$j$$1_t$$+0.0086972*$i$$+$t3_to10$$/56250);$jd$$[3]=Astro._dtr(93.27191+483202.017538*$j$$1_t$$-
0.0036825*$i$$+$t3_to10$$/327270);$jd$$[4]=Astro._dtr(125.04452-1934.136261*$j$$1_t$$+0.0020708*$i$$+$t3_to10$$/45E4);for($i$$=0;$i$$<5;$i$$++)$jd$$[$i$$]=Astro._fixangr($jd$$[$i$$]);$t3_to10$$=$j$$1_t$$/10;for($i$$=0;$i$$<63;$i$$++){for($j$$1_t$$=$ang$$=0;$j$$1_t$$<5;$j$$1_t$$++)ilib.data.astro._nutArgMult[$i$$*5+$j$$1_t$$]!=0&&($ang$$=$ang$$+ilib.data.astro._nutArgMult[$i$$*5+$j$$1_t$$]*$jd$$[$j$$1_t$$]);$dp$$=$dp$$+(ilib.data.astro._nutArgCoeff[$i$$*4+0]+ilib.data.astro._nutArgCoeff[$i$$*4+1]*
$t3_to10$$)*Math.sin($ang$$);$de$$=$de$$+(ilib.data.astro._nutArgCoeff[$i$$*4+2]+ilib.data.astro._nutArgCoeff[$i$$*4+3]*$t3_to10$$)*Math.cos($ang$$)}$ret$$.deltaPsi=$dp$$/36E6;$ret$$.deltaEpsilon=$de$$/36E6;return $ret$$},_equationOfTime:function($E_epsilon$$1_jd$$){var $alpha$$,$deltaPsi$$,$L0$$;$alpha$$=($E_epsilon$$1_jd$$-2451545)/365250;$L0$$=Astro._fixangle(280.4664567+360007.6982779*$alpha$$+0.03032028*$alpha$$*$alpha$$+$alpha$$*$alpha$$*$alpha$$/49931+-($alpha$$*$alpha$$*$alpha$$*$alpha$$/
15300)+-($alpha$$*$alpha$$*$alpha$$*$alpha$$*$alpha$$/2E6));$alpha$$=Astro._sunpos($E_epsilon$$1_jd$$).apparentRightAscension;var $nut$$=Astro._nutation($E_epsilon$$1_jd$$);$deltaPsi$$=$nut$$.deltaPsi;$E_epsilon$$1_jd$$=Astro._obliqeq($E_epsilon$$1_jd$$)+$nut$$.deltaEpsilon;$E_epsilon$$1_jd$$=$L0$$-0.0057183-$alpha$$+$deltaPsi$$*Astro._dcos($E_epsilon$$1_jd$$);$E_epsilon$$1_jd$$>180&&($E_epsilon$$1_jd$$=$E_epsilon$$1_jd$$-360);return $E_epsilon$$1_jd$$*4/1440},_poly:function($x$$,$coefficients$$){for(var $result$$=
$coefficients$$[0],$xpow$$=$x$$,$i$$=1;$i$$<$coefficients$$.length;$i$$++){$result$$=$result$$+$coefficients$$[$i$$]*$xpow$$;$xpow$$=$xpow$$*$x$$}return $result$$},_universalFromLocal:function($local$$,$zone$$){return $local$$-$zone$$/1440},_localFromUniversal:function($local$$,$zone$$){return $local$$+$zone$$/1440},_aberration:function($c$$){return 9.74E-5*Astro._dcos(177.63+35999.01847999999*$c$$)-0.005575},_nutation2:function($b_c$$){var $a$$=Astro._poly($b_c$$,ilib.data.astro._nutCoeffA),$b_c$$=
Astro._poly($b_c$$,ilib.data.astro._nutCoeffB);return-0.004778*Astro._dsin($a$$)-3.667E-4*Astro._dsin($b_c$$)},_ephemerisCorrection:function($jd$$7_x$$55_year$$){$jd$$7_x$$55_year$$=GregorianDate._calcYear($jd$$7_x$$55_year$$-1721424.5);if(1988<=$jd$$7_x$$55_year$$&&$jd$$7_x$$55_year$$<=2019)return($jd$$7_x$$55_year$$-1933)/86400;if(1800<=$jd$$7_x$$55_year$$&&$jd$$7_x$$55_year$$<=1987){var $theta$$=((new GregRataDie({year:$jd$$7_x$$55_year$$,month:7,day:1,hour:0,minute:0,second:0})).getRataDie()-
693596)/36525;return Astro._poly($theta$$,1900<=$jd$$7_x$$55_year$$?ilib.data.astro._coeff19th:ilib.data.astro._coeff18th)}if(1620<=$jd$$7_x$$55_year$$&&$jd$$7_x$$55_year$$<=1799){$jd$$7_x$$55_year$$=$jd$$7_x$$55_year$$-1600;return(196.58333-4.0675*$jd$$7_x$$55_year$$+0.0219167*$jd$$7_x$$55_year$$*$jd$$7_x$$55_year$$)/86400}$jd$$7_x$$55_year$$=0.5+((new GregRataDie({year:$jd$$7_x$$55_year$$,month:1,day:1,hour:0,minute:0,second:0})).getRataDie()-660724);return($jd$$7_x$$55_year$$*$jd$$7_x$$55_year$$/
41048480-15)/86400},_ephemerisFromUniversal:function($jd$$){return $jd$$+Astro._ephemerisCorrection($jd$$)},_universalFromEphemeris:function($jd$$){return $jd$$-Astro._ephemerisCorrection($jd$$)},_julianCenturies:function($jd$$){return(Astro._ephemerisFromUniversal($jd$$)-2451545)/36525},_solarLongitude:function($c$$4_jd$$){for(var $c$$4_jd$$=Astro._julianCenturies($c$$4_jd$$),$longitude$$=0,$len$$=ilib.data.astro._solarLongCoeff.length,$i$$=0;$i$$<$len$$;$i$$++)$longitude$$=$longitude$$+ilib.data.astro._solarLongCoeff[$i$$]*
Astro._dsin(ilib.data.astro._solarLongAddends[$i$$]+ilib.data.astro._solarLongMultipliers[$i$$]*$c$$4_jd$$);$longitude$$=$longitude$$*5.729577951308232E-6+(282.7771834+36000.76953744*$c$$4_jd$$)+(Astro._aberration($c$$4_jd$$)+Astro._nutation2($c$$4_jd$$));return Astro._fixangle($longitude$$)},_lunarLongitude:function($c$$5_jd$$){for(var $c$$5_jd$$=Astro._julianCenturies($c$$5_jd$$),$meanMoon$$=Astro._fixangle(Astro._poly($c$$5_jd$$,ilib.data.astro._meanMoonCoeff)),$elongation_longitude$$=Astro._fixangle(Astro._poly($c$$5_jd$$,
ilib.data.astro._elongationCoeff)),$solarAnomaly_venus$$=Astro._fixangle(Astro._poly($c$$5_jd$$,ilib.data.astro._solarAnomalyCoeff)),$jupiter_lunarAnomaly$$=Astro._fixangle(Astro._poly($c$$5_jd$$,ilib.data.astro._lunarAnomalyCoeff)),$flatEarth_moonNode$$=Astro._fixangle(Astro._poly($c$$5_jd$$,ilib.data.astro._moonFromNodeCoeff)),$e$$=Astro._poly($c$$5_jd$$,ilib.data.astro._eCoeff),$sum$$=0,$i$$=0;$i$$<ilib.data.astro._lunarElongationLongCoeff.length;$i$$++)var $x$$=ilib.data.astro._solarAnomalyLongCoeff[$i$$],
$sum$$=$sum$$+ilib.data.astro._sineCoeff[$i$$]*Math.pow($e$$,Math.abs($x$$))*Astro._dsin(ilib.data.astro._lunarElongationLongCoeff[$i$$]*$elongation_longitude$$+$x$$*$solarAnomaly_venus$$+ilib.data.astro._lunarAnomalyLongCoeff[$i$$]*$jupiter_lunarAnomaly$$+ilib.data.astro._moonFromNodeLongCoeff[$i$$]*$flatEarth_moonNode$$);$elongation_longitude$$=$sum$$/1E6;$solarAnomaly_venus$$=0.003958*Astro._dsin(119.75+$c$$5_jd$$*131.849);$jupiter_lunarAnomaly$$=3.18E-4*Astro._dsin(53.09+$c$$5_jd$$*479264.29);
$flatEarth_moonNode$$=0.001962*Astro._dsin($meanMoon$$-$flatEarth_moonNode$$);return Astro._fixangle($meanMoon$$+$elongation_longitude$$+$solarAnomaly_venus$$+$jupiter_lunarAnomaly$$+$flatEarth_moonNode$$+Astro._nutation2($c$$5_jd$$))},_newMoonTime:function($approx_n$$){for(var $extra_k$$=$approx_n$$-24724,$c$$=$extra_k$$/1236.85,$approx_n$$=Astro._poly($c$$,ilib.data.astro._nmApproxCoeff),$additional_capE$$=Astro._poly($c$$,ilib.data.astro._nmCapECoeff),$solarAnomaly$$=Astro._poly($c$$,ilib.data.astro._nmSolarAnomalyCoeff),
$lunarAnomaly$$=Astro._poly($c$$,ilib.data.astro._nmLunarAnomalyCoeff),$moonArgument$$=Astro._poly($c$$,ilib.data.astro._nmMoonArgumentCoeff),$capOmega_correction$$=Astro._poly($c$$,ilib.data.astro._nmCapOmegaCoeff),$capOmega_correction$$=-1.7E-4*Astro._dsin($capOmega_correction$$),$i$$=0;$i$$<ilib.data.astro._nmSineCoeff.length;$i$$++)$capOmega_correction$$=$capOmega_correction$$+ilib.data.astro._nmSineCoeff[$i$$]*Math.pow($additional_capE$$,ilib.data.astro._nmEFactor[$i$$])*Astro._dsin(ilib.data.astro._nmSolarCoeff[$i$$]*
$solarAnomaly$$+ilib.data.astro._nmLunarCoeff[$i$$]*$lunarAnomaly$$+ilib.data.astro._nmMoonCoeff[$i$$]*$moonArgument$$);for($i$$=$additional_capE$$=0;$i$$<ilib.data.astro._nmAddConst.length;$i$$++)$additional_capE$$=$additional_capE$$+ilib.data.astro._nmAddFactor[$i$$]*Astro._dsin(ilib.data.astro._nmAddConst[$i$$]+ilib.data.astro._nmAddCoeff[$i$$]*$extra_k$$);$extra_k$$=3.25E-4*Astro._dsin(Astro._poly($c$$,ilib.data.astro._nmExtra));return Astro._universalFromEphemeris($approx_n$$+$capOmega_correction$$+
$extra_k$$+$additional_capE$$+RataDie.gregorianEpoch)},_lunarSolarAngle:function($jd$$){var $lunar$$=Astro._lunarLongitude($jd$$),$jd$$=Astro._solarLongitude($jd$$);return Astro._fixangle($lunar$$-$jd$$)},_newMoonBefore:function($jd$$){var $guess_phase$$=Astro._lunarSolarAngle($jd$$),$guess_phase$$=Math.round(($jd$$-11.450086114414322-RataDie.gregorianEpoch)/29.530588853-$guess_phase$$/360)-1,$current$$,$last$$;for($current$$=$last$$=Astro._newMoonTime($guess_phase$$);$current$$<$jd$$;){$guess_phase$$++;
$last$$=$current$$;$current$$=Astro._newMoonTime($guess_phase$$)}return $last$$},_newMoonAtOrAfter:function($jd$$){for(var $guess$$1_phase$$=Astro._lunarSolarAngle($jd$$),$guess$$1_phase$$=Math.round(($jd$$-11.450086114414322-RataDie.gregorianEpoch)/29.530588853-$guess$$1_phase$$/360),$current$$;($current$$=Astro._newMoonTime($guess$$1_phase$$))<$jd$$;)$guess$$1_phase$$++;return $current$$},_nextSolarLongitude:function($jd$$,$longitude$$){var $tau$$=$jd$$+365.242189/360*Astro._fixangle($longitude$$-
Astro._solarLongitude($jd$$)),$start$$=Math.max($jd$$,$tau$$-5);return SearchUtils.bisectionSearch(0,$start$$,$tau$$+5,1.0E-6,function($l$$){return 180-Astro._fixangle(Astro._solarLongitude($l$$)-$longitude$$)})},_floorToJD:function($jd$$){return Math.floor($jd$$-0.5)+0.5},_ceilToJD:function($jd$$){return Math.ceil($jd$$+0.5)-0.5}},PersRataDie=function $PersRataDie$($params$$){this.rd=void 0;Astro.initAstro($params$$&&typeof $params$$.sync==="boolean"?$params$$.sync:true,$params$$&&$params$$.loadParams,
ilib.bind(this,function(){RataDie.call(this,$params$$);$params$$&&typeof $params$$.callback==="function"&&$params$$.callback(this)}))};PersRataDie.prototype=new RataDie;PersRataDie.prototype.parent=RataDie;PersRataDie.prototype.constructor=PersRataDie;PersRataDie.prototype.epoch=1948319.5;
PersRataDie.prototype._tehranEquinox=function $PersRataDie$$_tehranEquinox$($equJD_year$$){var $eot_equJED$$;$eot_equJED$$=Astro._equinox($equJD_year$$,0);$equJD_year$$=$eot_equJED$$-Astro._deltat($equJD_year$$)/86400;$eot_equJED$$=Astro._equationOfTime($eot_equJED$$)*360;$eot_equJED$$=($eot_equJED$$-20*Math.floor($eot_equJED$$/20))/360;return $equJD_year$$+$eot_equJED$$+52.5/360};
PersRataDie.prototype._getYear=function $PersRataDie$$_getYear$($jd$$){var $guess$$=(new GregorianDate({julianday:$jd$$})).getYears()-2,$nexteq$$,$ret$$={};for($ret$$.equinox=this._tehranEquinox($guess$$);$ret$$.equinox>$jd$$;){$guess$$--;$ret$$.equinox=this._tehranEquinox($guess$$)}for($nexteq$$=$ret$$.equinox-1;!(Math.floor($ret$$.equinox)+0.5<=$jd$$&&$jd$$<Math.floor($nexteq$$)+0.5);){$ret$$.equinox=$nexteq$$;$guess$$++;$nexteq$$=this._tehranEquinox($guess$$)}$ret$$.year=Math.round(($ret$$.equinox-
this.epoch-1)/365.24219878)+1;return $ret$$};
PersRataDie.prototype._setDateComponents=function $PersRataDie$$_setDateComponents$($date$$){var $adr_jd$$,$guess$$;$guess$$=this.epoch+1+365.24219878*($date$$.year-2);for($adr_jd$$={year:$date$$.year-1,equinox:0};$adr_jd$$.year<$date$$.year;){$adr_jd$$=this._getYear($guess$$);$guess$$=$adr_jd$$.equinox+367.24219878}$adr_jd$$=Math.floor($adr_jd$$.equinox)+($date$$.month<=7?($date$$.month-1)*31:($date$$.month-1)*30+6)+($date$$.day-1+0.5);$adr_jd$$=$adr_jd$$+($date$$.hour*36E5+$date$$.minute*6E4+$date$$.second*
1E3+$date$$.millisecond)/864E5;this.rd=$adr_jd$$-this.epoch};PersRataDie.prototype._onOrBefore=function $PersRataDie$$_onOrBefore$($rd$$,$dayOfWeek$$){return $rd$$-MathUtils.mod(Math.floor($rd$$)-$dayOfWeek$$-3,7)};var PersianCal=function $PersianCal$(){this.type="persian"};PersianCal.monthLengths=[31,31,31,31,31,31,30,30,30,30,30,29];PersianCal.prototype.getNumMonths=function $PersianCal$$getNumMonths$(){return 12};
PersianCal.prototype.getMonLength=function $PersianCal$$getMonLength$($month$$,$year$$){return $month$$!==12||!this.isLeapYear($year$$)?PersianCal.monthLengths[$month$$-1]:30};
PersianCal.prototype.isLeapYear=function $PersianCal$$isLeapYear$($rdThisYear_year$$){var $rdNextYear$$=new PersRataDie({cal:this,year:$rdThisYear_year$$+1,month:1,day:1,hour:0,minute:0,second:0,millisecond:0}),$rdThisYear_year$$=new PersRataDie({cal:this,year:$rdThisYear_year$$,month:1,day:1,hour:0,minute:0,second:0,millisecond:0});return $rdNextYear$$.getRataDie()-$rdThisYear_year$$.getRataDie()>365};PersianCal.prototype.getType=function $PersianCal$$getType$(){return this.type};
PersianCal.prototype.newDateInstance=function $PersianCal$$newDateInstance$($options$$){return new PersianDate($options$$)};Calendar._constructors.persian=PersianCal;
var PersianDate=function $PersianDate$($params$$){this.cal=new PersianCal;this.timezone="local";if($params$$){if($params$$.locale){this.locale=typeof $params$$.locale==="string"?new Locale($params$$.locale):$params$$.locale;this.timezone=(new LocaleInfo(this.locale)).getTimeZone()}if($params$$.timezone)this.timezone=$params$$.timezone}Astro.initAstro($params$$&&typeof $params$$.sync==="boolean"?$params$$.sync:true,$params$$&&$params$$.loadParams,ilib.bind(this,function(){if($params$$&&($params$$.year||
$params$$.month||$params$$.day||$params$$.hour||$params$$.minute||$params$$.second||$params$$.millisecond)){this.year=parseInt($params$$.year,10)||0;this.month=parseInt($params$$.month,10)||1;this.day=parseInt($params$$.day,10)||1;this.hour=parseInt($params$$.hour,10)||0;this.minute=parseInt($params$$.minute,10)||0;this.second=parseInt($params$$.second,10)||0;this.millisecond=parseInt($params$$.millisecond,10)||0;this.dayOfYear=parseInt($params$$.dayOfYear,10);if(typeof $params$$.dst==="boolean")this.dst=
$params$$.dst;this.rd=this.newRd(this);if(!this.tz)this.tz=new TimeZone({id:this.timezone});this.offset=this.tz._getOffsetMillisWallTime(this)/864E5;if(this.offset!==0)this.rd=this.newRd({rd:this.rd.getRataDie()-this.offset})}if(!this.rd){this.rd=this.newRd($params$$);this._calcDateComponents()}if($params$$&&typeof $params$$.onLoad==="function")$params$$.onLoad(this)}))};PersianDate.prototype=new IDate({noinstance:!0});PersianDate.prototype.parent=IDate;PersianDate.prototype.constructor=PersianDate;
PersianDate.cumMonthLengths=[0,31,62,93,124,155,186,216,246,276,306,336,366];PersianDate.prototype.newRd=function $PersianDate$$newRd$($params$$){return new PersRataDie($params$$)};PersianDate.prototype._calcYear=function $PersianDate$$_calcYear$($rd$$){return this.rd._getYear($rd$$+this.rd.epoch).year};
PersianDate.prototype._calcDateComponents=function $PersianDate$$_calcDateComponents$(){var $rd$$22_remainder$$;$rd$$22_remainder$$=this.rd.getRataDie();this.year=this._calcYear($rd$$22_remainder$$);if(typeof this.offset==="undefined"){if(!this.tz)this.tz=new TimeZone({id:this.timezone});this.offset=this.tz.getOffsetMillis(this)/864E5}if(this.offset!==0){$rd$$22_remainder$$=$rd$$22_remainder$$+this.offset;this.year=this._calcYear($rd$$22_remainder$$)}var $yearStart$$=this.newRd({year:this.year,month:1,
day:1,hour:0,minute:0,second:0,millisecond:0});this.dayOfYear=$rd$$22_remainder$$=$rd$$22_remainder$$-$yearStart$$.getRataDie()+1;this.month=SearchUtils.bsearch(Math.floor($rd$$22_remainder$$),PersianDate.cumMonthLengths);$rd$$22_remainder$$=$rd$$22_remainder$$-PersianDate.cumMonthLengths[this.month-1];this.day=Math.floor($rd$$22_remainder$$);$rd$$22_remainder$$=$rd$$22_remainder$$-this.day;$rd$$22_remainder$$=Math.round($rd$$22_remainder$$*864E5);this.hour=Math.floor($rd$$22_remainder$$/36E5);$rd$$22_remainder$$=
$rd$$22_remainder$$-this.hour*36E5;this.minute=Math.floor($rd$$22_remainder$$/6E4);$rd$$22_remainder$$=$rd$$22_remainder$$-this.minute*6E4;this.second=Math.floor($rd$$22_remainder$$/1E3);this.millisecond=$rd$$22_remainder$$=$rd$$22_remainder$$-this.second*1E3};PersianDate.prototype.getDayOfWeek=function $PersianDate$$getDayOfWeek$(){var $rd$$=Math.floor(this.getRataDie());return MathUtils.mod($rd$$-3,7)};
PersianDate.prototype.getDayOfYear=function $PersianDate$$getDayOfYear$(){return PersianDate.cumMonthLengths[this.month-1]+this.day};PersianDate.prototype.getEra=function $PersianDate$$getEra$(){return this.year<1?-1:1};PersianDate.prototype.getCalendar=function $PersianDate$$getCalendar$(){return"persian"};IDate._constructors.persian=PersianDate;var PersianAlgoCal=function $PersianAlgoCal$(){this.type="persian-algo"};PersianAlgoCal.monthLengths=[31,31,31,31,31,31,30,30,30,30,30,29];
PersianAlgoCal.prototype.getNumMonths=function $PersianAlgoCal$$getNumMonths$(){return 12};PersianAlgoCal.prototype.getMonLength=function $PersianAlgoCal$$getMonLength$($month$$,$year$$){return $month$$!==12||!this.isLeapYear($year$$)?PersianAlgoCal.monthLengths[$month$$-1]:30};PersianAlgoCal.prototype.equivalentCycleYear=function $PersianAlgoCal$$equivalentCycleYear$($year$$){return MathUtils.mod($year$$-($year$$>=0?474:473),2820)+474};
PersianAlgoCal.prototype.isLeapYear=function $PersianAlgoCal$$isLeapYear$($year$$){return MathUtils.mod((this.equivalentCycleYear($year$$)+38)*682,2816)<682};PersianAlgoCal.prototype.getType=function $PersianAlgoCal$$getType$(){return this.type};PersianAlgoCal.prototype.newDateInstance=function $PersianAlgoCal$$newDateInstance$($options$$){return new PersianAlgoDate($options$$)};Calendar._constructors["persian-algo"]=PersianAlgoCal;
var PersAlgoRataDie=function $PersAlgoRataDie$($params$$){this.cal=$params$$&&$params$$.cal||new PersianAlgoCal;this.rd=void 0;RataDie.call(this,$params$$)};PersAlgoRataDie.prototype=new RataDie;PersAlgoRataDie.prototype.parent=RataDie;PersAlgoRataDie.prototype.constructor=PersAlgoRataDie;PersAlgoRataDie.prototype.epoch=1948319.5;PersAlgoRataDie.cumMonthLengths=[0,31,62,93,124,155,186,216,246,276,306,336,365];
PersAlgoRataDie.prototype._setDateComponents=function $PersAlgoRataDie$$_setDateComponents$($date$$){var $year$$=this.cal.equivalentCycleYear($date$$.year);this.rd=1029983*Math.floor(($date$$.year-($date$$.year>=0?474:473))/2820)+365*($year$$-1)+Math.floor((682*$year$$-110)/2816)+(($date$$.month>1?PersAlgoRataDie.cumMonthLengths[$date$$.month-1]:0)+$date$$.day)+($date$$.hour*36E5+$date$$.minute*6E4+$date$$.second*1E3+$date$$.millisecond)/864E5};
PersAlgoRataDie.prototype._onOrBefore=function $PersAlgoRataDie$$_onOrBefore$($rd$$,$dayOfWeek$$){return $rd$$-MathUtils.mod(Math.floor($rd$$)-$dayOfWeek$$-3,7)};
var PersianAlgoDate=function $PersianAlgoDate$($params$$){this.cal=new PersianAlgoCal;this.timezone="local";if($params$$){if($params$$.locale){this.locale=typeof $params$$.locale==="string"?new Locale($params$$.locale):$params$$.locale;this.timezone=(new LocaleInfo(this.locale)).getTimeZone()}if($params$$.timezone)this.timezone=$params$$.timezone;if($params$$.year||$params$$.month||$params$$.day||$params$$.hour||$params$$.minute||$params$$.second||$params$$.millisecond){this.year=parseInt($params$$.year,
10)||0;this.month=parseInt($params$$.month,10)||1;this.day=parseInt($params$$.day,10)||1;this.hour=parseInt($params$$.hour,10)||0;this.minute=parseInt($params$$.minute,10)||0;this.second=parseInt($params$$.second,10)||0;this.millisecond=parseInt($params$$.millisecond,10)||0;this.dayOfYear=parseInt($params$$.dayOfYear,10);if(typeof $params$$.dst==="boolean")this.dst=$params$$.dst;this.rd=this.newRd(this);if(!this.tz)this.tz=new TimeZone({id:this.timezone});this.offset=this.tz._getOffsetMillisWallTime(this)/
864E5;if(this.offset!==0)this.rd=this.newRd({rd:this.rd.getRataDie()-this.offset})}}if(!this.rd){this.rd=this.newRd($params$$);this._calcDateComponents()}};PersianAlgoDate.prototype=new IDate({noinstance:!0});PersianAlgoDate.prototype.parent=IDate;PersianAlgoDate.prototype.constructor=PersianAlgoDate;PersianAlgoDate.prototype.newRd=function $PersianAlgoDate$$newRd$($params$$){return new PersAlgoRataDie($params$$)};
PersianAlgoDate.prototype._calcYear=function $PersianAlgoDate$$_calcYear$($numberOfCycles_rd$$25_year$$){var $shiftedDayInCycle_shiftedRd$$=$numberOfCycles_rd$$25_year$$-173126,$numberOfCycles_rd$$25_year$$=Math.floor($shiftedDayInCycle_shiftedRd$$/1029983),$shiftedDayInCycle_shiftedRd$$=MathUtils.mod($shiftedDayInCycle_shiftedRd$$,1029983),$numberOfCycles_rd$$25_year$$=474+2820*$numberOfCycles_rd$$25_year$$+($shiftedDayInCycle_shiftedRd$$===1029982?2820:Math.floor((2816*$shiftedDayInCycle_shiftedRd$$+
1031337)/1028522));return $numberOfCycles_rd$$25_year$$>0?$numberOfCycles_rd$$25_year$$:$numberOfCycles_rd$$25_year$$-1};
PersianAlgoDate.prototype._calcDateComponents=function $PersianAlgoDate$$_calcDateComponents$(){var $rd$$26_remainder$$;$rd$$26_remainder$$=this.rd.getRataDie();this.year=this._calcYear($rd$$26_remainder$$);if(typeof this.offset==="undefined"){if(!this.tz)this.tz=new TimeZone({id:this.timezone});this.offset=this.tz.getOffsetMillis(this)/864E5}if(this.offset!==0){$rd$$26_remainder$$=$rd$$26_remainder$$+this.offset;this.year=this._calcYear($rd$$26_remainder$$)}var $yearStart$$=this.newRd({year:this.year,
month:1,day:1,hour:0,minute:0,second:0,millisecond:0});this.dayOfYear=$rd$$26_remainder$$=$rd$$26_remainder$$-$yearStart$$.getRataDie()+1;this.month=SearchUtils.bsearch($rd$$26_remainder$$,PersAlgoRataDie.cumMonthLengths);$rd$$26_remainder$$=$rd$$26_remainder$$-PersAlgoRataDie.cumMonthLengths[this.month-1];this.day=Math.floor($rd$$26_remainder$$);$rd$$26_remainder$$=$rd$$26_remainder$$-this.day;$rd$$26_remainder$$=Math.round($rd$$26_remainder$$*864E5);this.hour=Math.floor($rd$$26_remainder$$/36E5);
$rd$$26_remainder$$=$rd$$26_remainder$$-this.hour*36E5;this.minute=Math.floor($rd$$26_remainder$$/6E4);$rd$$26_remainder$$=$rd$$26_remainder$$-this.minute*6E4;this.second=Math.floor($rd$$26_remainder$$/1E3);this.millisecond=$rd$$26_remainder$$=$rd$$26_remainder$$-this.second*1E3};PersianAlgoDate.prototype.getDayOfWeek=function $PersianAlgoDate$$getDayOfWeek$(){var $rd$$=Math.floor(this.getRataDie());return MathUtils.mod($rd$$-3,7)};
PersianAlgoDate.prototype.getDayOfYear=function $PersianAlgoDate$$getDayOfYear$(){return PersAlgoRataDie.cumMonthLengths[this.month-1]+this.day};PersianAlgoDate.prototype.getEra=function $PersianAlgoDate$$getEra$(){return this.year<1?-1:1};PersianAlgoDate.prototype.getCalendar=function $PersianAlgoDate$$getCalendar$(){return"persian-algo"};IDate._constructors["persian-algo"]=PersianAlgoDate;
var HanCal=function $HanCal$($params$$){this.type="han";Astro.initAstro($params$$&&typeof $params$$.sync==="boolean"?$params$$.sync:true,$params$$&&$params$$.loadParams,ilib.bind(this,function(){$params$$&&typeof $params$$.callback==="function"&&$params$$.callback(this)}))};HanCal._getElapsedYear=function $HanCal$_getElapsedYear$($year$$,$cycle$$){var $elapsedYear$$=$year$$||0;typeof $year$$!=="undefined"&&($year$$<61&&typeof $cycle$$!=="undefined")&&($elapsedYear$$=60*$cycle$$+$year$$);return $elapsedYear$$};
HanCal._hanNextSolarLongitude=function $HanCal$_hanNextSolarLongitude$($jd$$,$longitude$$){var $tz$$=HanCal._chineseTZ($jd$$),$sol_uni$$=Astro._universalFromLocal($jd$$,$tz$$),$sol_uni$$=Astro._nextSolarLongitude($sol_uni$$,$longitude$$);return Astro._localFromUniversal($sol_uni$$,$tz$$)};
HanCal._majorSTOnOrAfter=function $HanCal$_majorSTOnOrAfter$($jd$$){var $next_tz$$5_uni$$=HanCal._chineseTZ($jd$$),$next_tz$$5_uni$$=Astro._universalFromLocal($jd$$,$next_tz$$5_uni$$),$next_tz$$5_uni$$=Astro._fixangle(30*Math.ceil(Astro._solarLongitude($next_tz$$5_uni$$)/30));return HanCal._hanNextSolarLongitude($jd$$,$next_tz$$5_uni$$)};
HanCal._solsticeBefore=function $HanCal$_solsticeBefore$($year$$,$cycle$$){var $gregyear_rd$$=HanCal._getElapsedYear($year$$,$cycle$$)-2697,$gregyear_rd$$=new GregRataDie({year:$gregyear_rd$$-1,month:12,day:15,hour:0,minute:0,second:0,millisecond:0});return HanCal._majorSTOnOrAfter($gregyear_rd$$.getRataDie()+RataDie.gregorianEpoch)};HanCal._chineseTZ=function $HanCal$_chineseTZ$($jd$$){return GregorianDate._calcYear($jd$$-RataDie.gregorianEpoch)<1929?465.6666666666667:480};
HanCal._newMoonOnOrAfter=function $HanCal$_newMoonOnOrAfter$($jd$$24_moon_uni$$){var $tz$$=HanCal._chineseTZ($jd$$24_moon_uni$$),$jd$$24_moon_uni$$=Astro._universalFromLocal($jd$$24_moon_uni$$,$tz$$),$jd$$24_moon_uni$$=Astro._newMoonAtOrAfter($jd$$24_moon_uni$$);return Astro._floorToJD(Astro._localFromUniversal($jd$$24_moon_uni$$,$tz$$))};
HanCal._newMoonBefore=function $HanCal$_newMoonBefore$($jd$$25_moon$$1_uni$$){var $tz$$=HanCal._chineseTZ($jd$$25_moon$$1_uni$$),$jd$$25_moon$$1_uni$$=Astro._universalFromLocal($jd$$25_moon$$1_uni$$,$tz$$),$jd$$25_moon$$1_uni$$=Astro._newMoonBefore($jd$$25_moon$$1_uni$$);return Astro._floorToJD(Astro._localFromUniversal($jd$$25_moon$$1_uni$$,$tz$$))};
HanCal._leapYearCalc=function $HanCal$_leapYearCalc$($year$$,$cycle$$){var $ret$$={elapsedYear:HanCal._getElapsedYear($year$$,$cycle$$)};$ret$$.solstice1=HanCal._solsticeBefore($ret$$.elapsedYear);$ret$$.solstice2=HanCal._solsticeBefore($ret$$.elapsedYear+1);$ret$$.m1=HanCal._newMoonOnOrAfter(Astro._ceilToJD($ret$$.solstice1));$ret$$.m2=HanCal._newMoonBefore(Astro._ceilToJD($ret$$.solstice2));return $ret$$};
HanCal._currentMajorST=function $HanCal$_currentMajorST$($jd$$26_s$$){$jd$$26_s$$=Astro._solarLongitude(Astro._universalFromLocal($jd$$26_s$$,HanCal._chineseTZ($jd$$26_s$$)));return MathUtils.amod(2+Math.floor($jd$$26_s$$/30),12)};HanCal._noMajorST=function $HanCal$_noMajorST$($jd$$){return HanCal._currentMajorST($jd$$)===HanCal._currentMajorST(HanCal._newMoonOnOrAfter($jd$$+1))};
HanCal.prototype.getNumMonths=function $HanCal$$getNumMonths$($year$$,$cycle$$){return this.isLeapYear($year$$,$cycle$$)?13:12};HanCal.prototype.getMonLength=function $HanCal$$getMonLength$($month$$,$year$$){var $calc_priorNewMoon$$=HanCal._leapYearCalc($year$$),$calc_priorNewMoon$$=HanCal._newMoonOnOrAfter($calc_priorNewMoon$$.m1+$month$$*29);return HanCal._newMoonOnOrAfter($calc_priorNewMoon$$+1)-$calc_priorNewMoon$$};
HanCal.prototype.equivalentCycleYear=function $HanCal$$equivalentCycleYear$($year$$){return MathUtils.mod($year$$-($year$$>=0?474:473),2820)+474};HanCal.prototype.isLeapYear=function $HanCal$$isLeapYear$($year$$,$cycle$$){var $calc$$=HanCal._leapYearCalc($year$$,$cycle$$);return Math.round(($calc$$.m2-$calc$$.m1)/29.530588853)===12};
HanCal.prototype.getLeapMonth=function $HanCal$$getLeapMonth$($year$$,$cycle$$){var $calc$$=HanCal._leapYearCalc($year$$,$cycle$$);if(Math.round(($calc$$.m2-$calc$$.m1)/29.530588853)!=12)return-1;for(var $month$$=0,$calc$$=HanCal._newMoonOnOrAfter($calc$$.m1+1);!HanCal._noMajorST($calc$$);){$month$$++;$calc$$=HanCal._newMoonOnOrAfter($calc$$+1)}return $month$$};
HanCal.prototype.newYears=function $HanCal$$newYears$($year$$,$cycle$$){var $calc$$=HanCal._leapYearCalc($year$$,$cycle$$),$m2$$=HanCal._newMoonOnOrAfter($calc$$.m1+1);return Math.round(($calc$$.m2-$calc$$.m1)/29.530588853)===12&&(HanCal._noMajorST($calc$$.m1)||HanCal._noMajorST($m2$$))?HanCal._newMoonOnOrAfter($m2$$+1):$m2$$};HanCal.prototype.getType=function $HanCal$$getType$(){return this.type};HanCal.prototype.newDateInstance=function $HanCal$$newDateInstance$($options$$){return new HanDate($options$$)};
Calendar._constructors.han=HanCal;var HanRataDie=function $HanRataDie$($params$$){this.rd=void 0;if($params$$&&$params$$.cal){this.cal=$params$$.cal;RataDie.call(this,$params$$);$params$$&&typeof $params$$.callback==="function"&&$params$$.callback(this)}else new HanCal({sync:$params$$&&$params$$.sync,loadParams:$params$$&&$params$$.loadParams,callback:ilib.bind(this,function($c$$){this.cal=$c$$;RataDie.call(this,$params$$);$params$$&&typeof $params$$.callback==="function"&&$params$$.callback(this)})})};
HanRataDie.prototype=new RataDie;HanRataDie.prototype.parent=RataDie;HanRataDie.prototype.constructor=HanRataDie;HanRataDie.epoch=758325.5;
HanRataDie.prototype._setDateComponents=function $HanRataDie$$_setDateComponents$($date$$){var $calc$$4_priorNewMoon$$=HanCal._leapYearCalc($date$$.year,$date$$.cycle),$m2$$=HanCal._newMoonOnOrAfter($calc$$4_priorNewMoon$$.m1+1),$m2$$=(this.leapYear=Math.round(($calc$$4_priorNewMoon$$.m2-$calc$$4_priorNewMoon$$.m1)/29.530588853)===12)&&(HanCal._noMajorST($calc$$4_priorNewMoon$$.m1)||HanCal._noMajorST($m2$$))?HanCal._newMoonOnOrAfter($m2$$+1):$m2$$,$calc$$4_priorNewMoon$$=HanCal._newMoonOnOrAfter($calc$$4_priorNewMoon$$.m1+
$date$$.month*29);this.priorLeapMonth=HanRataDie._priorLeapMonth($m2$$,HanCal._newMoonBefore($calc$$4_priorNewMoon$$));this.leapMonth=this.leapYear&&HanCal._noMajorST($calc$$4_priorNewMoon$$)&&!this.priorLeapMonth;this.rd=$calc$$4_priorNewMoon$$+$date$$.day-1+($date$$.hour*36E5+$date$$.minute*6E4+$date$$.second*1E3+$date$$.millisecond)/864E5-RataDie.gregorianEpoch};
HanRataDie.prototype._onOrBefore=function $HanRataDie$$_onOrBefore$($rd$$,$dayOfWeek$$){return $rd$$-MathUtils.mod(Math.floor($rd$$)-$dayOfWeek$$,7)};HanRataDie._priorLeapMonth=function $HanRataDie$_priorLeapMonth$($jd1$$,$jd2$$){return $jd2$$>=$jd1$$&&(HanRataDie._priorLeapMonth($jd1$$,HanCal._newMoonBefore($jd2$$))||HanCal._noMajorST($jd2$$))};
var HanDate=function $HanDate$($params$$){this.timezone="local";if($params$$){if($params$$.locale){this.locale=typeof $params$$.locale==="string"?new Locale($params$$.locale):$params$$.locale;this.timezone=(new LocaleInfo(this.locale)).getTimeZone()}if($params$$.timezone)this.timezone=$params$$.timezone}new HanCal({sync:$params$$&&typeof $params$$==="boolean"?$params$$.sync:true,loadParams:$params$$&&$params$$.loadParams,callback:ilib.bind(this,function($cal$$1_year$$){this.cal=$cal$$1_year$$;if($params$$&&
($params$$.year||$params$$.month||$params$$.day||$params$$.hour||$params$$.minute||$params$$.second||$params$$.millisecond||$params$$.cycle||$params$$.cycleYear)){if(typeof $params$$.cycle!=="undefined"){this.cycle=parseInt($params$$.cycle,10)||0;$cal$$1_year$$=(typeof $params$$.year!=="undefined"?parseInt($params$$.year,10):parseInt($params$$.cycleYear,10))||0;this.year=HanCal._getElapsedYear($cal$$1_year$$,this.cycle)}else if(typeof $params$$.year!=="undefined"){this.year=parseInt($params$$.year,
10)||0;this.cycle=Math.floor((this.year-1)/60)}else this.year=this.cycle=0;this.month=parseInt($params$$.month,10)||1;this.day=parseInt($params$$.day,10)||1;this.hour=parseInt($params$$.hour,10)||0;this.minute=parseInt($params$$.minute,10)||0;this.second=parseInt($params$$.second,10)||0;this.millisecond=parseInt($params$$.millisecond,10)||0;this.cycleYear=MathUtils.amod(this.year,60);this.dayOfYear=parseInt($params$$.dayOfYear,10);if(typeof $params$$.dst==="boolean")this.dst=$params$$.dst;this.newRd({cal:this.cal,
cycle:this.cycle,year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second,millisecond:this.millisecond,sync:$params$$&&typeof $params$$.sync==="boolean"?$params$$.sync:true,loadParams:$params$$&&$params$$.loadParams,callback:ilib.bind(this,function($rd$$){if($rd$$){this.rd=$rd$$;if(!this.tz)this.tz=new TimeZone({id:this.timezone});this.offset=this.tz._getOffsetMillisWallTime(this)/864E5;if(this.offset!==0){this.rd=this.newRd({cal:this.cal,rd:this.rd.getRataDie()-
this.offset});this._calcLeap()}else{this.leapMonth=this.rd.leapMonth;this.priorLeapMonth=this.rd.priorLeapMonth;this.leapYear=this.rd.leapYear}}if(!this.rd){this.rd=this.newRd(JSUtils.merge($params$$||{},{cal:this.cal}));this._calcDateComponents()}if($params$$&&typeof $params$$.onLoad==="function")$params$$.onLoad(this)})})}else{if(!this.rd){this.rd=this.newRd(JSUtils.merge($params$$||{},{cal:this.cal}));this._calcDateComponents()}if($params$$&&typeof $params$$.onLoad==="function")$params$$.onLoad(this)}})})};
HanDate.prototype=new IDate({noinstance:!0});HanDate.prototype.parent=IDate;HanDate.prototype.constructor=HanDate;HanDate.prototype.newRd=function $HanDate$$newRd$($params$$){return new HanRataDie($params$$)};HanDate.prototype._calcYear=function $HanDate$$_calcYear$($rd$$){var $hanyear$$=(new GregorianDate({rd:$rd$$,timezone:this.timezone})).year+2697,$newYears$$=this.cal.newYears($hanyear$$);return $hanyear$$-($rd$$+RataDie.gregorianEpoch<$newYears$$?1:0)};
HanDate.prototype._calcLeap=function $HanDate$$_calcLeap$(){var $jd$$28_m$$=this.rd.getRataDie()+RataDie.gregorianEpoch,$calc$$5_newYears$$=HanCal._leapYearCalc(this.year),$m2$$=HanCal._newMoonOnOrAfter($calc$$5_newYears$$.m1+1),$calc$$5_newYears$$=(this.leapYear=Math.round(($calc$$5_newYears$$.m2-$calc$$5_newYears$$.m1)/29.530588853)===12)&&(HanCal._noMajorST($calc$$5_newYears$$.m1)||HanCal._noMajorST($m2$$))?HanCal._newMoonOnOrAfter($m2$$+1):$m2$$,$jd$$28_m$$=HanCal._newMoonBefore($jd$$28_m$$+1);
this.priorLeapMonth=HanRataDie._priorLeapMonth($calc$$5_newYears$$,HanCal._newMoonBefore($jd$$28_m$$));this.leapMonth=this.leapYear&&HanCal._noMajorST($jd$$28_m$$)&&!this.priorLeapMonth};
HanDate.prototype._calcDateComponents=function $HanDate$$_calcDateComponents$(){var $jd$$29_remainder$$;$jd$$29_remainder$$=this.rd.getRataDie()+RataDie.gregorianEpoch;if(typeof this.offset==="undefined"){if(!this.tz)this.tz=new TimeZone({id:this.timezone});this.offset=this.tz.getOffsetMillis(this)/864E5}this.offset!==0&&($jd$$29_remainder$$=$jd$$29_remainder$$+this.offset);this.year=GregorianDate._calcYear(this.rd.getRataDie())+2697;var $calc$$=HanCal._leapYearCalc(this.year),$m2$$3_newYears$$=HanCal._newMoonOnOrAfter($calc$$.m1+
1),$m2$$3_newYears$$=(this.leapYear=Math.round(($calc$$.m2-$calc$$.m1)/29.530588853)===12)&&(HanCal._noMajorST($calc$$.m1)||HanCal._noMajorST($m2$$3_newYears$$))?HanCal._newMoonOnOrAfter($m2$$3_newYears$$+1):$m2$$3_newYears$$;if($jd$$29_remainder$$<$m2$$3_newYears$$){this.year--;$calc$$=HanCal._leapYearCalc(this.year);$m2$$3_newYears$$=HanCal._newMoonOnOrAfter($calc$$.m1+1);$m2$$3_newYears$$=(this.leapYear=Math.round(($calc$$.m2-$calc$$.m1)/29.530588853)===12)&&(HanCal._noMajorST($calc$$.m1)||HanCal._noMajorST($m2$$3_newYears$$))?
HanCal._newMoonOnOrAfter($m2$$3_newYears$$+1):$m2$$3_newYears$$}var $m$$=HanCal._newMoonBefore($jd$$29_remainder$$+1);this.month=Math.round(($m$$-$calc$$.m1)/29.530588853);this.priorLeapMonth=HanRataDie._priorLeapMonth($m2$$3_newYears$$,HanCal._newMoonBefore($m$$));this.leapMonth=this.leapYear&&HanCal._noMajorST($m$$)&&!this.priorLeapMonth;this.cycle=Math.floor((this.year-1)/60);this.cycleYear=MathUtils.amod(this.year,60);this.day=Astro._floorToJD($jd$$29_remainder$$)-$m$$+1;$jd$$29_remainder$$=$jd$$29_remainder$$-
Astro._floorToJD($jd$$29_remainder$$);$jd$$29_remainder$$=Math.round($jd$$29_remainder$$*864E5);this.hour=Math.floor($jd$$29_remainder$$/36E5);$jd$$29_remainder$$=$jd$$29_remainder$$-this.hour*36E5;this.minute=Math.floor($jd$$29_remainder$$/6E4);$jd$$29_remainder$$=$jd$$29_remainder$$-this.minute*6E4;this.second=Math.floor($jd$$29_remainder$$/1E3);this.millisecond=$jd$$29_remainder$$=$jd$$29_remainder$$-this.second*1E3};HanDate.prototype.getCycleYears=function $HanDate$$getCycleYears$(){return this.cycleYear};
HanDate.prototype.getCycles=function $HanDate$$getCycles$(){return this.cycle};HanDate.prototype.isLeapYear=function $HanDate$$isLeapYear$(){return this.leapYear};HanDate.prototype.isLeapMonth=function $HanDate$$isLeapMonth$(){return this.leapMonth};HanDate.prototype.getDayOfWeek=function $HanDate$$getDayOfWeek$(){var $rd$$=Math.floor(this.rd.getRataDie()+(this.offset||0));return MathUtils.mod($rd$$,7)};
HanDate.prototype.getDayOfYear=function $HanDate$$getDayOfYear$(){var $newYears$$=this.cal.newYears(this.year);return HanCal._newMoonOnOrAfter($newYears$$+(this.month-1)*29)-$newYears$$+this.day};HanDate.prototype.getEra=function $HanDate$$getEra$(){return this.year<1?-1:1};HanDate.prototype.getCalendar=function $HanDate$$getCalendar$(){return"han"};IDate._constructors.han=HanDate;var EthiopicCal=function $EthiopicCal$(){this.type="ethiopic"};EthiopicCal.prototype.getNumMonths=function $EthiopicCal$$getNumMonths$(){return 13};
EthiopicCal.prototype.getMonLength=function $EthiopicCal$$getMonLength$($month$$,$year$$){var $m$$=$month$$;switch(typeof $m$$){case "string":$m$$=parseInt($m$$,10);break;case "function":case "object":case "undefined":return 30}return $m$$<13?30:this.isLeapYear($year$$)?6:5};
EthiopicCal.prototype.isLeapYear=function $EthiopicCal$$isLeapYear$($y$$42_year$$){switch(typeof $y$$42_year$$){case "string":$y$$42_year$$=parseInt($y$$42_year$$,10);break;case "object":if(typeof $y$$42_year$$.year!=="number")return false;$y$$42_year$$=$y$$42_year$$.year;break;case "function":case "undefined":return false}return MathUtils.mod($y$$42_year$$,4)===3};EthiopicCal.prototype.getType=function $EthiopicCal$$getType$(){return this.type};EthiopicCal.prototype.newDateInstance=function $EthiopicCal$$newDateInstance$($options$$){return new EthiopicDate($options$$)};
Calendar._constructors.ethiopic=EthiopicCal;var EthiopicRataDie=function $EthiopicRataDie$($params$$){this.cal=$params$$&&$params$$.cal||new EthiopicCal;this.rd=void 0;RataDie.call(this,$params$$)};EthiopicRataDie.prototype=new RataDie;EthiopicRataDie.prototype.parent=RataDie;EthiopicRataDie.prototype.constructor=EthiopicRataDie;EthiopicRataDie.prototype.epoch=1724219.75;
EthiopicRataDie.prototype._setDateComponents=function $EthiopicRataDie$$_setDateComponents$($date$$){var $year$$=$date$$.year;this.rd=365*($year$$-1)+Math.floor($year$$/4)+(($date$$.month-1)*30+$date$$.day)+($date$$.hour*36E5+$date$$.minute*6E4+$date$$.second*1E3+$date$$.millisecond)/864E5};
var EthiopicDate=function $EthiopicDate$($params$$){this.cal=new EthiopicCal;if($params$$){if(typeof $params$$.noinstance==="boolean"&&$params$$.noinstance)return;if($params$$.locale){this.locale=typeof $params$$.locale==="string"?new Locale($params$$.locale):$params$$.locale;this.timezone=(new LocaleInfo(this.locale)).getTimeZone()}if($params$$.timezone)this.timezone=$params$$.timezone;if($params$$.year||$params$$.month||$params$$.day||$params$$.hour||$params$$.minute||$params$$.second||$params$$.millisecond){this.year=
parseInt($params$$.year,10)||0;this.month=parseInt($params$$.month,10)||1;this.day=parseInt($params$$.day,10)||1;this.hour=parseInt($params$$.hour,10)||0;this.minute=parseInt($params$$.minute,10)||0;this.second=parseInt($params$$.second,10)||0;this.millisecond=parseInt($params$$.millisecond,10)||0;this.dayOfYear=parseInt($params$$.dayOfYear,10);if(typeof $params$$.dst==="boolean")this.dst=$params$$.dst;this.rd=this.newRd(this);if(!this.tz)this.tz=new TimeZone({id:this.timezone});this.offset=this.tz._getOffsetMillisWallTime(this)/
864E5;if(this.offset!==0)this.rd=this.newRd({rd:this.rd.getRataDie()-this.offset})}}if(!this.rd){this.rd=this.newRd($params$$);this._calcDateComponents()}};EthiopicDate.prototype=new IDate({noinstance:!0});EthiopicDate.prototype.parent=IDate;EthiopicDate.prototype.constructor=EthiopicDate;EthiopicDate.prototype.newRd=function $EthiopicDate$$newRd$($params$$){return new EthiopicRataDie($params$$)};
EthiopicDate.prototype._calcYear=function $EthiopicDate$$_calcYear$($rd$$){return Math.floor((4*(Math.floor($rd$$)-1)+1463)/1461)};
EthiopicDate.prototype._calcDateComponents=function $EthiopicDate$$_calcDateComponents$(){var $rd$$34_remainder$$;$rd$$34_remainder$$=this.rd.getRataDie();this.year=this._calcYear($rd$$34_remainder$$);if(typeof this.offset==="undefined"){this.year=this._calcYear($rd$$34_remainder$$);if(!this.tz)this.tz=new TimeZone({id:this.timezone});this.offset=this.tz.getOffsetMillis(this)/864E5}if(this.offset!==0){$rd$$34_remainder$$=$rd$$34_remainder$$+this.offset;this.year=this._calcYear($rd$$34_remainder$$)}var $jan1$$=
this.newRd({year:this.year,month:1,day:1,hour:0,minute:0,second:0,millisecond:0});$rd$$34_remainder$$=$rd$$34_remainder$$+1-$jan1$$.getRataDie();this.month=Math.floor(($rd$$34_remainder$$-1)/30)+1;$rd$$34_remainder$$=$rd$$34_remainder$$-(this.month-1)*30;this.day=Math.floor($rd$$34_remainder$$);$rd$$34_remainder$$=$rd$$34_remainder$$-this.day;$rd$$34_remainder$$=Math.round($rd$$34_remainder$$*864E5);this.hour=Math.floor($rd$$34_remainder$$/36E5);$rd$$34_remainder$$=$rd$$34_remainder$$-this.hour*36E5;
this.minute=Math.floor($rd$$34_remainder$$/6E4);$rd$$34_remainder$$=$rd$$34_remainder$$-this.minute*6E4;this.second=Math.floor($rd$$34_remainder$$/1E3);this.millisecond=$rd$$34_remainder$$=$rd$$34_remainder$$-this.second*1E3};EthiopicDate.prototype.getDayOfWeek=function $EthiopicDate$$getDayOfWeek$(){var $rd$$=Math.floor(this.rd.getRataDie()+(this.offset||0));return MathUtils.mod($rd$$-4,7)};EthiopicDate.prototype.getCalendar=function $EthiopicDate$$getCalendar$(){return"ethiopic"};
IDate._constructors.ethiopic=EthiopicDate;var CopticCal=function $CopticCal$(){this.type="coptic"};CopticCal.prototype=new EthiopicCal;CopticCal.prototype.parent=EthiopicCal;CopticCal.prototype.constructor=CopticCal;CopticCal.prototype.newDateInstance=function $CopticCal$$newDateInstance$($options$$){return new CopticDate($options$$)};Calendar._constructors.coptic=CopticCal;
var CopticRataDie=function $CopticRataDie$($params$$){this.cal=$params$$&&$params$$.cal||new CopticCal;this.rd=void 0;this.epoch=1825028.5;var $tmp$$={};$params$$&&JSUtils.shallowCopy($params$$,$tmp$$);$tmp$$.cal=this.cal;EthiopicRataDie.call(this,$tmp$$)};CopticRataDie.prototype=new EthiopicRataDie;CopticRataDie.prototype.parent=EthiopicRataDie;CopticRataDie.prototype.constructor=CopticRataDie;
var CopticDate=function $CopticDate$($params$$){this.rd=void 0;EthiopicDate.call(this,$params$$);this.cal=new CopticCal};CopticDate.prototype=new EthiopicDate({noinstance:!0});CopticDate.prototype.parent=EthiopicDate.prototype;CopticDate.prototype.constructor=CopticDate;CopticDate.prototype.newRd=function $CopticDate$$newRd$($params$$){return new CopticRataDie($params$$)};
CopticDate.prototype.getDayOfWeek=function $CopticDate$$getDayOfWeek$(){var $rd$$=Math.floor(this.rd.getRataDie()+(this.offset||0));return MathUtils.mod($rd$$-3,7)};CopticDate.prototype.getCalendar=function $CopticDate$$getCalendar$(){return"coptic"};IDate._constructors.coptic=CopticDate;
var CType={_inRange:function($num$$,$range$$,$compare_obj$$){if($num$$<0||!$range$$||!$compare_obj$$)return false;$range$$=$compare_obj$$[$range$$];if(!$range$$)return false;var $compare_obj$$=function $$compare_obj$$$($singlerange$$,$target$$){return $singlerange$$.length===1?$singlerange$$[0]-$target$$:$target$$<$singlerange$$[0]?$singlerange$$[0]-$target$$:$target$$>$singlerange$$[1]?$singlerange$$[1]-$target$$:0},$result$$=SearchUtils.bsearch($num$$,$range$$,$compare_obj$$);return $result$$<$range$$.length&&
$compare_obj$$($range$$[$result$$],$num$$)===0},withinRange:function($ch$$,$rangeName$$){if(!$rangeName$$)return false;var $num$$;switch(typeof $ch$$){case "number":$num$$=$ch$$;break;case "string":$num$$=IString.toCodePoint($ch$$,0);break;case "undefined":return false;default:$num$$=$ch$$._toCodePoint(0)}return CType._inRange($num$$,$rangeName$$.toLowerCase(),ilib.data.ctype)},_init:function($sync$$,$loadParams$$,$onLoad$$){CType._load("ctype",$sync$$,$loadParams$$,$onLoad$$)},_load:function($name$$,
$sync$$,$loadParams$$,$onLoad$$){ilib.data[$name$$]?$onLoad$$&&typeof $onLoad$$==="function"&&$onLoad$$(ilib.data[$name$$]):Utils.loadData({name:$name$$?$name$$+".json":"CType.json",locale:"-",nonlocale:true,sync:$sync$$,loadParams:$loadParams$$,callback:ilib.bind(this,function($ct$$){ilib.data[$name$$]=$ct$$;$onLoad$$&&typeof $onLoad$$==="function"&&$onLoad$$(ilib.data[$name$$])})})}},isDigit=function $isDigit$($ch$$9_num$$){switch(typeof $ch$$9_num$$){case "number":break;case "string":$ch$$9_num$$=
IString.toCodePoint($ch$$9_num$$,0);break;case "undefined":return false;default:$ch$$9_num$$=$ch$$9_num$$._toCodePoint(0)}return CType._inRange($ch$$9_num$$,"digit",ilib.data.ctype)};isDigit._init=function $isDigit$_init$($sync$$,$loadParams$$,$onLoad$$){CType._init($sync$$,$loadParams$$,$onLoad$$)};
var isSpace=function $isSpace$($ch$$10_num$$){switch(typeof $ch$$10_num$$){case "number":break;case "string":$ch$$10_num$$=IString.toCodePoint($ch$$10_num$$,0);break;case "undefined":return false;default:$ch$$10_num$$=$ch$$10_num$$._toCodePoint(0)}return CType._inRange($ch$$10_num$$,"space",ilib.data.ctype)||CType._inRange($ch$$10_num$$,"Zs",ilib.data.ctype_z)||CType._inRange($ch$$10_num$$,"Zl",ilib.data.ctype_z)||CType._inRange($ch$$10_num$$,"Zp",ilib.data.ctype_z)};
isSpace._init=function $isSpace$_init$($sync$$,$loadParams$$,$onLoad$$){CType._load("ctype_z",$sync$$,$loadParams$$,function(){CType._init($sync$$,$loadParams$$,$onLoad$$)})};
var Currency=function $Currency$($options$$){this.sync=true;if($options$$){if($options$$.code)this.code=$options$$.code;if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new Locale($options$$.locale):$options$$.locale;if($options$$.sign)this.sign=$options$$.sign;if(typeof $options$$.sync!=="undefined")this.sync=$options$$.sync;if($options$$.loadParams)this.loadParams=$options$$.loadParams}this.locale=this.locale||new Locale;typeof ilib.data.currency==="undefined"?Utils.loadData({name:"currency.json",
object:Currency,locale:"-",sync:this.sync,loadParams:this.loadParams,callback:ilib.bind(this,function($currency$$){ilib.data.currency=$currency$$;this._loadLocinfo($options$$&&$options$$.onLoad)})}):this._loadLocinfo($options$$&&$options$$.onLoad)};Currency.getAvailableCurrencies=function $Currency$getAvailableCurrencies$(){var $ret$$=[],$cur$$,$currencies$$=(new ResBundle({name:"currency"})).getResObj();for($cur$$ in $currencies$$)$cur$$&&$currencies$$[$cur$$]&&$ret$$.push($cur$$);return $ret$$};
Currency.prototype={_loadLocinfo:function $Currency$$_loadLocinfo$($onLoad$$){new LocaleInfo(this.locale,{onLoad:ilib.bind(this,function($li$$){var $currInfo$$;this.locinfo=$li$$;if(this.code){$currInfo$$=ilib.data.currency[this.code];if(!$currInfo$$)throw"currency "+this.code+" is unknown";}else if(this.sign){$currInfo$$=ilib.data.currency[this.sign];if(typeof $currInfo$$!=="undefined")this.code=this.sign;else{this.code=this.locinfo.getCurrency();$currInfo$$=ilib.data.currency[this.code];if($currInfo$$.sign!==
this.sign)for(var $cur$$ in ilib.data.currency)if($cur$$&&ilib.data.currency[$cur$$]){$currInfo$$=ilib.data.currency[$cur$$];if($currInfo$$.sign===this.sign){this.code=$cur$$;break}}}}if(!$currInfo$$||!this.code){this.code=this.locinfo.getCurrency();$currInfo$$=ilib.data.currency[this.code]}this.name=$currInfo$$.name;this.fractionDigits=$currInfo$$.decimals;this.sign=$currInfo$$.sign;typeof $onLoad$$==="function"&&$onLoad$$(this)})})},getCode:function $Currency$$getCode$(){return this.code},getFractionDigits:function $Currency$$getFractionDigits$(){return this.fractionDigits},
getSign:function $Currency$$getSign$(){return this.sign},getName:function $Currency$$getName$(){return this.name},getLocale:function $Currency$$getLocale$(){return this.locale}};
var INumber=function $INumber$($str$$,$options$$){var $i$$,$stripped$$="",$sync$$=true,$loadParams$$;this.locale=new Locale;this.type="number";if($options$$){if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new Locale($options$$.locale):$options$$.locale;if($options$$.type)switch($options$$.type){case "number":case "currency":case "percentage":this.type=$options$$.type}typeof $options$$.sync!=="undefined"&&($sync$$=$options$$.sync==true);$loadParams$$=$options$$.loadParams}isDigit._init($sync$$,
$loadParams$$,ilib.bind(this,function(){isSpace._init($sync$$,$loadParams$$,ilib.bind(this,function(){new LocaleInfo(this.locale,{sync:$sync$$,onLoad:ilib.bind(this,function($li$$){this.decimal=$li$$.getDecimalSeparator();switch(typeof $str$$){case "string":var $unary$$=true,$lastNumericChar$$=0;this.str=$str$$||"0";for($i$$=$i$$=0;$i$$<this.str.length;$i$$++)if($unary$$&&this.str.charAt($i$$)==="-"){$unary$$=false;$stripped$$=$stripped$$+this.str.charAt($i$$);$lastNumericChar$$=$i$$}else if(isDigit(this.str.charAt($i$$))){$stripped$$=
$stripped$$+this.str.charAt($i$$);$unary$$=false;$lastNumericChar$$=$i$$}else if(this.str.charAt($i$$)===this.decimal){$stripped$$=$stripped$$+".";$unary$$=false;$lastNumericChar$$=$i$$}this.parsed=this.str.substring(0,$lastNumericChar$$+1);this.value=parseFloat($stripped$$);break;case "number":this.str=""+$str$$;this.value=$str$$;break;case "object":this.value=$str$$.valueOf();this.str=""+this.value;break;case "undefined":this.value=0;this.str="0"}switch(this.type){case "percentage":if(this.str.indexOf($li$$.getPercentageSymbol())!==
-1)this.value=this.value/100;break;case "currency":$stripped$$="";for($i$$=0;$i$$<this.str.length&&!isDigit(this.str.charAt($i$$))&&!isSpace(this.str.charAt($i$$));)$stripped$$=$stripped$$+this.str.charAt($i$$++);if($stripped$$.length===0){for(;$i$$<this.str.length&&isDigit(this.str.charAt($i$$))||isSpace(this.str.charAt($i$$))||this.str.charAt($i$$)==="."||this.str.charAt($i$$)===",";)$i$$++;for(;$i$$<this.str.length&&!isDigit(this.str.charAt($i$$))&&!isSpace(this.str.charAt($i$$));)$stripped$$=
$stripped$$+this.str.charAt($i$$++)}new Currency({locale:this.locale,sign:$stripped$$,sync:$sync$$,onLoad:ilib.bind(this,function($cur$$){this.currency=$cur$$;if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})});return}if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})})}))}))};
INumber.prototype={getLocale:function $INumber$$getLocale$(){return this.locale},toString:function $INumber$$toString$(){return this.str},getCurrency:function $INumber$$getCurrency$(){return this.currency},valueOf:function $INumber$$valueOf$(){return this.value}};
var NumFmt=function $NumFmt$($options$$){var $sync$$=true;this.locale=new Locale;this.type="number";var $loadParams$$=void 0;if($options$$){if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new Locale($options$$.locale):$options$$.locale;if($options$$.type&&($options$$.type==="number"||$options$$.type==="currency"||$options$$.type==="percentage"))this.type=$options$$.type;if($options$$.currency)this.currency=$options$$.currency;if(typeof $options$$.maxFractionDigits==="number")this.maxFractionDigits=
this._toPrimitive($options$$.maxFractionDigits);if(typeof $options$$.minFractionDigits==="number"){this.minFractionDigits=this._toPrimitive($options$$.minFractionDigits);if(this.minFractionDigits<0)this.minFractionDigits=0;if(this.minFractionDigits>20)this.minFractionDigits=20}if($options$$.style)this.style=$options$$.style;if(typeof $options$$.useNative==="boolean")this.useNative=$options$$.useNative;this.roundingMode=$options$$.roundingMode;typeof $options$$.sync!=="undefined"&&($sync$$=$options$$.sync==
true);$loadParams$$=$options$$.loadParams}this.localeInfo=void 0;new LocaleInfo(this.locale,{sync:$sync$$,loadParams:$loadParams$$,onLoad:ilib.bind(this,function($li$$){this.localeInfo=$li$$;if(this.type==="number")this.templateNegative=new IString(this.localeInfo.getNegativeNumberFormat()||"-{n}");else{if(this.type==="currency"){var $templates$$;if(!this.currency||typeof this.currency!="string")throw"A currency property is required in the options to the number formatter constructor when the type property is set to currency.";
new Currency({locale:this.locale,code:this.currency,sync:$sync$$,loadParams:$loadParams$$,onLoad:ilib.bind(this,function($cur$$){this.currencyInfo=$cur$$;if(this.style!=="common"&&this.style!=="iso")this.style="common";if(typeof this.maxFractionDigits!=="number"&&typeof this.minFractionDigits!=="number")this.minFractionDigits=this.maxFractionDigits=this.currencyInfo.getFractionDigits();$templates$$=this.localeInfo.getCurrencyFormats();this.template=new IString($templates$$[this.style]||$templates$$.common);
this.templateNegative=new IString($templates$$[this.style+"Negative"]||$templates$$.commonNegative);this.sign=this.style==="iso"?this.currencyInfo.getCode():this.currencyInfo.getSign();if(!this.roundingMode)this.roundingMode=this.currencyInfo&&this.currencyInfo.roundingMode;this._init();if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})});return}if(this.type==="percentage"){this.template=new IString(this.localeInfo.getPercentageFormat()||"{n}%");this.templateNegative=new IString(this.localeInfo.getNegativePercentageFormat()||
this.localeInfo.getNegativeNumberFormat()+"%")}}this._init();if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})})};NumFmt.getAvailableLocales=function $NumFmt$getAvailableLocales$(){};NumFmt.zeros="0000000000000000000000000000000000000000000000000000000000000000000000";
NumFmt.prototype={getUseNative:function $NumFmt$$getUseNative$(){return typeof this.useNative==="boolean"?this.useNative:this.localeInfo.getDigitsStyle()==="native"},_init:function $NumFmt$$_init$(){if(this.maxFractionDigits<this.minFractionDigits)this.minFractionDigits=this.maxFractionDigits;if(!this.roundingMode)this.roundingMode=this.localeInfo.getRoundingMode();if(!this.roundingMode)this.roundingMode="halfdown";this.round=MathUtils[this.roundingMode];if(!this.round){this.roundingMode="halfdown";
this.round=MathUtils[this.roundingMode]}if(this.style==="nogrouping")this.prigroupSize=this.secgroupSize=0;else{this.prigroupSize=this.localeInfo.getPrimaryGroupingDigits();this.secgroupSize=this.localeInfo.getSecondaryGroupingDigits();this.groupingSeparator=this.getUseNative()?this.localeInfo.getNativeGroupingSeparator():this.localeInfo.getGroupingSeparator()}this.decimalSeparator=this.getUseNative()?this.localeInfo.getNativeDecimalSeparator():this.localeInfo.getDecimalSeparator();if(this.getUseNative()){var $nd$$=
this.localeInfo.getNativeDigits()||this.localeInfo.getDigits();if($nd$$)this.digits=$nd$$.split("")}this.exponentSymbol=this.localeInfo.getExponential()||"e"},_pad:function $NumFmt$$_pad$($str$$,$length$$,$left$$){return $str$$.length>=$length$$?$str$$:$left$$?NumFmt.zeros.substring(0,$length$$-$str$$.length)+$str$$:$str$$+NumFmt.zeros.substring(0,$length$$-$str$$.length)},_toPrimitive:function $NumFmt$$_toPrimitive$($num$$){var $n$$=0;switch(typeof $num$$){case "number":$n$$=$num$$;break;case "string":$n$$=
parseFloat($num$$);break;case "object":$n$$=$num$$.valueOf()}return $n$$},_formatScientific:function $NumFmt$$_formatScientific$($exponent_num$$23_parts$$){var $formatted$$,$factor$$1_fraction$$,$exponent_num$$23_parts$$=(new Number($exponent_num$$23_parts$$)).toExponential().split("e");$formatted$$=$exponent_num$$23_parts$$[0];$exponent_num$$23_parts$$=$exponent_num$$23_parts$$[1];if(this.maxFractionDigits>0){$factor$$1_fraction$$=Math.pow(10,this.maxFractionDigits);$formatted$$=this.round($formatted$$*
$factor$$1_fraction$$)/$factor$$1_fraction$$}$factor$$1_fraction$$=(""+$formatted$$).split(".");$formatted$$=$factor$$1_fraction$$[0];$factor$$1_fraction$$=$factor$$1_fraction$$[1];typeof this.maxFractionDigits!=="undefined"&&($factor$$1_fraction$$=$factor$$1_fraction$$.substring(0,this.maxFractionDigits));typeof this.minFractionDigits!=="undefined"&&($factor$$1_fraction$$=this._pad($factor$$1_fraction$$||"",this.minFractionDigits,false));$factor$$1_fraction$$.length&&($formatted$$=$formatted$$+(this.decimalSeparator+
$factor$$1_fraction$$));return $formatted$$=$formatted$$+(this.exponentSymbol+$exponent_num$$23_parts$$)},_formatStandard:function $NumFmt$$_formatStandard$($integral$$1_num$$){var $i$$33_k$$;if(typeof this.maxFractionDigits!=="undefined"&&this.maxFractionDigits>-1)var $factor$$2_fraction$$2_parts$$=Math.pow(10,this.maxFractionDigits),$integral$$1_num$$=this.round($integral$$1_num$$*$factor$$2_fraction$$2_parts$$)/$factor$$2_fraction$$2_parts$$;var $integral$$1_num$$=Math.abs($integral$$1_num$$),
$factor$$2_fraction$$2_parts$$=(""+$integral$$1_num$$).split("."),$integral$$1_num$$=$factor$$2_fraction$$2_parts$$[0],$factor$$2_fraction$$2_parts$$=$factor$$2_fraction$$2_parts$$[1],$cycle$$,$formatted$$,$integral$$1_num$$=$integral$$1_num$$.toString();this.minFractionDigits>0&&($factor$$2_fraction$$2_parts$$=this._pad($factor$$2_fraction$$2_parts$$||"",this.minFractionDigits,false));if(this.secgroupSize>0){if($integral$$1_num$$.length>this.prigroupSize){$i$$33_k$$=$integral$$1_num$$.length-this.prigroupSize;
$integral$$1_num$$=$integral$$1_num$$.slice(0,$i$$33_k$$)+this.groupingSeparator+$integral$$1_num$$.slice($i$$33_k$$);$cycle$$=$integral$$1_num$$.substring(0,$integral$$1_num$$.indexOf(this.groupingSeparator));for($i$$33_k$$=$cycle$$.length;$i$$33_k$$>this.secgroupSize;){$i$$33_k$$=$cycle$$.length-this.secgroupSize;$integral$$1_num$$=$integral$$1_num$$.slice(0,$i$$33_k$$)+this.groupingSeparator+$integral$$1_num$$.slice($i$$33_k$$);$cycle$$=$integral$$1_num$$.substring(0,$integral$$1_num$$.indexOf(this.groupingSeparator));
$i$$33_k$$=$cycle$$.length}}$formatted$$=$integral$$1_num$$}else if(this.prigroupSize!==0){$cycle$$=MathUtils.mod($integral$$1_num$$.length-1,this.prigroupSize);$formatted$$="";for($i$$33_k$$=0;$i$$33_k$$<$integral$$1_num$$.length-1;$i$$33_k$$++){$formatted$$=$formatted$$+$integral$$1_num$$.charAt($i$$33_k$$);$cycle$$===0&&($formatted$$=$formatted$$+this.groupingSeparator);$cycle$$=MathUtils.mod($cycle$$-1,this.prigroupSize)}$formatted$$=$formatted$$+$integral$$1_num$$.charAt($integral$$1_num$$.length-
1)}else $formatted$$=$integral$$1_num$$;if($factor$$2_fraction$$2_parts$$&&(typeof this.maxFractionDigits==="undefined"||this.maxFractionDigits>0)){$formatted$$=$formatted$$+this.decimalSeparator;$formatted$$=$formatted$$+$factor$$2_fraction$$2_parts$$}this.digits&&($formatted$$=JSUtils.mapString($formatted$$,this.digits));return $formatted$$},format:function $NumFmt$$format$($num$$){var $formatted$$,$n$$;if(typeof $num$$==="undefined")return"";$n$$=this._toPrimitive($num$$);if(this.type==="number"){$formatted$$=
this.style==="scientific"?this._formatScientific($n$$):this._formatStandard($n$$);$num$$<0&&($formatted$$=this.templateNegative.format({n:$formatted$$}))}else{$formatted$$=this._formatStandard($n$$);$formatted$$=($n$$<0?this.templateNegative:this.template).format({n:$formatted$$,s:this.sign})}return $formatted$$},getType:function $NumFmt$$getType$(){return this.type},getLocale:function $NumFmt$$getLocale$(){return this.locale},isGroupingUsed:function $NumFmt$$isGroupingUsed$(){return this.groupingSeparator!==
"undefined"&&this.groupingSeparator.length>0},getMaxFractionDigits:function $NumFmt$$getMaxFractionDigits$(){return typeof this.maxFractionDigits!=="undefined"?this.maxFractionDigits:-1},getMinFractionDigits:function $NumFmt$$getMinFractionDigits$(){return typeof this.minFractionDigits!=="undefined"?this.minFractionDigits:-1},getCurrency:function $NumFmt$$getCurrency$(){return this.currencyInfo&&this.currencyInfo.getCode()},getRoundingMode:function $NumFmt$$getRoundingMode$(){return this.roundingMode},
getStyle:function $NumFmt$$getStyle$(){return this.style}};
var DurationFmt=function $DurationFmt$($options$$){var $sync$$=true,$loadParams$$=void 0;this.locale=new Locale;this.length="short";this.style="text";if($options$$){if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new Locale($options$$.locale):$options$$.locale;if($options$$.length&&($options$$.length==="short"||$options$$.length==="medium"||$options$$.length==="long"||$options$$.length==="full"))this.length=$options$$.length;if($options$$.style&&($options$$.style==="text"||$options$$.style===
"clock"))this.style=$options$$.style;typeof $options$$.sync!=="undefined"&&($sync$$=$options$$.sync==true);if(typeof $options$$.useNative==="boolean")this.useNative=$options$$.useNative;$loadParams$$=$options$$.loadParams}new ResBundle({locale:this.locale,name:"sysres",sync:$sync$$,loadParams:$loadParams$$,onLoad:ilib.bind(this,function($sysres$$){switch(this.length){case "short":this.components={year:$sysres$$.getString("#{num}y"),month:$sysres$$.getString("#{num}m","durationShortMonths"),week:$sysres$$.getString("#{num}w"),
day:$sysres$$.getString("#{num}d"),hour:$sysres$$.getString("#{num}h"),minute:$sysres$$.getString("#{num}m","durationShortMinutes"),second:$sysres$$.getString("#{num}s"),millisecond:$sysres$$.getString("#{num}m","durationShortMillis"),separator:$sysres$$.getString(" ","separatorShort"),finalSeparator:""};break;case "medium":this.components={year:$sysres$$.getString("1#1 yr|#{num} yrs","durationMediumYears"),month:$sysres$$.getString("1#1 mo|#{num} mos"),week:$sysres$$.getString("1#1 wk|#{num} wks",
"durationMediumWeeks"),day:$sysres$$.getString("1#1 dy|#{num} dys"),hour:$sysres$$.getString("1#1 hr|#{num} hrs","durationMediumHours"),minute:$sysres$$.getString("1#1 mi|#{num} min"),second:$sysres$$.getString("1#1 se|#{num} sec"),millisecond:$sysres$$.getString("#{num} ms"),separator:$sysres$$.getString(" ","separatorMedium"),finalSeparator:""};break;case "long":this.components={year:$sysres$$.getString("1#1 yr|#{num} yrs"),month:$sysres$$.getString("1#1 mon|#{num} mons"),week:$sysres$$.getString("1#1 wk|#{num} wks"),
day:$sysres$$.getString("1#1 day|#{num} days","durationLongDays"),hour:$sysres$$.getString("1#1 hr|#{num} hrs"),minute:$sysres$$.getString("1#1 min|#{num} min"),second:$sysres$$.getString("1#1 sec|#{num} sec"),millisecond:$sysres$$.getString("#{num} ms"),separator:$sysres$$.getString(", ","separatorLong"),finalSeparator:""};break;case "full":this.components={year:$sysres$$.getString("1#1 year|#{num} years"),month:$sysres$$.getString("1#1 month|#{num} months"),week:$sysres$$.getString("1#1 week|#{num} weeks"),
day:$sysres$$.getString("1#1 day|#{num} days"),hour:$sysres$$.getString("1#1 hour|#{num} hours"),minute:$sysres$$.getString("1#1 minute|#{num} minutes"),second:$sysres$$.getString("1#1 second|#{num} seconds"),millisecond:$sysres$$.getString("1#1 millisecond|#{num} milliseconds"),separator:$sysres$$.getString(", ","separatorFull"),finalSeparator:$sysres$$.getString(" and ","finalSeparatorFull")}}this.style==="clock"?new DateFmt({locale:this.locale,calendar:"gregorian",type:"time",time:"ms",sync:$sync$$,
loadParams:$loadParams$$,useNative:this.useNative,onLoad:ilib.bind(this,function($fmtMS$$){this.timeFmtMS=$fmtMS$$;new DateFmt({locale:this.locale,calendar:"gregorian",type:"time",time:"hm",sync:$sync$$,loadParams:$loadParams$$,useNative:this.useNative,onLoad:ilib.bind(this,function($fmtHM$$){this.timeFmtHM=$fmtHM$$;new DateFmt({locale:this.locale,calendar:"gregorian",type:"time",time:"hms",sync:$sync$$,loadParams:$loadParams$$,useNative:this.useNative,onLoad:ilib.bind(this,function($fmtHMS$$){this.timeFmtHMS=
$fmtHMS$$;this.timeFmtHM.template=this.timeFmtHM.template.replace(/hh?/,"H");this.timeFmtHM.templateArr=this.timeFmtHM._tokenize(this.timeFmtHM.template);this.timeFmtHMS.template=this.timeFmtHMS.template.replace(/hh?/,"H");this.timeFmtHMS.templateArr=this.timeFmtHMS._tokenize(this.timeFmtHMS.template);this._init(this.timeFmtHM.locinfo,$options$$&&$options$$.onLoad)})})})})})}):new LocaleInfo(this.locale,{sync:$sync$$,loadParams:$loadParams$$,onLoad:ilib.bind(this,function($li$$){this._init($li$$,
$options$$&&$options$$.onLoad)})})})})};DurationFmt.complist={text:"year month week day hour minute second millisecond".split(" "),clock:["year","month","week","day"]};DurationFmt.prototype._mapDigits=function $DurationFmt$$_mapDigits$($str$$){return this.useNative&&this.digits?JSUtils.mapString($str$$.toString(),this.digits):$str$$};
DurationFmt.prototype._init=function $DurationFmt$$_init$($locinfo$$,$onLoad$$){var $digits$$;if(typeof this.useNative==="boolean"){if(this.useNative)if($digits$$=$locinfo$$.getNativeDigits())this.digits=$digits$$}else if($locinfo$$.getDigitsStyle()==="native")if($digits$$=$locinfo$$.getNativeDigits()){this.useNative=true;this.digits=$digits$$}typeof $onLoad$$==="function"&&$onLoad$$(this)};
DurationFmt.prototype.format=function $DurationFmt$$format$($components$$){var $fmt$$4_i$$,$list$$,$secondlast$$=true,$str$$="";$list$$=DurationFmt.complist[this.style];for($fmt$$4_i$$=$list$$.length-1;$fmt$$4_i$$>=0;$fmt$$4_i$$--)if(typeof $components$$[$list$$[$fmt$$4_i$$]]!=="undefined"&&$components$$[$list$$[$fmt$$4_i$$]]!=0){if($str$$.length>0){$str$$=(this.length==="full"&&$secondlast$$?this.components.finalSeparator:this.components.separator)+$str$$;$secondlast$$=false}$str$$=this.components[$list$$[$fmt$$4_i$$]].formatChoice($components$$[$list$$[$fmt$$4_i$$]],
{num:this._mapDigits($components$$[$list$$[$fmt$$4_i$$]])})+$str$$}if(this.style==="clock"){$fmt$$4_i$$=typeof $components$$.hour!=="undefined"?typeof $components$$.second!=="undefined"?this.timeFmtHMS:this.timeFmtHM:this.timeFmtMS;$str$$.length>0&&($str$$=$str$$+this.components.separator);$str$$=$str$$+$fmt$$4_i$$._formatTemplate($components$$,$fmt$$4_i$$.templateArr)}return new IString($str$$)};DurationFmt.prototype.getLocale=function $DurationFmt$$getLocale$(){return this.locale};
DurationFmt.prototype.getLength=function $DurationFmt$$getLength$(){return this.length};DurationFmt.prototype.getStyle=function $DurationFmt$$getStyle$(){return this.style};
var isAlpha=function $isAlpha$($ch$$11_num$$){switch(typeof $ch$$11_num$$){case "number":break;case "string":$ch$$11_num$$=IString.toCodePoint($ch$$11_num$$,0);break;case "undefined":return false;default:$ch$$11_num$$=$ch$$11_num$$._toCodePoint(0)}return CType._inRange($ch$$11_num$$,"Lu",ilib.data.ctype_l)||CType._inRange($ch$$11_num$$,"Ll",ilib.data.ctype_l)||CType._inRange($ch$$11_num$$,"Lt",ilib.data.ctype_l)||CType._inRange($ch$$11_num$$,"Lm",ilib.data.ctype_l)||CType._inRange($ch$$11_num$$,"Lo",
ilib.data.ctype_l)};isAlpha._init=function $isAlpha$_init$($sync$$,$loadParams$$,$onLoad$$){CType._load("ctype_l",$sync$$,$loadParams$$,$onLoad$$)};var isAlnum=function $isAlnum$($ch$$12_num$$){switch(typeof $ch$$12_num$$){case "number":break;case "string":$ch$$12_num$$=IString.toCodePoint($ch$$12_num$$,0);break;case "undefined":return false;default:$ch$$12_num$$=$ch$$12_num$$._toCodePoint(0)}return isAlpha($ch$$12_num$$)||isDigit($ch$$12_num$$)};
isAlnum._init=function $isAlnum$_init$($sync$$,$loadParams$$,$onLoad$$){isAlpha._init($sync$$,$loadParams$$,function(){isDigit._init($sync$$,$loadParams$$,$onLoad$$)})};var isAscii=function $isAscii$($ch$$13_num$$){switch(typeof $ch$$13_num$$){case "number":break;case "string":$ch$$13_num$$=IString.toCodePoint($ch$$13_num$$,0);break;case "undefined":return false;default:$ch$$13_num$$=$ch$$13_num$$._toCodePoint(0)}return CType._inRange($ch$$13_num$$,"ascii",ilib.data.ctype)};
isAscii._init=function $isAscii$_init$($sync$$,$loadParams$$,$onLoad$$){CType._init($sync$$,$loadParams$$,$onLoad$$)};var isBlank=function $isBlank$($ch$$14_num$$){switch(typeof $ch$$14_num$$){case "number":break;case "string":$ch$$14_num$$=IString.toCodePoint($ch$$14_num$$,0);break;case "undefined":return false;default:$ch$$14_num$$=$ch$$14_num$$._toCodePoint(0)}return CType._inRange($ch$$14_num$$,"blank",ilib.data.ctype)};
isBlank._init=function $isBlank$_init$($sync$$,$loadParams$$,$onLoad$$){CType._init($sync$$,$loadParams$$,$onLoad$$)};var isCntrl=function $isCntrl$($ch$$15_num$$){switch(typeof $ch$$15_num$$){case "number":break;case "string":$ch$$15_num$$=IString.toCodePoint($ch$$15_num$$,0);break;case "undefined":return false;default:$ch$$15_num$$=$ch$$15_num$$._toCodePoint(0)}return CType._inRange($ch$$15_num$$,"Cc",ilib.data.ctype_c)};
isCntrl._init=function $isCntrl$_init$($sync$$,$loadParams$$,$onLoad$$){CType._load("ctype_c",$sync$$,$loadParams$$,$onLoad$$)};var isGraph=function $isGraph$($ch$$){var $num$$;switch(typeof $ch$$){case "number":$num$$=$ch$$;break;case "string":$num$$=IString.toCodePoint($ch$$,0);break;case "undefined":return false;default:$num$$=$ch$$._toCodePoint(0)}return typeof $ch$$!=="undefined"&&$ch$$.length>0&&!isSpace($num$$)&&!isCntrl($num$$)};
isGraph._init=function $isGraph$_init$($sync$$,$loadParams$$,$onLoad$$){isSpace._init($sync$$,$loadParams$$,function(){isCntrl._init($sync$$,$loadParams$$,$onLoad$$)})};
var isIdeo=function $isIdeo$($ch$$17_num$$){switch(typeof $ch$$17_num$$){case "number":break;case "string":$ch$$17_num$$=IString.toCodePoint($ch$$17_num$$,0);break;case "undefined":return false;default:$ch$$17_num$$=$ch$$17_num$$._toCodePoint(0)}return CType._inRange($ch$$17_num$$,"cjk",ilib.data.ctype)||CType._inRange($ch$$17_num$$,"cjkradicals",ilib.data.ctype)||CType._inRange($ch$$17_num$$,"enclosedcjk",ilib.data.ctype)||CType._inRange($ch$$17_num$$,"cjkpunct",ilib.data.ctype)||CType._inRange($ch$$17_num$$,
"cjkcompatibility",ilib.data.ctype)};isIdeo._init=function $isIdeo$_init$($sync$$,$loadParams$$,$onLoad$$){CType._init($sync$$,$loadParams$$,$onLoad$$)};var isLower=function $isLower$($ch$$18_num$$){switch(typeof $ch$$18_num$$){case "number":break;case "string":$ch$$18_num$$=IString.toCodePoint($ch$$18_num$$,0);break;case "undefined":return false;default:$ch$$18_num$$=$ch$$18_num$$._toCodePoint(0)}return CType._inRange($ch$$18_num$$,"Ll",ilib.data.ctype_l)};
isLower._init=function $isLower$_init$($sync$$,$loadParams$$,$onLoad$$){CType._load("ctype_l",$sync$$,$loadParams$$,$onLoad$$)};var isPrint=function $isPrint$($ch$$){return typeof $ch$$!=="undefined"&&$ch$$.length>0&&!isCntrl($ch$$)};isPrint._init=function $isPrint$_init$($sync$$,$loadParams$$,$onLoad$$){isCntrl._init($sync$$,$loadParams$$,$onLoad$$)};
var isPunct=function $isPunct$($ch$$20_num$$){switch(typeof $ch$$20_num$$){case "number":break;case "string":$ch$$20_num$$=IString.toCodePoint($ch$$20_num$$,0);break;case "undefined":return false;default:$ch$$20_num$$=$ch$$20_num$$._toCodePoint(0)}return CType._inRange($ch$$20_num$$,"Pd",ilib.data.ctype_p)||CType._inRange($ch$$20_num$$,"Ps",ilib.data.ctype_p)||CType._inRange($ch$$20_num$$,"Pe",ilib.data.ctype_p)||CType._inRange($ch$$20_num$$,"Pc",ilib.data.ctype_p)||CType._inRange($ch$$20_num$$,"Po",
ilib.data.ctype_p)||CType._inRange($ch$$20_num$$,"Pi",ilib.data.ctype_p)||CType._inRange($ch$$20_num$$,"Pf",ilib.data.ctype_p)};isPunct._init=function $isPunct$_init$($sync$$,$loadParams$$,$onLoad$$){CType._load("ctype_p",$sync$$,$loadParams$$,$onLoad$$)};
var isUpper=function $isUpper$($ch$$21_num$$){switch(typeof $ch$$21_num$$){case "number":break;case "string":$ch$$21_num$$=IString.toCodePoint($ch$$21_num$$,0);break;case "undefined":return false;default:$ch$$21_num$$=$ch$$21_num$$._toCodePoint(0)}return CType._inRange($ch$$21_num$$,"Lu",ilib.data.ctype_l)};isUpper._init=function $isUpper$_init$($sync$$,$loadParams$$,$onLoad$$){CType._load("ctype_l",$sync$$,$loadParams$$,$onLoad$$)};
var isXdigit=function $isXdigit$($ch$$22_num$$){switch(typeof $ch$$22_num$$){case "number":break;case "string":$ch$$22_num$$=IString.toCodePoint($ch$$22_num$$,0);break;case "undefined":return false;default:$ch$$22_num$$=$ch$$22_num$$._toCodePoint(0)}return CType._inRange($ch$$22_num$$,"xdigit",ilib.data.ctype)};isXdigit._init=function $isXdigit$_init$($sync$$,$loadParams$$,$onLoad$$){CType._init($sync$$,$loadParams$$,$onLoad$$)};
var isScript=function $isScript$($ch$$,$script$$){var $num$$;switch(typeof $ch$$){case "number":$num$$=$ch$$;break;case "string":$num$$=IString.toCodePoint($ch$$,0);break;case "undefined":return false;default:$num$$=$ch$$._toCodePoint(0)}return CType._inRange($num$$,$script$$,ilib.data.scriptToRange)};isScript._init=function $isScript$_init$($sync$$,$loadParams$$,$onLoad$$){CType._load("scriptToRange",$sync$$,$loadParams$$,$onLoad$$)};
var ScriptInfo=function $ScriptInfo$($script$$,$options$$){var $sync$$=true,$loadParams$$=void 0;this.script=$script$$;if($options$$){typeof $options$$.sync!=="undefined"&&($sync$$=$options$$.sync==true);if(typeof $options$$.loadParams!=="undefined")$loadParams$$=$options$$.loadParams}if(!ScriptInfo.cache)ScriptInfo.cache={};ilib.data.scripts?this.info=ilib.data.scripts[$script$$]:Utils.loadData({object:ScriptInfo,locale:"-",name:"scripts.json",sync:$sync$$,loadParams:$loadParams$$,callback:ilib.bind(this,
function($info$$){if(!$info$$){var $info$$={Latn:{nb:215,nm:"Latin",lid:"Latin",rtl:false,ime:false,casing:true}},$spec$$=this.locale.getSpec().replace(/-/g,"_");ScriptInfo.cache[$spec$$]=$info$$}ilib.data.scripts=$info$$;this.info=$script$$&&ilib.data.scripts[$script$$];if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})})};
ScriptInfo._getScriptsArray=function $ScriptInfo$_getScriptsArray$(){var $ret$$=[],$script$$=void 0,$scripts$$=ilib.data.scripts;for($script$$ in $scripts$$)$script$$&&$scripts$$[$script$$]&&$ret$$.push($script$$);return $ret$$};
ScriptInfo.getAllScripts=function $ScriptInfo$getAllScripts$($sync$$,$loadParams$$,$onLoad$$){ilib.data.scripts||Utils.loadData({object:ScriptInfo,locale:"-",name:"scripts.json",sync:$sync$$,loadParams:$loadParams$$,callback:ilib.bind(this,function($info$$){ilib.data.scripts=$info$$;typeof $onLoad$$==="function"&&$onLoad$$(ScriptInfo._getScriptsArray())})});return ScriptInfo._getScriptsArray()};
ScriptInfo.prototype={getCode:function $ScriptInfo$$getCode$(){return this.info&&this.script},getCodeNumber:function $ScriptInfo$$getCodeNumber$(){return this.info&&this.info.nb||0},getName:function $ScriptInfo$$getName$(){return this.info&&this.info.nm},getLongCode:function $ScriptInfo$$getLongCode$(){return this.info&&this.info.lid},getScriptDirection:function $ScriptInfo$$getScriptDirection$(){return this.info&&typeof this.info.rtl!=="undefined"&&this.info.rtl?"rtl":"ltr"},getNeedsIME:function $ScriptInfo$$getNeedsIME$(){return this.info&&
this.info.ime?true:false},getCasing:function $ScriptInfo$$getCasing$(){return this.info&&this.info.casing?true:false}};
var Name=function $Name$($name$$,$options$$){var $sync$$=true;if($name$$&&$name$$.length!==0){this.loadParams={};if($options$$){if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new Locale($options$$.locale):$options$$.locale;if($options$$.style&&($options$$.style==="asian"||$options$$.style==="western"))this.style=$options$$.style;if($options$$.order&&($options$$.order==="gmf"||$options$$.order==="fmg"||$options$$.order==="fgm"))this.order=$options$$.order;typeof $options$$.sync!==
"undefined"&&($sync$$=$options$$.sync==true);if(typeof $options$$.loadParams!=="undefined")this.loadParams=$options$$.loadParams}if(!Name.cache)Name.cache={};this.locale=this.locale||new Locale;isAlpha._init($sync$$,this.loadParams,ilib.bind(this,function(){isIdeo._init($sync$$,this.loadParams,ilib.bind(this,function(){isPunct._init($sync$$,this.loadParams,ilib.bind(this,function(){isSpace._init($sync$$,this.loadParams,ilib.bind(this,function(){Utils.loadData({object:Name,locale:this.locale,name:"name.json",
sync:$sync$$,loadParams:this.loadParams,callback:ilib.bind(this,function($info$$){if(!$info$$){var $info$$=Name.defaultInfo,$spec$$=this.locale.getSpec().replace(/-/g,"_");Name.cache[$spec$$]=$info$$}if(typeof $name$$==="object"){this.prefix=$name$$.prefix;this.givenName=$name$$.givenName;this.middleName=$name$$.middleName;this.familyName=$name$$.familyName;this.suffix=$name$$.suffix;this.locale=$name$$.locale;this.style=$name$$.style;this.order=$name$$.order;this.useSpaces=$name$$.useSpaces;this.isAsianName=
$name$$.isAsianName}else{this.info=$info$$;this._init($name$$);if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)}})})}))}))}))}))}};
Name.defaultInfo=ilib.data.name||{components:{"short":{g:1,f:1},medium:{g:1,m:1,f:1},"long":{p:1,g:1,m:1,f:1},full:{p:1,g:1,m:1,f:1,s:1}},format:"{prefix} {givenName} {middleName} {familyName}{suffix}",sortByHeadWord:!1,nameStyle:"western",conjunctions:{and1:"and",and2:"and",or1:"or",or2:"or"},auxillaries:{von:1,"von der":1,"von den":1,van:1,"van der":1,"van de":1,"van den":1,de:1,di:1,de:1,la:1,lo:1,des:1,le:1,les:1,du:1,"de la":1,del:1,"de los":1,"de las":1},prefixes:"doctor dr mr mrs ms mister madame madamoiselle miss monsieur se\u00f1or se\u00f1ora se\u00f1orita".split(" "),
suffixes:", junior jr senior sr i ii iii esq phd md".split(" "),patronymicName:[],familyNames:[]};Name._isAsianChar=function $Name$_isAsianChar$($c$$){return isIdeo($c$$)||CType.withinRange($c$$,"hangul")||CType.withinRange($c$$,"hiragana")||CType.withinRange($c$$,"katakana")};
Name._isAsianName=function $Name$_isAsianName$($name$$,$language$$){var $asian$$=0,$latin$$=0,$i$$;if($name$$&&$name$$.length>0){for($i$$=0;$i$$<$name$$.length;$i$$++){var $c$$=$name$$.charAt($i$$);if(Name._isAsianChar($c$$)){if($language$$=="ko"||$language$$=="ja"||$language$$=="zh")return true;$asian$$++}else if(isAlpha($c$$)){if(!$language$$=="ko"||!$language$$=="ja"||!$language$$=="zh")return false;$latin$$++}}return $latin$$<$asian$$}return false};
Name._isEuroName=function $Name$_isEuroName$($name$$,$language$$){for(var $c$$,$it$$=(new IString($name$$)).charIterator();$it$$.hasNext();){$c$$=$it$$.next();if(!Name._isAsianChar($c$$)&&!isPunct($c$$)&&!isSpace($c$$))return true;if(Name._isAsianChar($c$$)&&($language$$=="ko"||$language$$=="ja"||$language$$=="zh"))break}return false};
Name.prototype={_init:function $Name$$_init$($name$$62_parts$$){var $prefix$$,$prefixLower_suffixLower$$,$i$$,$hpSuffix$$,$currentLanguage$$=this.locale.getLanguage();if($name$$62_parts$$){$i$$=$name$$62_parts$$.search(/\s*[,\/\(\[\{<]/);if($i$$!==-1){$hpSuffix$$=$name$$62_parts$$.substring($i$$);$hpSuffix$$=$hpSuffix$$.replace(/\s+/g," ");$prefix$$=$hpSuffix$$.split(" ");this._findLastConjunction($prefix$$)>-1?$hpSuffix$$=void 0:$name$$62_parts$$=$name$$62_parts$$.substring(0,$i$$)}if(this.isAsianName=
Name._isAsianName($name$$62_parts$$,$currentLanguage$$)){this.useSpaces==false&&($name$$62_parts$$=$name$$62_parts$$.replace(/\s+/g,""));$name$$62_parts$$=$name$$62_parts$$.trim().split("")}else{$name$$62_parts$$=$name$$62_parts$$.replace(/, /g," , ");$name$$62_parts$$=$name$$62_parts$$.replace(/\s+/g," ");$name$$62_parts$$=$name$$62_parts$$.trim().split(" ")}if($name$$62_parts$$.length>1)for($i$$=$name$$62_parts$$.length;$i$$>0;$i$$--){$prefix$$=$name$$62_parts$$.slice(0,$i$$);$prefix$$=$prefix$$.join(this.isAsianName?
"":" ");$prefixLower_suffixLower$$=$prefix$$.toLowerCase();$prefixLower_suffixLower$$=$prefixLower_suffixLower$$.replace(/[,\.]/g,"");if(ilib.isArray(this.info.prefixes)&&(JSUtils.indexOf(this.info.prefixes,$prefixLower_suffixLower$$)>-1||this._isConjunction($prefixLower_suffixLower$$))){if(this.prefix){if(!this.isAsianName)this.prefix=this.prefix+" ";this.prefix=this.prefix+$prefix$$}else this.prefix=$prefix$$;$name$$62_parts$$=$name$$62_parts$$.slice($i$$);$i$$=$name$$62_parts$$.length}}if($name$$62_parts$$.length>
1)for($i$$=$name$$62_parts$$.length;$i$$>0;$i$$--){$prefix$$=$name$$62_parts$$.slice(-$i$$);$prefix$$=$prefix$$.join(this.isAsianName?"":" ");$prefixLower_suffixLower$$=$prefix$$.toLowerCase();$prefixLower_suffixLower$$=$prefixLower_suffixLower$$.replace(/[\.]/g,"");if(ilib.isArray(this.info.suffixes)&&JSUtils.indexOf(this.info.suffixes,$prefixLower_suffixLower$$)>-1){if(this.suffix){if(!this.isAsianName&&!isPunct(this.suffix.charAt(0)))this.suffix=" "+this.suffix;this.suffix=$prefix$$+this.suffix}else this.suffix=
$prefix$$;$name$$62_parts$$=$name$$62_parts$$.slice(0,$name$$62_parts$$.length-$i$$);$i$$=$name$$62_parts$$.length}}if($hpSuffix$$)this.suffix=this.suffix&&this.suffix+$hpSuffix$$||$hpSuffix$$;$name$$62_parts$$.length>1&&!this.isAsianName&&($name$$62_parts$$=this._joinAuxillaries($name$$62_parts$$,this.isAsianName));this.isAsianName?this._parseAsianName($name$$62_parts$$,$currentLanguage$$):this._parseWesternName($name$$62_parts$$);this._joinNameArrays()}},_findPrefix:function $Name$$_findPrefix$($parts$$,
$names$$,$isAsian$$,$noCompoundPrefix$$){var $i$$,$prefix$$,$prefixLower$$,$prefixArray$$,$aux$$=[];if($parts$$.length>0&&$names$$)for($i$$=$parts$$.length;$i$$>0;$i$$--){$prefixArray$$=$parts$$.slice(0,$i$$);$prefix$$=$prefixArray$$.join($isAsian$$?"":" ");$prefixLower$$=$prefix$$.toLowerCase();$prefixLower$$=$prefixLower$$.replace(/[,\.]/g,"");if($prefixLower$$ in $names$$){$aux$$=$aux$$.concat($isAsian$$?$prefix$$:$prefixArray$$);if($noCompoundPrefix$$)break;$parts$$=$parts$$.slice($i$$);$i$$=
$parts$$.length+1}}return $aux$$},_findSuffix:function $Name$$_findSuffix$($parts$$,$names$$,$isAsian$$){var $i$$,$j$$,$seq$$="";for($i$$=0;$i$$<$names$$.length;$i$$++)if($parts$$.length>=$names$$[$i$$].length){for($j$$=0;$j$$<$names$$[$i$$].length&&$parts$$[$parts$$.length-$j$$]===$names$$[$i$$][$names$$[$i$$].length-$j$$];)$j$$++;if($j$$>=$names$$[$i$$].length){$seq$$=$parts$$.slice($parts$$.length-$j$$).join($isAsian$$?"":" ")+($isAsian$$?"":" ")+$seq$$;$parts$$=$parts$$.slice(0,$parts$$.length-
$j$$);$i$$=-1}}this.suffix=$seq$$;return $parts$$},_isConjunction:function _isConjunction($word$$){return this.info.conjunctions.and1===$word$$||this.info.conjunctions.and2===$word$$||this.info.conjunctions.or1===$word$$||this.info.conjunctions.or2===$word$$||"&"===$word$$||"+"===$word$$},_findLastConjunction:function _findLastConjunction($parts$$){var $conjunctionIndex$$=-1,$index$$,$part$$;for($index$$=0;$index$$<$parts$$.length;$index$$++){$part$$=$parts$$[$index$$];if(typeof $part$$==="string"){$part$$=
$part$$.toLowerCase();if("and"===$part$$||"or"===$part$$||"&"===$part$$||"+"===$part$$)$conjunctionIndex$$=$index$$;this._isConjunction($part$$)&&($conjunctionIndex$$=$index$$)}}return $conjunctionIndex$$},_extractPrefixes:function $Name$$_extractPrefixes$($parts$$,$isAsian$$){var $i$$=this._findPrefix($parts$$,this.info.prefixes,$isAsian$$);if($i$$>0){this.prefix=$parts$$.slice(0,$i$$).join($isAsian$$?"":" ");return $parts$$.slice($i$$)}return $parts$$},_extractSuffixes:function $Name$$_extractSuffixes$($parts$$,
$isAsian$$){var $i$$=this._findSuffix($parts$$,this.info.suffixes,$isAsian$$);if($i$$>0){this.suffix=$parts$$.slice($i$$).join($isAsian$$?"":" ");return $parts$$.slice(0,$i$$)}return $parts$$},_joinAuxillaries:function $Name$$_joinAuxillaries$($parts$$){var $start$$,$i$$,$prefixArray$$,$prefix$$6_prefixLower$$;if(this.info.auxillaries&&($parts$$.length>2||this.prefix))for($start$$=0;$start$$<$parts$$.length-1;$start$$++)for($i$$=$parts$$.length;$i$$>$start$$;$i$$--){$prefixArray$$=$parts$$.slice($start$$,
$i$$);$prefix$$6_prefixLower$$=$prefixArray$$.join(" ");$prefix$$6_prefixLower$$=$prefix$$6_prefixLower$$.toLowerCase();$prefix$$6_prefixLower$$=$prefix$$6_prefixLower$$.replace(/[,\.]/g,"");if($prefix$$6_prefixLower$$ in this.info.auxillaries){$parts$$.splice($start$$,$i$$+1-$start$$,$prefixArray$$.concat($parts$$[$i$$]));$i$$=$start$$}}return $parts$$},_joinArrayOrString:function _joinArrayOrString($part$$){var $i$$;if(typeof $part$$==="object"){for($i$$=0;$i$$<$part$$.length;$i$$++)$part$$[$i$$]=
this._joinArrayOrString($part$$[$i$$]);var $ret$$="";$part$$.forEach(function($segment$$){$ret$$.length>0&&!isPunct($segment$$.charAt(0))&&($ret$$=$ret$$+" ");$ret$$=$ret$$+$segment$$});return $ret$$}return $part$$},_joinNameArrays:function _joinNameArrays(){for(var $prop$$ in this)this[$prop$$]!==void 0&&(typeof this[$prop$$]==="object"&&this[$prop$$]instanceof Array)&&(this[$prop$$]=this._joinArrayOrString(this[$prop$$]))},_parseAsianName:function $Name$$_parseAsianName$($parts$$,$language$$){var $familyNameArray$$=
this._findPrefix($parts$$,this.info.knownFamilyNames,true,this.info.noCompoundFamilyNames),$tempFullName$$=$parts$$.join("");if($familyNameArray$$&&$familyNameArray$$.length>0){this.familyName=$familyNameArray$$.join("");this.givenName=$parts$$.slice(this.familyName.length).join("");$language$$==="ko"&&($tempFullName$$.search(/\s*[/\s]/)>-1&&!this.suffix)&&this._parseKoreanName($tempFullName$$)}else this.locale.getLanguage()==="ja"?this._parseJapaneseName($parts$$):this.suffix||this.prefix?this.familyName=
$parts$$.join(""):this.givenName=$parts$$.join("")},_parseKoreanName:function $Name$$_parseKoreanName$($name$$){var $spaceSplit$$=$name$$.split(" "),$spceCount$$=$spaceSplit$$.length,$fistSpaceIndex$$=$name$$.indexOf(" "),$lastSpaceIndex$$=$name$$.lastIndexOf(" ");if($spceCount$$===2){this.familyName=$spaceSplit$$[0];this.givenName=$name$$.slice($fistSpaceIndex$$,$name$$.length)}else{this.familyName=$spaceSplit$$[0];this.middleName=$name$$.slice($fistSpaceIndex$$,$lastSpaceIndex$$);this.givenName=
$name$$.slice($lastSpaceIndex$$,$name$$.length)}},_parseJapaneseName:function $Name$$_parseJapaneseName$($parts$$){if(this.suffix&&this.suffix.length>1&&this.info.honorifics.indexOf(this.suffix)>-1){if($parts$$.length===1){CType.withinRange($parts$$[0],"cjk")?this.familyName=$parts$$[0]:this.givenName=$parts$$[0];return}if($parts$$.length===2){this.familyName=$parts$$.slice(0,$parts$$.length).join("");return}}if($parts$$.length>1)for(var $fn$$="",$i$$=0;$i$$<$parts$$.length;$i$$++)if(CType.withinRange($parts$$[$i$$],
"cjk"))$fn$$=$fn$$+$parts$$[$i$$];else{if($fn$$.length>1&&CType.withinRange($parts$$[$i$$],"hiragana")){this.familyName=$fn$$;this.givenName=$parts$$.slice($i$$,$parts$$.length).join("");return}break}if($parts$$.length===1)this.familyName=$parts$$[0];else if($parts$$.length===2){this.familyName=$parts$$[0];this.givenName=$parts$$[1]}else if($parts$$.length===3){this.familyName=$parts$$[0];this.givenName=$parts$$.slice(1,$parts$$.length).join("")}else if($parts$$.length>3){this.familyName=$parts$$.slice(0,
2).join("");this.givenName=$parts$$.slice(2,$parts$$.length).join("")}},_parseSpanishName:function $Name$$_parseSpanishName$($parts$$){var $conjunctionIndex$$;if($parts$$.length===1)this.prefix||typeof $parts$$[0]==="object"?this.familyName=$parts$$[0]:this.givenName=$parts$$[0];else if($parts$$.length===2){this.givenName=$parts$$[0];this.familyName=$parts$$[1]}else if($parts$$.length===3){$conjunctionIndex$$=this._findLastConjunction($parts$$);if($conjunctionIndex$$===1)this.givenName=$parts$$;else{this.givenName=
$parts$$[0];this.familyName=$parts$$.slice(1)}}else if($parts$$.length>3){$conjunctionIndex$$=this._findLastConjunction($parts$$);if($conjunctionIndex$$>0){this.givenName=$parts$$.splice(0,$conjunctionIndex$$+2);if($parts$$.length>1){this.familyName=$parts$$.splice($parts$$.length-2,2);if($parts$$.length>0)this.middleName=$parts$$}else if($parts$$.length===1)this.familyName=$parts$$[0]}else{this.givenName=$parts$$.splice(0,1);this.familyName=$parts$$.splice($parts$$.length-2,2);this.middleName=$parts$$}}},
_parseIndonesianName:function $Name$$_parseIndonesianName$($parts$$){var $conjunctionIndex$$;if($parts$$.length===1)this.givenName=$parts$$[0];else if($parts$$.length>=2){$conjunctionIndex$$=this._findLastConjunction($parts$$);if($conjunctionIndex$$>0){this.givenName=$parts$$.splice(0,$conjunctionIndex$$+2);if($parts$$.length>1)this.middleName=$parts$$}else{this.givenName=$parts$$.splice(0,1);this.middleName=$parts$$}}},_parseGenericWesternName:function $Name$$_parseGenericWesternName$($parts$$){var $conjunctionIndex$$;
if($parts$$.length===1)this.prefix||typeof $parts$$[0]==="object"?this.familyName=$parts$$[0]:this.givenName=$parts$$[0];else if($parts$$.length===2)if(this.info.order=="fgm"){this.givenName=$parts$$[1];this.familyName=$parts$$[0]}else{if(this.info.order=="gmf"||typeof this.info.order=="undefined"){this.givenName=$parts$$[0];this.familyName=$parts$$[1]}}else if($parts$$.length>=3){$conjunctionIndex$$=this._findLastConjunction($parts$$);if($conjunctionIndex$$>0){this.givenName=$parts$$.slice(0,$conjunctionIndex$$+
2);if($conjunctionIndex$$+1<$parts$$.length-1){this.familyName=$parts$$.splice($parts$$.length-1,1);if($conjunctionIndex$$+2<$parts$$.length-1)this.middleName=$parts$$.slice($conjunctionIndex$$+2,$parts$$.length-$conjunctionIndex$$-3)}else if(this.order=="fgm"){this.familyName=$parts$$.slice(0,$conjunctionIndex$$+2);if($conjunctionIndex$$+1<$parts$$.length-1){this.middleName=$parts$$.splice($parts$$.length-1,1);if($conjunctionIndex$$+2<$parts$$.length-1)this.givenName=$parts$$.slice($conjunctionIndex$$+
2,$parts$$.length-$conjunctionIndex$$-3)}}}else{this.givenName=$parts$$[0];this.middleName=$parts$$.slice(1,$parts$$.length-1);this.familyName=$parts$$[$parts$$.length-1]}}},_findPatronymicName:function $Name$$_findPatronymicName$($parts$$){var $index$$,$part$$;for($index$$=0;$index$$<$parts$$.length;$index$$++){$part$$=$parts$$[$index$$];if(typeof $part$$==="string"){$part$$=$part$$.toLowerCase();for(var $subLength$$=this.info.patronymicName.length;$subLength$$--;)if($part$$.indexOf(this.info.patronymicName[$subLength$$])!==
-1)return $index$$}}return-1},_isPatronymicName:function $Name$$_isPatronymicName$($pName_part$$){if(typeof $pName_part$$==="string")for(var $pName_part$$=$pName_part$$.toLowerCase(),$subLength$$=this.info.patronymicName.length;$subLength$$--;)if($pName_part$$.indexOf(this.info.patronymicName[$subLength$$])!==-1)return true;return false},_findFamilyName:function $Name$$_findFamilyName$($parts$$){var $index$$,$part$$;for($index$$=0;$index$$<$parts$$.length;$index$$++){$part$$=$parts$$[$index$$];if(typeof $part$$===
"string"){$part$$=$part$$.toLowerCase();var $length$$=$part$$.length-1;if(this.info.familyName.indexOf($part$$)!==-1)return $index$$;if($part$$[$length$$]==="\u0432"||$part$$[$length$$]==="\u043d"||$part$$[$length$$]==="\u0439"){$part$$=$part$$.slice(0,-1);if(this.info.familyName.indexOf($part$$)!==-1)return $index$$}else if($part$$[$length$$-1]==="\u0432"&&$part$$[$length$$]==="\u0430"||$part$$[$length$$-1]==="\u043d"&&$part$$[$length$$]==="\u0430"||$part$$[$length$$-1]==="\u0430"&&$part$$[$length$$]===
"\u044f"){$part$$=$part$$.slice(0,-2);if(this.info.familyName.indexOf($part$$)!==-1)return $index$$}}}return-1},_parseRussianName:function $Name$$_parseRussianName$($parts$$){var $conjunctionIndex$$;$conjunctionIndex$$=-1;if($parts$$.length===1)this.prefix||typeof $parts$$[0]==="object"?this.familyName=$parts$$[0]:this.givenName=$parts$$[0];else if($parts$$.length===2)if(this.info.order==="fgm"){this.givenName=$parts$$[1];this.familyName=$parts$$[0]}else if(this.info.order==="gmf"){this.givenName=
$parts$$[0];this.familyName=$parts$$[1]}else{if(typeof this.info.order==="undefined")if(this._isPatronymicName($parts$$[1])===true){this.middleName=$parts$$[1];this.givenName=$parts$$[0]}else if(($conjunctionIndex$$=this._findFamilyName($parts$$))!==-1)if($conjunctionIndex$$===1){this.givenName=$parts$$[0];this.familyName=$parts$$[1]}else{this.familyName=$parts$$[0];this.givenName=$parts$$[1]}else{this.givenName=$parts$$[0];this.familyName=$parts$$[1]}}else if($parts$$.length>=3){$conjunctionIndex$$=
this._findLastConjunction($parts$$);var $patronymicNameIndex$$=this._findPatronymicName($parts$$);if($conjunctionIndex$$>0){this.givenName=$parts$$.slice(0,$conjunctionIndex$$+2);if($conjunctionIndex$$+1<$parts$$.length-1){this.familyName=$parts$$.splice($parts$$.length-1,1);if($conjunctionIndex$$+2<$parts$$.length-1)this.middleName=$parts$$.slice($conjunctionIndex$$+2,$parts$$.length-$conjunctionIndex$$-3)}else if(this.order=="fgm"){this.familyName=$parts$$.slice(0,$conjunctionIndex$$+2);if($conjunctionIndex$$+
1<$parts$$.length-1){this.middleName=$parts$$.splice($parts$$.length-1,1);if($conjunctionIndex$$+2<$parts$$.length-1)this.givenName=$parts$$.slice($conjunctionIndex$$+2,$parts$$.length-$conjunctionIndex$$-3)}}}else if($patronymicNameIndex$$!==-1){this.middleName=$parts$$[$patronymicNameIndex$$];if($patronymicNameIndex$$===$parts$$.length-1){this.familyName=$parts$$[0];this.givenName=$parts$$.slice(1,$patronymicNameIndex$$)}else{this.givenName=$parts$$.slice(0,$patronymicNameIndex$$);this.familyName=
$parts$$[$parts$$.length-1]}}else{this.givenName=$parts$$[0];this.middleName=$parts$$.slice(1,$parts$$.length-1);this.familyName=$parts$$[$parts$$.length-1]}}},_parseWesternName:function $Name$$_parseWesternName$($parts$$){this.locale.getLanguage()==="es"||this.locale.getLanguage()==="pt"?this._parseSpanishName($parts$$):this.locale.getLanguage()==="ru"?this._parseRussianName($parts$$):this.locale.getLanguage()==="id"?this._parseIndonesianName($parts$$):this._parseGenericWesternName($parts$$)},getSortFamilyName:function $Name$$getSortFamilyName$(){var $auxString_name$$,
$auxillaries_i$$,$familyNameArray$$1_parts$$;if(this.familyName){if(this.info)if(this.info.sortByHeadWord){if(typeof this.familyName==="string"){$auxString_name$$=this.familyName.replace(/\s+/g," ");$familyNameArray$$1_parts$$=$auxString_name$$.trim().split(" ")}else $familyNameArray$$1_parts$$=this.familyName;if(($auxillaries_i$$=this._findPrefix($familyNameArray$$1_parts$$,this.info.auxillaries,false))&&$auxillaries_i$$.length>0)if(typeof this.familyName==="string"){$auxString_name$$=$auxillaries_i$$.join(" ");
$auxString_name$$=this.familyName.substring($auxString_name$$.length+1)+", "+$auxString_name$$}else $auxString_name$$=$familyNameArray$$1_parts$$.slice($auxillaries_i$$.length).join(" ")+", "+$familyNameArray$$1_parts$$.slice(0,$auxillaries_i$$.length).join(" ")}else if(this.info.knownFamilyNames&&this.familyName){$familyNameArray$$1_parts$$=this.familyName.split("");$familyNameArray$$1_parts$$=this._findPrefix($familyNameArray$$1_parts$$,this.info.knownFamilyNames,true,this.info.noCompoundFamilyNames);
$auxString_name$$="";for($auxillaries_i$$=0;$auxillaries_i$$<$familyNameArray$$1_parts$$.length;$auxillaries_i$$++)$auxString_name$$=$auxString_name$$+(this.info.knownFamilyNames[$familyNameArray$$1_parts$$[$auxillaries_i$$]]||"")}return $auxString_name$$||this.familyName}},getHeadFamilyName:function $Name$$getHeadFamilyName$(){},clone:function $Name$$clone$(){return new Name(this)}};
var NameFmt=function $NameFmt$($options$$){var $sync$$=true;this.style="short";this.loadParams={};if($options$$){if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new Locale($options$$.locale):$options$$.locale;if($options$$.style)this.style=$options$$.style;if($options$$.components)this.components=$options$$.components;typeof $options$$.sync!=="undefined"&&($sync$$=$options$$.sync==true);if(typeof $options$$.loadParams!=="undefined")this.loadParams=$options$$.loadParams}this.defaultEuroTemplate=
new IString("{prefix} {givenName} {middleName} {familyName}{suffix}");this.defaultAsianTemplate=new IString("{prefix}{familyName}{givenName}{middleName}{suffix}");this.useFirstFamilyName=false;switch(this.style){default:case "s":case "short":this.style="short";break;case "m":case "medium":this.style="medium";break;case "l":case "long":this.style="long";break;case "f":case "full":this.style="full"}if(!Name.cache)Name.cache={};this.locale=this.locale||new Locale;isPunct._init($sync$$,this.loadParams,
ilib.bind(this,function(){Utils.loadData({object:Name,locale:this.locale,name:"name.json",sync:$sync$$,loadParams:this.loadParams,callback:ilib.bind(this,function($info$$){if(!$info$$){var $info$$=Name.defaultInfo,$spec$$=this.locale.getSpec().replace(/-/g,"_");Name.cache[$spec$$]=$info$$}this.info=$info$$;this._init();if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})})}))};
NameFmt.prototype={_init:function $NameFmt$$_init$(){if(this.components){var $valids$$={p:1,g:1,m:1,f:1,s:1},$arr$$=this.components.split("");this.comps={};for(var $i$$=0;$i$$<$arr$$.length;$i$$++)$valids$$[$arr$$[$i$$].toLowerCase()]&&(this.comps[$arr$$[$i$$].toLowerCase()]=true)}else this.comps=this.info.components[this.style];this.template=new IString(this.info.format);if(this.locale.language==="es"&&this.style!=="long"&&this.style!=="full")this.useFirstFamilyName=true;this.isAsianLocale=this.info.nameStyle===
"asian"},_adjoinAuxillaries:function $NameFmt$$_adjoinAuxillaries$($parts$$,$namePrefix$$){var $start$$,$i$$,$prefixArray$$,$prefix$$7_prefixLower$$;if(this.info.auxillaries&&($parts$$.length>2||$namePrefix$$))for($start$$=0;$start$$<$parts$$.length-1;$start$$++)for($i$$=$parts$$.length;$i$$>$start$$;$i$$--){$prefixArray$$=$parts$$.slice($start$$,$i$$);$prefix$$7_prefixLower$$=$prefixArray$$.join(" ");$prefix$$7_prefixLower$$=$prefix$$7_prefixLower$$.toLowerCase();$prefix$$7_prefixLower$$=$prefix$$7_prefixLower$$.replace(/[,\.]/g,
"");if($prefix$$7_prefixLower$$ in this.info.auxillaries){$parts$$.splice($start$$,$i$$+1-$start$$,$prefixArray$$.concat($parts$$[$i$$]));$i$$=$start$$}}return $parts$$},getLocale:function $NameFmt$$getLocale$(){return this.locale},getStyle:function $NameFmt$$getStyle$(){return this.style},getComponents:function $NameFmt$$getComponents$(){return this.components},format:function $NameFmt$$format$($name$$65_temp$$){var $modified$$,$isAsianName$$,$currentLanguage$$=this.locale.getLanguage();if($name$$65_temp$$&&
typeof $name$$65_temp$$==="object"){if(typeof $name$$65_temp$$.isAsianName==="boolean"&&!$name$$65_temp$$.isAsianName||Name._isEuroName([$name$$65_temp$$.givenName,$name$$65_temp$$.middleName,$name$$65_temp$$.familyName].join(""),$currentLanguage$$)){$isAsianName$$=false;$modified$$=$name$$65_temp$$.clone();if($modified$$.suffix&&isPunct($modified$$.suffix.charAt(0))===false)$modified$$.suffix=" "+$modified$$.suffix;if(this.useFirstFamilyName&&$name$$65_temp$$.familyName){$currentLanguage$$=$modified$$.familyName.trim().split(" ");
$currentLanguage$$.length>1&&($currentLanguage$$=this._adjoinAuxillaries($currentLanguage$$,$name$$65_temp$$.prefix));$modified$$.familyName=$currentLanguage$$[0]}$modified$$._joinNameArrays()}else{$isAsianName$$=true;$modified$$=$name$$65_temp$$;if($modified$$.suffix&&$currentLanguage$$==="ko"&&this.info.honorifics.indexOf($name$$65_temp$$.suffix)==-1)$modified$$.suffix=" "+$modified$$.suffix}$name$$65_temp$$=!this.template||$isAsianName$$!==this.isAsianLocale?$isAsianName$$?this.defaultAsianTemplate:
this.defaultEuroTemplate:this.template;return $name$$65_temp$$.format({prefix:this.comps.p&&$modified$$.prefix||"",givenName:this.comps.g&&$modified$$.givenName||"",middleName:this.comps.m&&$modified$$.middleName||"",familyName:this.comps.f&&$modified$$.familyName||"",suffix:this.comps.s&&$modified$$.suffix||""}).replace(/\s+/g," ").trim()}}};
var Address=function $Address$($freeformAddress$$,$options$$){var $address$$;if($freeformAddress$$){this.sync=true;this.loadParams={};if($options$$){if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new Locale($options$$.locale):$options$$.locale;if(typeof $options$$.sync!=="undefined")this.sync=$options$$.sync==true;if($options$$.loadParams)this.loadParams=$options$$.loadParams}this.locale=this.locale||new Locale;if(typeof $freeformAddress$$==="object"){this.streetAddress=$freeformAddress$$.streetAddress;
this.locality=$freeformAddress$$.locality;this.region=$freeformAddress$$.region;this.postalCode=$freeformAddress$$.postalCode;this.postOffice=$freeformAddress$$.postOffice;this.country=$freeformAddress$$.country;$freeformAddress$$.countryCode&&(this.countryCode=$freeformAddress$$.countryCode);if($freeformAddress$$.format)this.format=$freeformAddress$$.format;return this}$address$$=$freeformAddress$$.replace(/[ \t\r]+/g," ").trim();$address$$=$address$$.replace(/[\s\n]+$/,"");$address$$=$address$$.replace(/^[\s\n]+/,
"");this.lines=$address$$.split(/[,\uff0c\n]/g);this.removeEmptyLines(this.lines);isAscii._init(this.sync,this.loadParams,ilib.bind(this,function(){isIdeo._init(this.sync,this.loadParams,ilib.bind(this,function(){isDigit._init(this.sync,this.loadParams,ilib.bind(this,function(){typeof ilib.data.nativecountries==="undefined"?Utils.loadData({object:Address,name:"nativecountries.json",locale:"-",nonlocale:true,sync:this.sync,loadParams:this.loadParams,callback:ilib.bind(this,function($nativecountries$$){ilib.data.nativecountries=
$nativecountries$$;this._loadCountries($options$$&&$options$$.onLoad)})}):this._loadCountries($options$$&&$options$$.onLoad)}))}))}))}};
Address.prototype={_loadCountries:function $Address$$_loadCountries$($onLoad$$){typeof ilib.data.countries==="undefined"?Utils.loadData({object:Address,name:"countries.json",locale:"-",nonlocale:true,sync:this.sync,loadParams:this.loadParams,callback:ilib.bind(this,function($countries$$){ilib.data.countries=$countries$$;this._loadCtrynames($onLoad$$)})}):this._loadCtrynames($onLoad$$)},_loadCtrynames:function $Address$$_loadCtrynames$($onLoad$$){Utils.loadData({name:"ctrynames.json",object:Address,
locale:this.locale,sync:this.sync,loadParams:this.loadParams,callback:ilib.bind(this,function($ctrynames$$){this._determineDest($ctrynames$$,$onLoad$$)})})},_findDest:function $Address$$_findDest$($ctrynames$$){var $match$$,$countryName$$;for($countryName$$ in $ctrynames$$)if($countryName$$&&$countryName$$!=="generated"&&(!$match$$||$match$$.text.length<$countryName$$.length)){var $temp$$=this._findCountry($countryName$$);if($temp$$){$match$$=$temp$$;this.country=$match$$.text;this.countryCode=$ctrynames$$[$countryName$$]}}return $match$$},
_determineDest:function $Address$$_determineDest$($localizedCountries$$,$callback$$){var $match$$,$tables$$=[];$localizedCountries$$&&$tables$$.push($localizedCountries$$);$tables$$.push(ilib.data.nativecountries);$tables$$.push(ilib.data.countries);for(var $i$$=0;$i$$<$tables$$.length;$i$$++)if($match$$=this._findDest($tables$$[$i$$])){this.lines[$match$$.line]=this.lines[$match$$.line].substring(0,$match$$.start)+this.lines[$match$$.line].substring($match$$.start+$match$$.text.length);this._init($callback$$);
return}this.country=void 0;this.countryCode=this.locale.getRegion();this._init($callback$$)},_init:function $Address$$_init$($callback$$){Utils.loadData({object:Address,locale:new Locale(this.countryCode),name:"address.json",sync:this.sync,loadParams:this.loadParams,callback:ilib.bind(this,function($info$$0$$){if(!$info$$0$$||JSUtils.isEmpty($info$$0$$))Utils.loadData({object:Address,locale:new Locale("XX"),name:"address.json",sync:this.sync,loadParams:this.loadParams,callback:ilib.bind(this,function($info$$){this.info=
$info$$;this._parseAddress();typeof $callback$$==="function"&&$callback$$(this)})});else{this.info=$info$$0$$;this._parseAddress();typeof $callback$$==="function"&&$callback$$(this)}})})},_parseAddress:function $Address$$_parseAddress$(){var $asianChars_i$$,$latinChars_startAt$$=$asianChars_i$$=0,$infoFields_j$$,$field_it$$,$c$$11_pattern$$,$matchFunction$$,$match$$,$fieldNumber$$;if(this.info&&this.info.multiformat){for($infoFields_j$$=0;$infoFields_j$$<this.lines.length;$infoFields_j$$++)for($field_it$$=
(new IString(this.lines[$infoFields_j$$])).charIterator();$field_it$$.hasNext();){$c$$11_pattern$$=$field_it$$.next();isIdeo($c$$11_pattern$$)||CType.withinRange($c$$11_pattern$$,"Hangul")?$asianChars_i$$++:isAscii($c$$11_pattern$$)&&!isDigit($c$$11_pattern$$)&&$latinChars_startAt$$++}this.format=$asianChars_i$$>=$latinChars_startAt$$?"asian":"latin";$latinChars_startAt$$=this.info.startAt[this.format];$infoFields_j$$=this.info.fields[this.format]}else{$latinChars_startAt$$=this.info&&this.info.startAt||
"end";$infoFields_j$$=this.info.fields}this.compare=$latinChars_startAt$$==="end"?this.endsWith:this.startsWith;for($asianChars_i$$=0;$asianChars_i$$<$infoFields_j$$.length&&this.lines.length>0;$asianChars_i$$++){$field_it$$=$infoFields_j$$[$asianChars_i$$];this.removeEmptyLines(this.lines);if($field_it$$.pattern){if(typeof $field_it$$.pattern==="string"){$c$$11_pattern$$=RegExp($field_it$$.pattern,"img");$matchFunction$$=this.matchRegExp}else{$c$$11_pattern$$=$field_it$$.pattern;$matchFunction$$=
this.matchPattern}switch($field_it$$.line){case "startAtFirst":for($fieldNumber$$=0;$fieldNumber$$<this.lines.length;$fieldNumber$$++)if($match$$=$matchFunction$$(this,this.lines[$fieldNumber$$],$c$$11_pattern$$,$field_it$$.matchGroup,$latinChars_startAt$$))break;break;case "startAtLast":for($fieldNumber$$=this.lines.length-1;$fieldNumber$$>=0;$fieldNumber$$--)if($match$$=$matchFunction$$(this,this.lines[$fieldNumber$$],$c$$11_pattern$$,$field_it$$.matchGroup,$latinChars_startAt$$))break;break;case "first":$fieldNumber$$=
0;$match$$=$matchFunction$$(this,this.lines[$fieldNumber$$],$c$$11_pattern$$,$field_it$$.matchGroup,$latinChars_startAt$$);break;default:$fieldNumber$$=this.lines.length-1;$match$$=$matchFunction$$(this,this.lines[$fieldNumber$$],$c$$11_pattern$$,$field_it$$.matchGroup,$latinChars_startAt$$)}if($match$$){this.lines[$fieldNumber$$]=$match$$.line;this[$field_it$$.name]=$match$$.match}}else this[$field_it$$.name]=this.lines.splice($fieldNumber$$,1)[0].trim()}this.removeEmptyLines(this.lines);this.lines.length>
0&&(this.streetAddress=this.lines.join(this.info.joinString&&this.info.joinString[this.format]||(this.format&&this.format==="asian"?"":", ")).trim());this.lines=void 0},_findCountry:function $Address$$_findCountry$($name$$){var $start$$=-1,$match$$,$line$$=0;if(this.lines.length>0){$start$$=this.startsWith(this.lines[$line$$],$name$$);if($start$$===-1){$line$$=this.lines.length-1;$start$$=this.endsWith(this.lines[$line$$],$name$$)}$start$$!==-1&&($match$$={text:this.lines[$line$$].substring($start$$,
$start$$+$name$$.length),line:$line$$,start:$start$$})}return $match$$},endsWith:function $Address$$endsWith$($subject$$,$query$$){var $start$$=$subject$$.length-$query$$.length,$i$$;for($i$$=0;$i$$<$query$$.length;$i$$++)if($subject$$.charAt($start$$+$i$$).toLowerCase()!==$query$$.charAt($i$$).toLowerCase())return-1;if($start$$>0){$i$$=/\s/;if(!$i$$.test($subject$$.charAt($start$$-1)))return-1}return $start$$},startsWith:function $Address$$startsWith$($subject$$,$query$$){var $i$$;for($i$$=0;$i$$<
$query$$.length;$i$$++)if($subject$$.charAt($i$$).toLowerCase()!==$query$$.charAt($i$$).toLowerCase())return-1;return 0},removeEmptyLines:function $Address$$removeEmptyLines$($arr$$){for(var $i$$=0;$i$$<$arr$$.length;)if($arr$$[$i$$]){$arr$$[$i$$]=$arr$$[$i$$].trim();$arr$$[$i$$].length===0?$arr$$.splice($i$$,1):$i$$++}else $arr$$.splice($i$$,1)},matchRegExp:function $Address$$matchRegExp$($address$$,$line$$,$expression$$2_last$$,$matchGroup$$,$startAt$$){var $lastMatch$$,$match$$,$ret$$={};$match$$=
$expression$$2_last$$.exec($line$$);if($startAt$$==="end"){for(;$match$$!==null&&$match$$.length>0;){$lastMatch$$=$match$$;$match$$=$expression$$2_last$$.exec($line$$)}$match$$=$lastMatch$$}if($match$$&&$match$$!==null){$matchGroup$$=$matchGroup$$||0;if($match$$[$matchGroup$$]!==void 0){$ret$$.match=$match$$[$matchGroup$$].trim();$ret$$.match=$ret$$.match.replace(/^\-|\-+$/,"");$ret$$.match=$ret$$.match.replace(/\s+$/,"");$expression$$2_last$$=$startAt$$==="end"?$line$$.lastIndexOf($match$$[$matchGroup$$]):
$line$$.indexOf($match$$[$matchGroup$$]);$ret$$.line=$line$$.slice(0,$expression$$2_last$$);if($address$$.format!=="asian")$ret$$.line=$ret$$.line+" ";$ret$$.line=$ret$$.line+$line$$.slice($expression$$2_last$$+$match$$[$matchGroup$$].length);$ret$$.line=$ret$$.line.trim();return $ret$$}}},matchPattern:function $Address$$matchPattern$($address$$,$line$$,$pattern$$){var $start$$,$j$$,$ret$$={};for($j$$=0;$j$$<$pattern$$.length;$j$$++){$start$$=$address$$.compare($line$$,$pattern$$[$j$$]);if($start$$!==
-1){$ret$$.match=$line$$.substring($start$$,$start$$+$pattern$$[$j$$].length);$ret$$.line=$start$$!==0?$line$$.substring(0,$start$$).trim():$line$$.substring($pattern$$[$j$$].length).trim();return $ret$$}}}};
var AddressFmt=function $AddressFmt$($options$$){this.sync=true;this.styleName="default";this.loadParams={};this.locale=new Locale;if($options$$){if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new Locale($options$$.locale):$options$$.locale;if(typeof $options$$.sync!=="undefined")this.sync=$options$$.sync==true;if($options$$.style)this.styleName=$options$$.style;if($options$$.loadParams)this.loadParams=$options$$.loadParams}Utils.loadData({name:"address.json",object:AddressFmt,
locale:this.locale,sync:this.sync,loadParams:this.loadParams,callback:ilib.bind(this,function($info$$0$$){if(!$info$$0$$||JSUtils.isEmpty($info$$0$$))Utils.loadData({name:"address.json",object:AddressFmt,locale:new Locale("XX"),sync:this.sync,loadParams:this.loadParams,callback:ilib.bind(this,function($info$$){this.info=$info$$;this._init();if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})});else{this.info=$info$$0$$;this._init();if($options$$&&typeof $options$$.onLoad===
"function")$options$$.onLoad(this)}})})};AddressFmt.prototype._init=function $AddressFmt$$_init$(){this.style=(this.style=this.info&&this.info.formats&&this.info.formats[this.styleName])||this.info&&this.info.formats["default"]||"{streetAddress}\n{locality} {region} {postalCode}\n{country}"};
AddressFmt.prototype.format=function $AddressFmt$$format$($address$$3_ret$$){var $other$$5_params$$;if(!$address$$3_ret$$)return"";if($address$$3_ret$$.countryCode&&$address$$3_ret$$.countryCode!==this.locale.region&&Locale._isRegionCode(this.locale.region)&&this.locale.region!=="XX"){$other$$5_params$$=new AddressFmt({locale:new Locale($address$$3_ret$$.countryCode),style:this.styleName});return $other$$5_params$$.format($address$$3_ret$$)}$other$$5_params$$={country:$address$$3_ret$$.country||"",
region:$address$$3_ret$$.region||"",locality:$address$$3_ret$$.locality||"",streetAddress:$address$$3_ret$$.streetAddress||"",postalCode:$address$$3_ret$$.postalCode||"",postOffice:$address$$3_ret$$.postOffice||""};$address$$3_ret$$=(new IString(typeof this.style==="object"?this.style[$address$$3_ret$$.format||"latin"]:this.style)).format($other$$5_params$$);$address$$3_ret$$=$address$$3_ret$$.replace(/[ \t]+/g," ");$address$$3_ret$$=$address$$3_ret$$.replace("\n ","\n");$address$$3_ret$$=$address$$3_ret$$.replace(" \n",
"\n");return $address$$3_ret$$.replace(/\n+/g,"\n").trim()};
var GlyphString=function $GlyphString$($str$$,$options$$){if(!$options$$||!$options$$.noinstance){IString.call(this,$str$$);var $sync$$=true,$loadParams$$={};if($options$$){if(typeof $options$$.sync==="boolean")$sync$$=$options$$.sync;if($options$$.loadParams)$loadParams$$=$options$$.loadParams}CType._load("ctype_m",$sync$$,$loadParams$$,function(){if(!ilib.data.norm||JSUtils.isEmpty(ilib.data.norm.ccc))Utils.loadData({object:GlyphString,locale:"-",name:"normdata.json",nonlocale:true,sync:$sync$$,
loadParams:$loadParams$$,callback:ilib.bind(this,function($norm$$){ilib.extend(ilib.data.norm,$norm$$);if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})});else if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})}};GlyphString.prototype=new IString(void 0);GlyphString.prototype.parent=IString;GlyphString.prototype.constructor=GlyphString;GlyphString._isJamoL=function $GlyphString$_isJamoL$($n$$){return $n$$>=4352&&$n$$<=4370};
GlyphString._isJamoV=function $GlyphString$_isJamoV$($n$$){return $n$$>=4449&&$n$$<=4469};GlyphString._isJamoT=function $GlyphString$_isJamoT$($n$$){return $n$$>=4520&&$n$$<=4546};GlyphString._isHangul=function $GlyphString$_isHangul$($n$$){return $n$$>=44032&&$n$$<=55203};GlyphString._composeJamoLV=function $GlyphString$_composeJamoLV$($lead$$,$trail$$){return IString.fromCodePoint(44032+(($lead$$-4352)*21+($trail$$-4449))*28)};
GlyphString._composeJamoLVT=function $GlyphString$_composeJamoLVT$($lead$$,$trail$$){return IString.fromCodePoint($lead$$+($trail$$-4519))};
GlyphString._compose=function $GlyphString$_compose$($lead$$,$trail$$){var $first$$=$lead$$.charCodeAt(0),$last$$=$trail$$.charCodeAt(0);return GlyphString._isHangul($first$$)&&GlyphString._isJamoT($last$$)?GlyphString._composeJamoLVT($first$$,$last$$):GlyphString._isJamoL($first$$)&&GlyphString._isJamoV($last$$)?GlyphString._composeJamoLV($first$$,$last$$):ilib.data.norm.nfc&&ilib.data.norm.nfc[$lead$$+$trail$$]};
GlyphString.prototype.charIterator=function $GlyphString$$charIterator$(){var $it$$=IString.prototype.charIterator.call(this);return new function _chiterator(){this.index=0;this.spacingCombining=false;this.hasNext=function $this$hasNext$(){return!!this.nextChar||$it$$.hasNext()};this.next=function $this$next$(){var $ch$$=this.nextChar||$it$$.next(),$prevCcc$$=ilib.data.norm.ccc[$ch$$],$nextCcc$$,$composed$$=$ch$$;this.nextChar=void 0;this.spacingCombining=false;if(ilib.data.norm.ccc&&(typeof ilib.data.norm.ccc[$ch$$]===
"undefined"||ilib.data.norm.ccc[$ch$$]===0))for(var $notdone$$=true;$it$$.hasNext()&&$notdone$$;){this.nextChar=$it$$.next();$nextCcc$$=ilib.data.norm.ccc[this.nextChar];var $codePoint_isMc$$=IString.toCodePoint(this.nextChar,0),$isMn_testChar$$=CType._inRange($codePoint_isMc$$,"Mn",ilib.data.ctype_m),$codePoint_isMc$$=CType._inRange($codePoint_isMc$$,"Mc",ilib.data.ctype_m);if($isMn_testChar$$||$codePoint_isMc$$||typeof $nextCcc$$!=="undefined"&&$nextCcc$$!==0){if($codePoint_isMc$$)this.spacingCombining=
true;$ch$$=$ch$$+this.nextChar;this.nextChar=void 0}else{$isMn_testChar$$=GlyphString._compose($composed$$,this.nextChar);if($prevCcc$$===0&&typeof $isMn_testChar$$!=="undefined"){$composed$$=$isMn_testChar$$;$ch$$=$ch$$+this.nextChar;this.nextChar=void 0}else $notdone$$=false}$prevCcc$$=$nextCcc$$}return $ch$$};this.wasSpacingCombining=function $this$wasSpacingCombining$(){return this.spacingCombining}}(this)};
GlyphString.prototype.truncate=function $GlyphString$$truncate$($c$$13_length$$){for(var $it$$=this.charIterator(),$tr$$="",$i$$=0;$i$$<$c$$13_length$$-1&&$it$$.hasNext();$i$$++)$tr$$=$tr$$+$it$$.next();if($i$$<$c$$13_length$$&&$it$$.hasNext()){$c$$13_length$$=$it$$.next();$it$$.wasSpacingCombining()||($tr$$=$tr$$+$c$$13_length$$)}return $tr$$};GlyphString.prototype.ellipsize=function $GlyphString$$ellipsize$($length$$){return this.truncate($length$$>0?$length$$-1:0)+"\u2026"};
var NormString=function $NormString$($str$$){GlyphString.call(this,$str$$)};NormString.prototype=new GlyphString("",{noinstance:!0});NormString.prototype.parent=GlyphString;NormString.prototype.constructor=NormString;
NormString.init=function $NormString$init$($files$$4_options$$){if(ilib._load&&!(typeof ilib._load!=="function"&&typeof ilib._load.loadFiles!=="function")){var $form$$="nfkc",$script$$="all",$sync$$=true,$onLoad$$=void 0,$loadParams$$=void 0;if($files$$4_options$$){$form$$=$files$$4_options$$.form||"nfkc";$script$$=$files$$4_options$$.script||"all";$sync$$=typeof $files$$4_options$$.sync!=="undefined"?$files$$4_options$$.sync:true;$onLoad$$=typeof $files$$4_options$$.onLoad==="function"?$files$$4_options$$.onLoad:
void 0;if($files$$4_options$$.loadParams)$loadParams$$=$files$$4_options$$.loadParams}var $files$$4_options$$=["normdata.json"],$forms$$={nfd:["nfd"],nfc:["nfd"],nfkd:["nfkd","nfd"],nfkc:["nfkd","nfd"]}[$form$$],$f$$;for($f$$ in $forms$$)$files$$4_options$$.push($forms$$[$f$$]+"/"+$script$$+".json");(JSUtils.isEmpty(ilib.data.norm.ccc)||JSUtils.isEmpty(ilib.data.norm.nfd)||JSUtils.isEmpty(ilib.data.norm.nfkd))&&Utils._callLoadData($files$$4_options$$,$sync$$,$loadParams$$,function($arr$$){ilib.extend(ilib.data.norm,
$arr$$[0]);for(var $i$$=1;$i$$<$arr$$.length;$i$$++)typeof $arr$$[$i$$]!=="undefined"&&ilib.extend(ilib.data.norm[$forms$$[$i$$-1]],$arr$$[$i$$]);$onLoad$$&&$onLoad$$($arr$$)})}};
NormString._decomposeHangul=function $NormString$_decomposeHangul$($cp_result$$){var $sindex_t$$=$cp_result$$-44032,$cp_result$$=String.fromCharCode(4352+$sindex_t$$/588)+String.fromCharCode(4449+$sindex_t$$%588/28),$sindex_t$$=$sindex_t$$%28;$sindex_t$$!==0&&($cp_result$$=$cp_result$$+String.fromCharCode(4519+$sindex_t$$));return $cp_result$$};
NormString._expand=function $NormString$_expand$($ch$$25_i$$,$canon$$,$compat$$){var $expansion$$="",$n$$24_result$$=$ch$$25_i$$.charCodeAt(0);if(GlyphString._isHangul($n$$24_result$$))$expansion$$=NormString._decomposeHangul($n$$24_result$$);else{$n$$24_result$$=$canon$$[$ch$$25_i$$];!$n$$24_result$$&&$compat$$&&($n$$24_result$$=$compat$$[$ch$$25_i$$]);if($n$$24_result$$&&$n$$24_result$$!==$ch$$25_i$$)for($ch$$25_i$$=0;$ch$$25_i$$<$n$$24_result$$.length;$ch$$25_i$$++)$expansion$$=$expansion$$+NormString._expand($n$$24_result$$[$ch$$25_i$$],
$canon$$,$compat$$);else $expansion$$=$ch$$25_i$$}return $expansion$$};
NormString.prototype.normalize=function $NormString$$normalize$($cpArray_decomp_form$$){function $compareByCCC$$($left$$,$right$$){return ilib.data.norm.ccc[$left$$]-ilib.data.norm.ccc[$right$$]}function $ccc$$($c$$){return ilib.data.norm.ccc[$c$$]||0}function $sortChars$$($arr$$,$comp$$){if(ilib._getPlatform()==="qt"){for(var $tmp$$,$i$$=$arr$$.length-1;$i$$>0;$i$$--)for(var $j$$=0;$j$$<$i$$;$j$$++)if($comp$$($arr$$[$j$$],$arr$$[$j$$+1])>0){$tmp$$=$arr$$[$j$$];$arr$$[$j$$]=$arr$$[$j$$+1];$arr$$[$j$$+
1]=$tmp$$}return $arr$$}return $arr$$.sort($comp$$)}var $i$$55_it$$;if(typeof $cpArray_decomp_form$$!=="string"||this.str.length===0)return new IString(this.str);var $nfc_notdone$$=false;$i$$55_it$$=false;switch($cpArray_decomp_form$$){case "nfc":$nfc_notdone$$=true;break;case "nfkd":$i$$55_it$$=true;break;case "nfkc":$nfc_notdone$$=$i$$55_it$$=true}$cpArray_decomp_form$$="";if($i$$55_it$$){var $ch$$26_end$$;for($i$$55_it$$=IString.prototype.charIterator.call(this);$i$$55_it$$.hasNext();){$ch$$26_end$$=
$i$$55_it$$.next();$cpArray_decomp_form$$=$cpArray_decomp_form$$+NormString._expand($ch$$26_end$$,ilib.data.norm.nfd,ilib.data.norm.nfkd)}}else for($i$$55_it$$=IString.prototype.charIterator.call(this);$i$$55_it$$.hasNext();){$ch$$26_end$$=$i$$55_it$$.next();$cpArray_decomp_form$$=$cpArray_decomp_form$$+NormString._expand($ch$$26_end$$,ilib.data.norm.nfd)}$i$$55_it$$=(new IString($cpArray_decomp_form$$)).charIterator();for($cpArray_decomp_form$$=[];$i$$55_it$$.hasNext();)$cpArray_decomp_form$$.push($i$$55_it$$.next());
for($i$$55_it$$=0;$i$$55_it$$<$cpArray_decomp_form$$.length;){if(typeof ilib.data.norm.ccc[$cpArray_decomp_form$$[$i$$55_it$$]]!=="undefined"&&$ccc$$($cpArray_decomp_form$$[$i$$55_it$$])!==0){for($ch$$26_end$$=$i$$55_it$$+1;$ch$$26_end$$<$cpArray_decomp_form$$.length&&typeof ilib.data.norm.ccc[$cpArray_decomp_form$$[$ch$$26_end$$]]!=="undefined"&&$ccc$$($cpArray_decomp_form$$[$ch$$26_end$$])!==0;)$ch$$26_end$$++;$ch$$26_end$$-$i$$55_it$$>1&&($cpArray_decomp_form$$=$cpArray_decomp_form$$.slice(0,$i$$55_it$$).concat($sortChars$$($cpArray_decomp_form$$.slice($i$$55_it$$,
$ch$$26_end$$),$compareByCCC$$),$cpArray_decomp_form$$.slice($ch$$26_end$$)))}$i$$55_it$$++}if($nfc_notdone$$)for($i$$55_it$$=0;$i$$55_it$$<$cpArray_decomp_form$$.length;){if(typeof ilib.data.norm.ccc[$cpArray_decomp_form$$[$i$$55_it$$]]==="undefined"||ilib.data.norm.ccc[$cpArray_decomp_form$$[$i$$55_it$$]]===0){$ch$$26_end$$=$i$$55_it$$+1;for($nfc_notdone$$=true;$ch$$26_end$$<$cpArray_decomp_form$$.length&&$nfc_notdone$$;)if(typeof ilib.data.norm.ccc[$cpArray_decomp_form$$[$ch$$26_end$$]]!=="undefined"&&
ilib.data.norm.ccc[$cpArray_decomp_form$$[$ch$$26_end$$]]!==0){if($ccc$$($cpArray_decomp_form$$[$ch$$26_end$$-1])<$ccc$$($cpArray_decomp_form$$[$ch$$26_end$$])){var $testChar$$=GlyphString._compose($cpArray_decomp_form$$[$i$$55_it$$],$cpArray_decomp_form$$[$ch$$26_end$$]);if(typeof $testChar$$!=="undefined"){$cpArray_decomp_form$$[$i$$55_it$$]=$testChar$$;$cpArray_decomp_form$$.splice($ch$$26_end$$,1);$ch$$26_end$$=$i$$55_it$$}}$ch$$26_end$$++}else{$testChar$$=GlyphString._compose($cpArray_decomp_form$$[$i$$55_it$$],
$cpArray_decomp_form$$[$ch$$26_end$$]);if($ccc$$($cpArray_decomp_form$$[$ch$$26_end$$-1])===0&&typeof $testChar$$!=="undefined"){$cpArray_decomp_form$$[$i$$55_it$$]=$testChar$$;$cpArray_decomp_form$$.splice($ch$$26_end$$,1);$ch$$26_end$$=$i$$55_it$$+1}else $nfc_notdone$$=false}}$i$$55_it$$++}return new IString($cpArray_decomp_form$$.length>0?$cpArray_decomp_form$$.join(""):"")};
NormString.prototype.charIterator=function $NormString$$charIterator$(){var $it$$=IString.prototype.charIterator.call(this);return new function _chiterator(){this.index=0;this.hasNext=function $this$hasNext$(){return!!this.nextChar||$it$$.hasNext()};this.next=function $this$next$(){var $ch$$=this.nextChar||$it$$.next(),$prevCcc$$=ilib.data.norm.ccc[$ch$$]||0,$nextCcc$$,$composed$$=$ch$$;this.nextChar=void 0;if(ilib.data.norm.ccc&&(typeof ilib.data.norm.ccc[$ch$$]==="undefined"||(ilib.data.norm.ccc[$ch$$]||
0)===0))for(var $notdone$$=true;$it$$.hasNext()&&$notdone$$;){this.nextChar=$it$$.next();$nextCcc$$=ilib.data.norm.ccc[this.nextChar]||0;if(typeof ilib.data.norm.ccc[this.nextChar]!=="undefined"&&$nextCcc$$!==0){$ch$$=$ch$$+this.nextChar;this.nextChar=void 0}else{var $testChar$$=GlyphString._compose($composed$$,this.nextChar);if($prevCcc$$===0&&typeof $testChar$$!=="undefined"){$composed$$=$testChar$$;$ch$$=$ch$$+this.nextChar;this.nextChar=void 0}else $notdone$$=false}$prevCcc$$=$nextCcc$$}return $ch$$}}(this)};
var CodePointSource=function $CodePointSource$($str$$,$ignorePunctuation$$){this.chars=[];this.it=(typeof $str$$==="string"?new NormString($str$$):$str$$).charIterator();this.ignorePunctuation=typeof $ignorePunctuation$$==="boolean"&&$ignorePunctuation$$};
CodePointSource.prototype.peek=function $CodePointSource$$peek$($num$$){if(!($num$$<1)){if(this.chars.length<$num$$&&this.it.hasNext())for(var $i$$=0;this.chars.length<4&&this.it.hasNext();$i$$++){var $c$$=this.it.next();($c$$&&!this.ignorePunctuation||!isPunct($c$$))&&this.chars.push($c$$)}return this.chars.length<$num$$?void 0:this.chars.slice(0,$num$$).join("")}};
CodePointSource.prototype.consume=function $CodePointSource$$consume$($num$$){if($num$$>0){this.peek($num$$);this.chars=$num$$<this.chars.length?this.chars.slice($num$$):[]}};var ElementIterator=function $ElementIterator$($source$$,$map$$,$keysize$$){this.elements=[];this.source=$source$$;this.map=$map$$;this.keysize=$keysize$$};
ElementIterator.prototype._fillBuffer=function $ElementIterator$$_fillBuffer$(){for(var $str$$=void 0,$i$$=4;$i$$>0;$i$$--)if(($str$$=this.source.peek($i$$))&&this.map[$str$$]){this.elements=this.elements.concat(this.map[$str$$]);this.source.consume($i$$);return}if($str$$){this.elements.push($str$$.charCodeAt(0)<<this.keysize);this.source.consume(1)}};ElementIterator.prototype.hasNext=function $ElementIterator$$hasNext$(){this.elements.length<1&&this._fillBuffer();return!!this.elements.length};
ElementIterator.prototype.next=function $ElementIterator$$next$(){this.elements.length<1&&this._fillBuffer();var $ret$$=this.elements[0];this.elements=this.elements.slice(1);return $ret$$};
var Collator=function $Collator$($options$$){var $sync$$=true,$loadParams$$=void 0,$useNative$$=true;this.locale=new Locale(ilib.getLocale());this.caseFirst="upper";this.sensitivity="variant";this.level=4;this.usage="sort";this.numeric=this.reverse=false;this.style="default";this.ignorePunctuation=false;if($options$$){if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new Locale($options$$.locale):$options$$.locale;if($options$$.sensitivity)switch($options$$.sensitivity){case "primary":case "base":this.sensitivity=
"base";this.level=1;break;case "secondary":case "accent":this.sensitivity="accent";this.level=2;break;case "tertiary":case "case":this.sensitivity="case";this.level=3;break;case "quaternary":case "variant":this.sensitivity="variant";this.level=4}if(typeof $options$$.upperFirst!=="undefined")this.caseFirst=$options$$.upperFirst?"upper":"lower";if(typeof $options$$.ignorePunctuation!=="undefined")this.ignorePunctuation=$options$$.ignorePunctuation;typeof $options$$.sync!=="undefined"&&($sync$$=$options$$.sync==
true);$loadParams$$=$options$$.loadParams;if(typeof $options$$.useNative!=="undefined")$useNative$$=$options$$.useNative;if($options$$.usage==="sort"||$options$$.usage==="search")this.usage=$options$$.usage;if(typeof $options$$.reverse==="boolean")this.reverse=$options$$.reverse;if(typeof $options$$.numeric==="boolean")this.numeric=$options$$.numeric;if(typeof $options$$.style==="string")this.style=$options$$.style}if(this.usage==="sort")this.level=4;if($useNative$$&&typeof Intl!=="undefined"&&Intl){this.collator=
new Intl.Collator(this.locale.getSpec(),this);if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)}else{if(!Collator.cache)Collator.cache={};Utils.loadData({object:Collator,locale:this.locale,name:"collation.json",sync:$sync$$,loadParams:$loadParams$$,callback:ilib.bind(this,function($collation$$){if(!$collation$$){var $collation$$=ilib.data.collation,$spec$$=this.locale.getSpec().replace(/-/g,"_");Collator.cache[$spec$$]=$collation$$}this._init($collation$$);new LocaleInfo(this.locale,
{sync:$sync$$,loadParams:$loadParams$$,onLoad:ilib.bind(this,function($li$$){this.li=$li$$;if(this.ignorePunctuation)isPunct._init($sync$$,$loadParams$$,ilib.bind(this,function(){if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)}));else if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})})})})}};
Collator.prototype={_pack:function $Collator$$_pack$($arr$$,$offset$$){var $value$$=0;if($arr$$){typeof $arr$$==="number"&&($arr$$=[$arr$$]);for(var $i$$=0;$i$$<this.level;$i$$++){var $thisLevel$$=typeof $arr$$[$i$$]!=="undefined"?$arr$$[$i$$]:0;$i$$===0&&($thisLevel$$=$thisLevel$$+$offset$$);$i$$>0&&($value$$=$value$$<<this.collation.bits[$i$$]);$value$$=$i$$===2&&this.caseFirst==="lower"?$value$$|1-$thisLevel$$:$value$$|$thisLevel$$}}return $value$$},_packRule:function $Collator$$_packRule$($rule$$,
$offset$$){if(ilib.isArray($rule$$[0])){for(var $ret$$=[],$i$$=0;$i$$<$rule$$.length;$i$$++)$ret$$.push(this._pack($rule$$[$i$$],$offset$$));return $ret$$}return[this._pack($rule$$,$offset$$)]},_addChars:function $Collator$$_addChars$($str$$,$offset$$){for(var $it$$=(new GlyphString($str$$)).charIterator(),$c$$;$it$$.hasNext();){$c$$=$it$$.next();if($c$$==="'")for(var $x$$=$c$$="";$it$$.hasNext()&&$x$$!=="'";){$c$$=$c$$+$x$$;$x$$=$it$$.next()}this.lastMap++;this.map[$c$$]=this._packRule([this.lastMap],
$offset$$)}},_addRules:function $Collator$$_addRules$($rules$$,$start$$){var $i$$61_p$$,$r$$1_range$$;for($r$$1_range$$ in $rules$$.map)if($r$$1_range$$){this.map[$r$$1_range$$]=this._packRule($rules$$.map[$r$$1_range$$],$start$$);$i$$61_p$$=typeof $rules$$.map[$r$$1_range$$][0]==="number"?$rules$$.map[$r$$1_range$$][0]:$rules$$.map[$r$$1_range$$][0][0];this.lastMap=Math.max($i$$61_p$$+$start$$,this.lastMap)}if(typeof $rules$$.ranges!=="undefined")for($i$$61_p$$=0;$i$$61_p$$<$rules$$.ranges.length;$i$$61_p$$++){$r$$1_range$$=
$rules$$.ranges[$i$$61_p$$];this.lastMap=$r$$1_range$$.start;if(typeof $r$$1_range$$.chars==="string")this._addChars($r$$1_range$$.chars,$start$$);else for(var $k$$=0;$k$$<$r$$1_range$$.chars.length;$k$$++)this._addChars($r$$1_range$$.chars[$k$$],$start$$)}},_init:function $Collator$$_init$($rules$$){for(var $rule$$=this.style;typeof $rule$$==="string";)$rule$$=$rules$$[$rule$$];if(!$rule$$)for($rule$$="default";typeof $rule$$==="string";)$rule$$=$rules$$[$rule$$];if($rule$$){this.collation=$rule$$;
this.map={};this.lastMap=-1;this.keysize=this.collation.keysize[this.level-1];if(typeof this.collation.inherit!=="undefined")for(var $i$$=0;$i$$<this.collation.inherit.length;$i$$++){var $col$$=this.collation.inherit[$i$$],$rule$$=typeof $col$$==="object"?$col$$.name:$col$$;$rules$$[$rule$$]&&this._addRules($rules$$[$rule$$],$col$$.start||this.lastMap+1)}this._addRules(this.collation,this.lastMap+1)}else this.map={}},_basicCompare:function $Collator$$_basicCompare$($left$$,$right$$){var $l$$=$left$$ instanceof
NormString?$left$$:new NormString($left$$),$diff$$1_r$$=$right$$ instanceof NormString?$right$$:new NormString($right$$),$lelements_lvalue$$,$relements_rvalue$$;if(this.numeric){$lelements_lvalue$$=new INumber($left$$,{locale:this.locale});$relements_rvalue$$=new INumber($right$$,{locale:this.locale});if(!isNaN($lelements_lvalue$$.valueOf())&&!isNaN($relements_rvalue$$.valueOf())){if($diff$$1_r$$=$lelements_lvalue$$.valueOf()-$relements_rvalue$$.valueOf())return $diff$$1_r$$;$l$$=new NormString($left$$.substring($lelements_lvalue$$.parsed.length));
$diff$$1_r$$=new NormString($right$$.substring($relements_rvalue$$.parsed.length))}}$lelements_lvalue$$=new ElementIterator(new CodePointSource($l$$,this.ignorePunctuation),this.map,this.keysize);for($relements_rvalue$$=new ElementIterator(new CodePointSource($diff$$1_r$$,this.ignorePunctuation),this.map,this.keysize);$lelements_lvalue$$.hasNext()&&$relements_rvalue$$.hasNext();)if($diff$$1_r$$=$lelements_lvalue$$.next()-$relements_rvalue$$.next())return $diff$$1_r$$;return!$lelements_lvalue$$.hasNext()&&
!$relements_rvalue$$.hasNext()?0:$lelements_lvalue$$.hasNext()?1:-1},compare:function $Collator$$compare$($left$$,$right$$){if(this.collator)return this.collator.compare($left$$,$right$$);var $ret$$=this._basicCompare($left$$,$right$$);return this.reverse?-$ret$$:$ret$$},getComparator:function $Collator$$getComparator$(){return this.collator?this.collator.compare:ilib.bind(this,this.compare)},sortKey:function $Collator$$sortKey$($ret$$22_s$$4_str$$37_v$$){function $pad$$($str$$,$limit$$){return"0000000000000000".substring(0,
$limit$$-$str$$.length)+$str$$}if(!$ret$$22_s$$4_str$$37_v$$)return"";if(this.collator)return $ret$$22_s$$4_str$$37_v$$;if(this.numeric){$ret$$22_s$$4_str$$37_v$$=new INumber($ret$$22_s$$4_str$$37_v$$,{locale:this.locale});$ret$$22_s$$4_str$$37_v$$=isNaN($ret$$22_s$$4_str$$37_v$$.valueOf())?"":$ret$$22_s$$4_str$$37_v$$.valueOf().toString(16);return $pad$$($ret$$22_s$$4_str$$37_v$$,16)}for(var $lelements$$1_n$$=typeof $ret$$22_s$$4_str$$37_v$$==="string"?new NormString($ret$$22_s$$4_str$$37_v$$):$ret$$22_s$$4_str$$37_v$$,
$ret$$22_s$$4_str$$37_v$$="",$lelements$$1_n$$=new ElementIterator(new CodePointSource($lelements$$1_n$$,this.ignorePunctuation),this.map,this.keysize),$element$$;$lelements$$1_n$$.hasNext();){$element$$=$lelements$$1_n$$.next();this.reverse&&($element$$=(1<<this.keysize)-$element$$);$ret$$22_s$$4_str$$37_v$$=$ret$$22_s$$4_str$$37_v$$+$pad$$($element$$.toString(16),this.keysize/4)}return $ret$$22_s$$4_str$$37_v$$}};Collator.getAvailableStyles=function $Collator$getAvailableStyles$(){return["standard"]};
Collator.getAvailableScripts=function $Collator$getAvailableScripts$(){return["Latn"]};ilib.extend(ilib.data.norm,ilib.data.normdata);ilib.extend(ilib.data.norm.nfd,ilib.data.nfd_all);ilib.data.normdata=void 0;ilib.data.nfd_all=void 0;ilib.extend(ilib.data.norm,ilib.data.normdata);ilib.extend(ilib.data.norm.nfkd,ilib.data.nfkd_all);ilib.data.normdata=void 0;ilib.data.nfkd_all=void 0;ilib.extend(ilib.data.norm,ilib.data.normdata);ilib.data.normdata=void 0;
var LocaleMatcher=function $LocaleMatcher$($options$$){var $sync$$=true,$loadParams$$=void 0;this.locale=new Locale;if($options$$){if(typeof $options$$.locale!=="undefined")this.locale=typeof $options$$.locale==="string"?new Locale($options$$.locale):$options$$.locale;typeof $options$$.sync!=="undefined"&&($sync$$=$options$$.sync==true);if(typeof $options$$.loadParams!=="undefined")$loadParams$$=$options$$.loadParams}if(!LocaleMatcher.cache)LocaleMatcher.cache={};typeof ilib.data.likelylocales===
"undefined"?Utils.loadData({object:LocaleMatcher,locale:"-",name:"likelylocales.json",sync:$sync$$,loadParams:$loadParams$$,callback:ilib.bind(this,function($info$$){if(!$info$$){var $info$$={},$spec$$=this.locale.getSpec().replace(/-/g,"_");LocaleMatcher.cache[$spec$$]=$info$$}this.info=$info$$;if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})}):this.info=ilib.data.likelylocales};
LocaleMatcher.prototype={getLocale:function $LocaleMatcher$$getLocale$(){return this.locale},getLikelyLocale:function $LocaleMatcher$$getLikelyLocale$(){return typeof this.info[this.locale.getSpec()]==="undefined"?this.locale:new Locale(this.info[this.locale.getSpec()])}};
var CaseMapper=function $CaseMapper$($options$$){this.up=true;this.locale=new Locale;if($options$$){if(typeof $options$$.locale!=="undefined")this.locale=typeof $options$$.locale==="string"?new Locale($options$$.locale):$options$$.locale;this.up=!$options$$.direction||$options$$.direction==="toupper"}this.mapData=this.up?{"\u00df":"SS","\u0390":"\u0399","\u03ac":"\u0391","\u03ad":"\u0395","\u03ae":"\u0397","\u03af":"\u0399","\u03b0":"\u03a5","\u03ca":"\u0399","\u03cb":"\u03a5","\u03cc":"\u039f","\u03cd":"\u03a5",
"\u03ce":"\u03a9","\u04c0":"\u04c0","\u04cf":"\u04c0"}:{"\u04c0":"\u04c0"};switch(this.locale.getLanguage()){case "az":case "tr":case "crh":case "kk":case "krc":case "tt":this._setUpMap("i\u0131","\u0130I");break;case "fr":this.up&&this.locale.getRegion()!=="CA"&&this._setUpMap("\u00e0\u00e1\u00e2\u00e3\u00e4\u00e7\u00e8\u00e9\u00ea\u00eb\u00ec\u00ed\u00ee\u00ef\u00f1\u00f2\u00f3\u00f4\u00f6\u00f9\u00fa\u00fb\u00fc","AAAAACEEEEIIIINOOOOUUUU")}if(ilib._getBrowser()==="ie"){this.up&&(this.mapData["\u03c2"]=
"\u03a3");this._setUpMap("\u2c81\u2c83\u2c85\u2c87\u2c89\u2c8b\u2c8d\u2c8f\u2c91\u2c93\u2c95\u2c97\u2c99\u2c9b\u2c9d\u2c9f\u2ca1\u2ca3\u2ca5\u2ca7\u2ca9\u2cab\u2cad\u2caf\u2cb1\u2cc1\u2cc9\u2ccb","\u2c80\u2c82\u2c84\u2c86\u2c88\u2c8a\u2c8c\u2c8e\u2c90\u2c92\u2c94\u2c96\u2c98\u2c9a\u2c9c\u2c9e\u2ca0\u2ca2\u2ca4\u2ca6\u2ca8\u2caa\u2cac\u2cae\u2cb0\u2cc0\u2cc8\u2cca");this._setUpMap("\u2d00\u2d01\u2d02\u2d03\u2d04\u2d05\u2d06\u2d07\u2d08\u2d09\u2d0a\u2d0b\u2d0c\u2d0d\u2d0e\u2d0f\u2d10\u2d11\u2d12\u2d13\u2d14\u2d15\u2d16\u2d17\u2d18\u2d19\u2d1a\u2d1b\u2d1c\u2d1d\u2d1e\u2d1f\u2d20\u2d21\u2d22\u2d23\u2d24\u2d25",
"\u10a0\u10a1\u10a2\u10a3\u10a4\u10a5\u10a6\u10a7\u10a8\u10a9\u10aa\u10ab\u10ac\u10ad\u10ae\u10af\u10b0\u10b1\u10b2\u10b3\u10b4\u10b5\u10b6\u10b7\u10b8\u10b9\u10ba\u10bb\u10bc\u10bd\u10be\u10bf\u10c0\u10c1\u10c2\u10c3\u10c4\u10c5")}};
CaseMapper.prototype={_charMapper:function $CaseMapper$$_charMapper$($it$$11_string$$){if(!$it$$11_string$$)return $it$$11_string$$;for(var $ret$$="",$it$$11_string$$=(typeof $it$$11_string$$==="string"?new IString($it$$11_string$$):$it$$11_string$$.toString()).charIterator(),$c$$;$it$$11_string$$.hasNext();){$c$$=$it$$11_string$$.next();if(!this.up&&$c$$==="\u03a3")if($it$$11_string$$.hasNext()){$c$$=$it$$11_string$$.next();var $code$$=$c$$.charCodeAt(0),$ret$$=$ret$$+($code$$<904&&$code$$!==902||
$code$$>974?"\u03c2":"\u03c3"),$ret$$=$ret$$+$c$$.toLowerCase()}else $ret$$=$ret$$+"\u03c2";else $ret$$=this.mapData[$c$$]?$ret$$+this.mapData[$c$$]:$ret$$+(this.up?$c$$.toUpperCase():$c$$.toLowerCase())}return $ret$$},_setUpMap:function $CaseMapper$$_setUpMap$($lower$$,$upper$$){var $from$$,$to$$;if(this.up){$from$$=$lower$$;$to$$=$upper$$}else{$from$$=$upper$$;$to$$=$lower$$}for(var $i$$=0;$i$$<$upper$$.length;$i$$++)this.mapData[$from$$[$i$$]]=$to$$[$i$$]},getLocale:function $CaseMapper$$getLocale$(){return this.locale},
map:function $CaseMapper$$map$($string$$){return this._charMapper($string$$)}};
var NumberingPlan=function $NumberingPlan$($options$$){var $sync$$=true,$loadParams$$={};this.locale=new Locale;if($options$$){if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new Locale($options$$.locale):$options$$.locale;typeof $options$$.sync!=="undefined"&&($sync$$=$options$$.sync==true);if($options$$.loadParams)$loadParams$$=$options$$.loadParams}Utils.loadData({name:"numplan.json",object:NumberingPlan,locale:this.locale,sync:$sync$$,loadParams:$loadParams$$,callback:ilib.bind(this,
function($npdata$$){$npdata$$||($npdata$$={region:"XX",skipTrunk:false,trunkCode:"0",iddCode:"00",dialingPlan:"closed",commonFormatChars:" ()-./",fieldLengths:{areaCode:0,cic:0,mobilePrefix:0,serviceCode:0}});this.npdata=$npdata$$;if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})})};
NumberingPlan.prototype={getName:function $NumberingPlan$$getName$(){return this.npdata.region},getTrunkCode:function $NumberingPlan$$getTrunkCode$(){return this.npdata.trunkCode},getIDDCode:function $NumberingPlan$$getIDDCode$(){return this.npdata.iddCode},getPlanStyle:function $NumberingPlan$$getPlanStyle$(){return this.npdata.dialingPlan},getContextFree:function $NumberingPlan$$getContextFree$(){return this.npdata.contextFree},getFindExtensions:function $NumberingPlan$$getFindExtensions$(){return this.npdata.findExtensions},
getSkipTrunk:function $NumberingPlan$$getSkipTrunk$(){return this.npdata.skipTrunk},getTrunkRequired:function $NumberingPlan$$getTrunkRequired$(){return this.npdata.trunkRequired},getExtendedAreaCode:function $NumberingPlan$$getExtendedAreaCode$(){return this.npdata.extendedAreaCodes},getCommonFormatChars:function $NumberingPlan$$getCommonFormatChars$(){return this.npdata.commonFormatChars},getFieldLength:function $NumberingPlan$$getFieldLength$($field$$){return this.npdata.fieldLengths[$field$$]}};
var PhoneLocale=function $PhoneLocale$($options$$){var $region$$,$mcc$$,$cc$$,$sync$$=true,$loadParams$$={};this.parent.call(this,$options$$&&$options$$.locale||ilib.getLocale());$region$$=this.region;if($options$$){if(typeof $options$$.mcc!=="undefined")$mcc$$=$options$$.mcc;typeof $options$$.countryCode!=="undefined"&&($cc$$=$options$$.countryCode);typeof $options$$.sync!=="undefined"&&($sync$$=$options$$.sync==true);if($options$$.loadParams)$loadParams$$=$options$$.loadParams}Utils.loadData({name:"phoneloc.json",
object:PhoneLocale,nonlocale:true,sync:$sync$$,loadParams:$loadParams$$,callback:ilib.bind(this,function($data$$){this.mappings=$data$$;typeof $mcc$$!=="undefined"&&($region$$=this.mappings.mcc2reg[$mcc$$]);typeof $cc$$!=="undefined"&&($region$$=this.mappings.cc2reg[$cc$$]);$region$$||($region$$="XX");this.region=this._normPhoneReg($region$$);this._genSpec();if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})})};PhoneLocale.prototype=new Locale;
PhoneLocale.prototype.parent=Locale;PhoneLocale.prototype.constructor=PhoneLocale;PhoneLocale.prototype._mapMCCtoRegion=function $PhoneLocale$$_mapMCCtoRegion$($mcc$$){return!$mcc$$?void 0:this.mappings.mcc2reg&&this.mappings.mcc2reg[$mcc$$]||"XX"};PhoneLocale.prototype._mapCCtoRegion=function $PhoneLocale$$_mapCCtoRegion$($cc$$){return!$cc$$?void 0:this.mappings.cc2reg&&this.mappings.cc2reg[$cc$$]||"XX"};
PhoneLocale.prototype._mapRegiontoCC=function $PhoneLocale$$_mapRegiontoCC$($region$$){return!$region$$?void 0:this.mappings.reg2cc&&this.mappings.reg2cc[$region$$]||"0"};PhoneLocale.prototype._mapAreatoRegion=function $PhoneLocale$$_mapAreatoRegion$($cc$$,$area$$){return!$cc$$?void 0:$cc$$ in this.mappings.area2reg?this.mappings.area2reg[$cc$$][$area$$]||this.mappings.area2reg[$cc$$]["default"]:this.mappings.cc2reg[$cc$$]};
PhoneLocale.prototype._normPhoneReg=function $PhoneLocale$$_normPhoneReg$($norm$$1_region$$){switch($norm$$1_region$$){case "US":case "CA":case "AG":case "BS":case "BB":case "DM":case "DO":case "GD":case "JM":case "KN":case "LC":case "VC":case "TT":case "AI":case "BM":case "VG":case "KY":case "MS":case "TC":case "AS":case "VI":case "PR":case "MP":case "T:":case "GU":$norm$$1_region$$="US";break;case "IT":case "SM":case "VA":$norm$$1_region$$="IT";break;case "FR":case "GF":case "MQ":case "GP":case "BL":case "MF":case "RE":$norm$$1_region$$=
"FR";break}return $norm$$1_region$$};var PhoneHandler=function $PhoneHandler$(){return this};
PhoneHandler.prototype={processSubscriberNumber:function $PhoneHandler$$processSubscriberNumber$($number$$,$fields$$,$regionSettings$$){var $last$$;$last$$=$number$$.search(/[xwtp,;]/i);if($last$$>-1){if($last$$>0)$fields$$.subscriberNumber=$number$$.substring(0,$last$$);$fields$$.extension=$number$$.substring($last$$).replace("x","")}else if($number$$.length)$fields$$.subscriberNumber=$number$$;if($regionSettings$$.plan.getFieldLength("maxLocalLength")&&$fields$$.subscriberNumber&&$fields$$.subscriberNumber.length>
$regionSettings$$.plan.getFieldLength("maxLocalLength"))$fields$$.invalid=true},processFieldWithSubscriberNumber:function $PhoneHandler$$processFieldWithSubscriberNumber$($fieldName$$,$end$$7_length$$,$number$$,$currentChar$$,$fields$$,$regionSettings$$){$end$$7_length$$!==void 0&&$end$$7_length$$>0?$regionSettings$$.plan.getTrunkCode()==="0"&&$number$$.charAt(0)==="0"&&($end$$7_length$$=$end$$7_length$$+$regionSettings$$.plan.getTrunkCode().length):$end$$7_length$$=$currentChar$$+1-$end$$7_length$$;
if($fields$$[$fieldName$$]!==void 0)this.processSubscriberNumber($number$$,$fields$$,$regionSettings$$);else{$fields$$[$fieldName$$]=$number$$.substring(0,$end$$7_length$$);$number$$.length>$end$$7_length$$&&this.processSubscriberNumber($number$$.substring($end$$7_length$$),$fields$$,$regionSettings$$)}return{number:""}},processField:function $PhoneHandler$$processField$($fieldName$$,$end$$8_length$$,$number$$,$currentChar$$,$fields$$,$regionSettings$$){var $ret$$={};$end$$8_length$$!==void 0&&$end$$8_length$$>
0?$regionSettings$$.plan.getTrunkCode()==="0"&&$number$$.charAt(0)==="0"&&($end$$8_length$$=$end$$8_length$$+$regionSettings$$.plan.getTrunkCode().length):$end$$8_length$$=$currentChar$$+1-$end$$8_length$$;if($fields$$[$fieldName$$]!==void 0){this.processSubscriberNumber($number$$,$fields$$,$regionSettings$$);$ret$$.number=""}else{$fields$$[$fieldName$$]=$number$$.substring(0,$end$$8_length$$);$ret$$.number=$number$$.length>$end$$8_length$$?$number$$.substring($end$$8_length$$):""}return $ret$$},
trunk:function $PhoneHandler$$trunk$($number$$,$currentChar$$,$fields$$,$regionSettings$$){if($fields$$.trunkAccess!==void 0){this.processSubscriberNumber($number$$,$fields$$,$regionSettings$$);$number$$=""}else{$currentChar$$=$regionSettings$$.plan.getTrunkCode().length;$fields$$.trunkAccess=$number$$.substring(0,$currentChar$$);$number$$=$number$$.length>$currentChar$$?$number$$.substring($currentChar$$):""}return{number:$number$$}},plus:function $PhoneHandler$$plus$($number$$,$currentChar$$3_ret$$,
$fields$$,$regionSettings$$){$currentChar$$3_ret$$={};if($fields$$.iddPrefix!==void 0){this.processSubscriberNumber($number$$,$fields$$,$regionSettings$$);$currentChar$$3_ret$$.number=""}else{$fields$$.iddPrefix=$number$$.substring(0,1);$currentChar$$3_ret$$={number:$number$$.substring(1),table:"idd"}}return $currentChar$$3_ret$$},idd:function $PhoneHandler$$idd$($number$$,$currentChar$$,$fields$$,$regionSettings$$){var $ret$$={};if($fields$$.iddPrefix!==void 0){this.processSubscriberNumber($number$$,
$fields$$,$regionSettings$$);$ret$$.number=""}else{$fields$$.iddPrefix=$number$$.substring(0,$currentChar$$+1);$ret$$={number:$number$$.substring($currentChar$$+1),table:"idd"}}return $ret$$},country:function $PhoneHandler$$country$($number$$,$currentChar$$,$cc$$3_fields$$){$cc$$3_fields$$.countryCode=$number$$.substring(0,$currentChar$$+1);$cc$$3_fields$$=$cc$$3_fields$$.countryCode.replace(/[wWpPtT\+#\*]/g,"");return{number:$number$$.substring($currentChar$$+1),countryCode:$cc$$3_fields$$}},cic:function $PhoneHandler$$cic$($number$$,
$currentChar$$,$fields$$,$regionSettings$$){return this.processField("cic",$regionSettings$$.plan.getFieldLength("cic"),$number$$,$currentChar$$,$fields$$,$regionSettings$$)},service:function $PhoneHandler$$service$($number$$,$currentChar$$,$fields$$,$regionSettings$$){return this.processFieldWithSubscriberNumber("serviceCode",$regionSettings$$.plan.getFieldLength("serviceCode"),$number$$,$currentChar$$,$fields$$,$regionSettings$$,false)},area:function $PhoneHandler$$area$($dash$$1_number$$,$currentChar$$8_end$$,
$fields$$,$regionSettings$$){var $last$$;$last$$=$dash$$1_number$$.search(/[xwtp]/i);$last$$=$last$$>-1?$last$$:$dash$$1_number$$.length;if($regionSettings$$.plan.getFieldLength("areaCode")>0){$currentChar$$8_end$$=$regionSettings$$.plan.getFieldLength("areaCode");if($regionSettings$$.plan.getTrunkCode()===$dash$$1_number$$.charAt(0)){$currentChar$$8_end$$=$currentChar$$8_end$$+$regionSettings$$.plan.getTrunkCode().length;$last$$=$last$$-$regionSettings$$.plan.getTrunkCode().length}}else $currentChar$$8_end$$=
$currentChar$$8_end$$+1-$regionSettings$$.plan.getFieldLength("areaCode");if($regionSettings$$.plan.getFieldLength("maxLocalLength")!==void 0)if($fields$$.trunkAccess!==void 0||$fields$$.mobilePrefix!==void 0||$fields$$.countryCode!==void 0||$last$$>$regionSettings$$.plan.getFieldLength("maxLocalLength")){$fields$$.areaCode=$dash$$1_number$$.substring(0,$currentChar$$8_end$$);$dash$$1_number$$.length>$currentChar$$8_end$$&&this.processSubscriberNumber($dash$$1_number$$.substring($currentChar$$8_end$$),
$fields$$,$regionSettings$$)}else this.processSubscriberNumber($dash$$1_number$$,$fields$$,$regionSettings$$);else{$fields$$.areaCode=$dash$$1_number$$.substring(0,$currentChar$$8_end$$);$dash$$1_number$$.length>$currentChar$$8_end$$&&this.processSubscriberNumber($dash$$1_number$$.substring($currentChar$$8_end$$),$fields$$,$regionSettings$$)}if($regionSettings$$.plan.getFindExtensions()!==void 0&&$fields$$.subscriberNumber!==void 0){$dash$$1_number$$=$fields$$.subscriberNumber.indexOf("-");if($dash$$1_number$$>
-1){$fields$$.subscriberNumber=$fields$$.subscriberNumber.substring(0,$dash$$1_number$$);$fields$$.extension=$fields$$.subscriberNumber.substring($dash$$1_number$$+1)}}return{number:""}},none:function $PhoneHandler$$none$($number$$,$currentChar$$,$fields$$,$regionSettings$$){if($number$$.length>0){this.processSubscriberNumber($number$$,$fields$$,$regionSettings$$);if($currentChar$$>0&&$currentChar$$<$number$$.length)$fields$$.invalid=true}return{number:""}},vsc:function $PhoneHandler$$vsc$($number$$,
$currentChar$$10_end$$,$fields$$,$length$$24_regionSettings$$){if($fields$$.vsc===void 0){$length$$24_regionSettings$$=$length$$24_regionSettings$$.plan.getFieldLength("vsc")||0;$currentChar$$10_end$$=$length$$24_regionSettings$$!==void 0&&$length$$24_regionSettings$$>0?$length$$24_regionSettings$$:$currentChar$$10_end$$+1-$length$$24_regionSettings$$;$fields$$.vsc=$number$$.substring(0,$currentChar$$10_end$$);$number$$=$number$$.length>$currentChar$$10_end$$?"^"+$number$$.substring($currentChar$$10_end$$):
""}else{this.processSubscriberNumber($number$$,$fields$$,$length$$24_regionSettings$$);$number$$=""}return{number:$number$$}},cell:function $PhoneHandler$$cell$($number$$,$currentChar$$,$fields$$,$regionSettings$$){return this.processFieldWithSubscriberNumber("mobilePrefix",$regionSettings$$.plan.getFieldLength("mobilePrefix"),$number$$,$currentChar$$,$fields$$,$regionSettings$$,false)},personal:function $PhoneHandler$$personal$($number$$,$currentChar$$,$fields$$,$regionSettings$$){return this.processFieldWithSubscriberNumber("serviceCode",
$regionSettings$$.plan.getFieldLength("personal"),$number$$,$currentChar$$,$fields$$,$regionSettings$$,false)},emergency:function $PhoneHandler$$emergency$($number$$,$currentChar$$,$fields$$,$regionSettings$$){return this.processFieldWithSubscriberNumber("emergency",$regionSettings$$.plan.getFieldLength("emergency"),$number$$,$currentChar$$,$fields$$,$regionSettings$$,true)},premium:function $PhoneHandler$$premium$($number$$,$currentChar$$,$fields$$,$regionSettings$$){return this.processFieldWithSubscriberNumber("serviceCode",
$regionSettings$$.plan.getFieldLength("premium"),$number$$,$currentChar$$,$fields$$,$regionSettings$$,false)},special:function $PhoneHandler$$special$($number$$,$currentChar$$,$fields$$,$regionSettings$$){return this.processFieldWithSubscriberNumber("serviceCode",$regionSettings$$.plan.getFieldLength("special"),$number$$,$currentChar$$,$fields$$,$regionSettings$$,false)},service2:function $PhoneHandler$$service2$($number$$,$currentChar$$,$fields$$,$regionSettings$$){return this.processFieldWithSubscriberNumber("serviceCode",
$regionSettings$$.plan.getFieldLength("service2"),$number$$,$currentChar$$,$fields$$,$regionSettings$$,false)},service3:function $PhoneHandler$$service3$($number$$,$currentChar$$,$fields$$,$regionSettings$$){return this.processFieldWithSubscriberNumber("serviceCode",$regionSettings$$.plan.getFieldLength("service3"),$number$$,$currentChar$$,$fields$$,$regionSettings$$,false)},service4:function $PhoneHandler$$service4$($number$$,$currentChar$$,$fields$$,$regionSettings$$){return this.processFieldWithSubscriberNumber("serviceCode",
$regionSettings$$.plan.getFieldLength("service4"),$number$$,$currentChar$$,$fields$$,$regionSettings$$,false)},cic2:function $PhoneHandler$$cic2$($number$$,$currentChar$$,$fields$$,$regionSettings$$){return this.processField("cic",$regionSettings$$.plan.getFieldLength("cic2"),$number$$,$currentChar$$,$fields$$,$regionSettings$$)},cic3:function $PhoneHandler$$cic3$($number$$,$currentChar$$,$fields$$,$regionSettings$$){return this.processField("cic",$regionSettings$$.plan.getFieldLength("cic3"),$number$$,
$currentChar$$,$fields$$,$regionSettings$$)},start:function $PhoneHandler$$start$($number$$){return{number:$number$$}},local:function $PhoneHandler$$local$($number$$,$currentChar$$,$fields$$,$regionSettings$$){this.processSubscriberNumber($number$$,$fields$$,$regionSettings$$);return{number:""}}};var CSStateHandler=function $CSStateHandler$(){return this};CSStateHandler.prototype=new PhoneHandler;
CSStateHandler.prototype.special=function $CSStateHandler$$special$($number$$,$currentChar$$,$fields$$,$regionSettings$$){if($number$$.charAt(0)==="0"){$fields$$.trunkAccess=$number$$.charAt(0);$fields$$.areaCode=$number$$.substring(1,$currentChar$$)}else $fields$$.areaCode=$number$$.substring(0,$currentChar$$);this.processSubscriberNumber($number$$.substring($currentChar$$),$fields$$,$regionSettings$$);return{number:""}};var USStateHandler=function $USStateHandler$(){return this};
USStateHandler.prototype=new PhoneHandler;USStateHandler.prototype.vsc=function $USStateHandler$$vsc$($number$$,$currentChar$$,$fields$$){$fields$$.vsc=$number$$;return{number:""}};
var PhoneHandlerFactory=function $PhoneHandlerFactory$($locale$$,$plan$$){if($plan$$.getContextFree()!==void 0&&typeof $plan$$.getContextFree()==="boolean"&&$plan$$.getContextFree()===false)return new CSStateHandler;switch($locale$$&&$locale$$.getRegion()||"ZZ"){case "US":return new USStateHandler;default:return new PhoneHandler}},PhoneNumber=function $PhoneNumber$($number$$,$options$$){var $stateData$$,$regionSettings$$;this.sync=true;this.loadParams={};if(!$number$$||typeof $number$$==="string"&&
$number$$.length===0)return this;if($options$$){if(typeof $options$$.sync==="boolean")this.sync=$options$$.sync;if($options$$.loadParams)this.loadParams=$options$$.loadParams;if(typeof $options$$.onLoad==="function")this.onLoad=$options$$.onLoad}if(typeof $number$$==="object"){this.vsc=$number$$.vsc;this.iddPrefix=$number$$.iddPrefix;this.countryCode=$number$$.countryCode;this.trunkAccess=$number$$.trunkAccess;this.cic=$number$$.cic;this.emergency=$number$$.emergency;this.mobilePrefix=$number$$.mobilePrefix;
this.serviceCode=$number$$.serviceCode;this.areaCode=$number$$.areaCode;this.subscriberNumber=$number$$.subscriberNumber;this.extension=$number$$.extension;this.invalid=$number$$.invalid;if($number$$.plan&&$number$$.locale){this.plan=$number$$.plan;this.locale=$number$$.locale;this.destinationPlan=$number$$.destinationPlan;this.destinationLocale=$number$$.destinationLocale;if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this);return}}new PhoneLocale({locale:$options$$&&$options$$.locale,
mcc:$options$$&&$options$$.mcc,sync:this.sync,loadParams:this.loadParams,onLoad:ilib.bind(this,function($loc$$){this.locale=this.destinationLocale=$loc$$;new NumberingPlan({locale:this.locale,sync:this.sync,loadParms:this.loadParams,onLoad:ilib.bind(this,function($plan$$){this.plan=this.destinationPlan=$plan$$;typeof $number$$!=="object"&&Utils.loadData({name:"states.json",object:PhoneNumber,locale:this.locale,sync:this.sync,loadParams:JSUtils.merge(this.loadParams,{returnOne:true}),callback:ilib.bind(this,
function($stdata$$){if(!$stdata$$)$stdata$$=PhoneNumber._defaultStates;$stateData$$=$stdata$$;$regionSettings$$={stateData:$stateData$$,plan:$plan$$,handler:PhoneHandlerFactory(this.locale,$plan$$)};$number$$="^"+$number$$.replace(/\^/g,"");$number$$=PhoneNumber._stripFormatting($number$$);this._parseNumber($number$$,$regionSettings$$,$options$$)})})})})})})};
PhoneNumber.parseImsi=function $PhoneNumber$parseImsi$($imsi$$,$options$$){var $sync$$=true,$loadParams$$={},$fields$$={};if($imsi$$){if($options$$){typeof $options$$.sync!=="undefined"&&($sync$$=$options$$.sync==true);if($options$$.loadParams)$loadParams$$=$options$$.loadParams}if(ilib.data.mnc){$fields$$=PhoneNumber._parseImsi(ilib.data.mnc,$imsi$$);if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad($fields$$)}else Utils.loadData({name:"mnc.json",object:PhoneNumber,nonlocale:true,
sync:$sync$$,loadParams:$loadParams$$,callback:ilib.bind(this,function($data$$){ilib.data.mnc=$data$$;$fields$$=PhoneNumber._parseImsi($data$$,$imsi$$);if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad($fields$$)})});return $fields$$}};
PhoneNumber._parseImsi=function $PhoneNumber$_parseImsi$($data$$,$imsi$$){var $ch$$,$end$$11_i$$,$currentState$$,$handlerMethod_lastLeaf$$,$fields$$={},$consumed$$=0;if($currentState$$=$data$$){for($end$$11_i$$=0;$end$$11_i$$<$imsi$$.length;){$ch$$=PhoneNumber._getCharacterCode($imsi$$.charAt($end$$11_i$$));if($ch$$>=0){$ch$$=$currentState$$.s&&$currentState$$.s[$ch$$];if(typeof $ch$$==="object"){if(typeof $ch$$.l!=="undefined"){$handlerMethod_lastLeaf$$=$ch$$;$consumed$$=$end$$11_i$$}$currentState$$=
$ch$$;$end$$11_i$$++}else{if((typeof $ch$$==="undefined"||$ch$$===0||typeof $ch$$==="object"&&typeof $ch$$.l==="undefined")&&$handlerMethod_lastLeaf$$){$ch$$=$handlerMethod_lastLeaf$$;$end$$11_i$$=$consumed$$}if(typeof $ch$$==="number"&&$ch$$||typeof $ch$$==="object"&&typeof $ch$$.l!=="undefined"){$handlerMethod_lastLeaf$$=PhoneNumber._states[typeof $ch$$==="number"?$ch$$:$ch$$.l];$end$$11_i$$=$handlerMethod_lastLeaf$$==="area"?$end$$11_i$$+1:6;$fields$$.mcc=$imsi$$.substring(0,3);$fields$$.mnc=$imsi$$.substring(3,
$end$$11_i$$);$fields$$.msin=$imsi$$.substring($end$$11_i$$)}else if($imsi$$.length>=6){$fields$$.mcc=$imsi$$.substring(0,3);$fields$$.mnc=$imsi$$.substring(3,6);$fields$$.msin=$imsi$$.substring(6)}return $fields$$}}else $end$$11_i$$++}if($end$$11_i$$>=$imsi$$.length&&$imsi$$.length>=6){$fields$$.mcc=$imsi$$.substring(0,3);$fields$$.mnc=$imsi$$.substring(3,6);$fields$$.msin=$imsi$$.substring(6)}else $fields$$=void 0;return $fields$$}};
PhoneNumber._stripFormatting=function $PhoneNumber$_stripFormatting$($str$$){var $ret$$="",$i$$;for($i$$=0;$i$$<$str$$.length;$i$$++)PhoneNumber._getCharacterCode($str$$.charAt($i$$))>=-1&&($ret$$=$ret$$+$str$$.charAt($i$$));return $ret$$};
PhoneNumber._getCharacterCode=function $PhoneNumber$_getCharacterCode$($ch$$){if($ch$$>="0"&&$ch$$<="9")return $ch$$-0;switch($ch$$){case "+":return 10;case "*":return 11;case "#":return 12;case "^":return 13;case "p":case "P":case "t":case "T":case "w":case "W":return-1;case "x":case "X":case ",":case ";":return-1}return-2};PhoneNumber._states="none unknown plus idd cic service cell area vsc country personal special trunk premium emergency service2 service3 service4 cic2 cic3 start local".split(" ");
PhoneNumber._fieldOrder="vsc iddPrefix countryCode trunkAccess cic emergency mobilePrefix serviceCode areaCode subscriberNumber extension".split(" ");PhoneNumber._defaultStates={s:[0,21,21,21,21,21,21,21,21,21,0,0,0,{s:[{s:[3],l:12},21,21,21,21,21,21,21,21,21,2]}]};
PhoneNumber.prototype={_parseOtherCountry:function $PhoneNumber$$_parseOtherCountry$($number$$,$regionData$$,$options$$,$countryCode$$){new PhoneLocale({locale:this.locale,countryCode:$countryCode$$,sync:this.sync,loadParms:this.loadParams,onLoad:ilib.bind(this,function($loc$$){this.destinationLocale=$loc$$;Utils.loadData({name:"states.json",object:PhoneNumber,locale:this.destinationLocale,sync:this.sync,loadParams:JSUtils.merge(this.loadParams,{returnOne:true}),callback:ilib.bind(this,function($stateData$$){if(!$stateData$$)$stateData$$=
PhoneNumber._defaultStates;new NumberingPlan({locale:this.destinationLocale,sync:this.sync,loadParms:this.loadParams,onLoad:ilib.bind(this,function($plan$$){this.destinationPlan=$plan$$;var $regionSettings$$={stateData:$stateData$$,plan:$plan$$,handler:PhoneHandlerFactory(this.destinationLocale,$plan$$)};$plan$$.getSkipTrunk()||($number$$="^"+$number$$);this._parseNumber($number$$,$regionSettings$$,$options$$)})})})})})})},_parseNumber:function $PhoneNumber$$_parseNumber$($number$$,$regionData$$,
$options$$){var $i$$,$ch$$30_newState$$1_result$$,$regionSettings$$,$handlerMethod$$1_lastLeaf$$,$currentState$$=$regionData$$.stateData;$handlerMethod$$1_lastLeaf$$=void 0;var $consumed$$=0;$regionSettings$$=$regionData$$;for($i$$=0;$i$$<$number$$.length;){$ch$$30_newState$$1_result$$=PhoneNumber._getCharacterCode($number$$.charAt($i$$));if($ch$$30_newState$$1_result$$>=0){$ch$$30_newState$$1_result$$=$currentState$$.s&&$currentState$$.s[$ch$$30_newState$$1_result$$];!$ch$$30_newState$$1_result$$&&
($currentState$$.s&&$currentState$$.s[14])&&($ch$$30_newState$$1_result$$=$currentState$$.s[14]);if(typeof $ch$$30_newState$$1_result$$==="object"&&$i$$+1<$number$$.length){if(typeof $ch$$30_newState$$1_result$$.l!=="undefined"){$handlerMethod$$1_lastLeaf$$=$ch$$30_newState$$1_result$$;$consumed$$=$i$$}$currentState$$=$ch$$30_newState$$1_result$$;$i$$++}else{if((typeof $ch$$30_newState$$1_result$$==="undefined"||$ch$$30_newState$$1_result$$===0||typeof $ch$$30_newState$$1_result$$==="object"&&typeof $ch$$30_newState$$1_result$$.l===
"undefined")&&$handlerMethod$$1_lastLeaf$$){$ch$$30_newState$$1_result$$=$handlerMethod$$1_lastLeaf$$;$i$$=$consumed$$;$consumed$$=0;$handlerMethod$$1_lastLeaf$$=void 0}if(typeof $ch$$30_newState$$1_result$$==="number"&&$ch$$30_newState$$1_result$$||typeof $ch$$30_newState$$1_result$$==="object"&&typeof $ch$$30_newState$$1_result$$.l!=="undefined"){$handlerMethod$$1_lastLeaf$$=PhoneNumber._states[typeof $ch$$30_newState$$1_result$$==="number"?$ch$$30_newState$$1_result$$:$ch$$30_newState$$1_result$$.l];
$ch$$30_newState$$1_result$$=$number$$.charAt(0)==="^"?$regionSettings$$.handler[$handlerMethod$$1_lastLeaf$$]($number$$.slice(1),$i$$-1,this,$regionSettings$$):$regionSettings$$.handler[$handlerMethod$$1_lastLeaf$$]($number$$,$i$$,this,$regionSettings$$);$number$$=$ch$$30_newState$$1_result$$.number;$i$$=$consumed$$=0;$handlerMethod$$1_lastLeaf$$=void 0;$currentState$$=$regionSettings$$.stateData;if($ch$$30_newState$$1_result$$.countryCode!==void 0){this._parseOtherCountry($number$$,$regionData$$,
$options$$,$ch$$30_newState$$1_result$$.countryCode);return}if($ch$$30_newState$$1_result$$.table!==void 0){Utils.loadData({name:$ch$$30_newState$$1_result$$.table+".json",object:PhoneNumber,nonlocale:true,sync:this.sync,loadParams:this.loadParams,callback:ilib.bind(this,function($data$$){if(!$data$$)$data$$=PhoneNumber._defaultStates;$regionSettings$$={stateData:$data$$,plan:$regionSettings$$.plan,handler:$regionSettings$$.handler};this._parseNumber($number$$,$regionSettings$$,$options$$)})});return}if($ch$$30_newState$$1_result$$.skipTrunk!==
void 0){$ch$$30_newState$$1_result$$=PhoneNumber._getCharacterCode($regionSettings$$.plan.getTrunkCode());$currentState$$=$currentState$$.s&&$currentState$$.s[$ch$$30_newState$$1_result$$]}}else{$handlerMethod$$1_lastLeaf$$=typeof $ch$$30_newState$$1_result$$==="number"?"none":"local";$ch$$30_newState$$1_result$$=$number$$.charAt(0)==="^"?$regionSettings$$.handler[$handlerMethod$$1_lastLeaf$$]($number$$.slice(1),$i$$-1,this,$regionSettings$$):$regionSettings$$.handler[$handlerMethod$$1_lastLeaf$$]($number$$,
$i$$,this,$regionSettings$$);break}}}else $i$$++}if($i$$>=$number$$.length&&$currentState$$!==$regionData$$.stateData){$handlerMethod$$1_lastLeaf$$=typeof $currentState$$.l==="undefined"||$currentState$$===0?"none":"local";$ch$$30_newState$$1_result$$=$number$$.charAt(0)==="^"?$regionSettings$$.handler[$handlerMethod$$1_lastLeaf$$]($number$$.slice(1),$i$$-1,this,$regionSettings$$):$regionSettings$$.handler[$handlerMethod$$1_lastLeaf$$]($number$$,$i$$,this,$regionSettings$$)}if(this.onLoad)this.onLoad(this)},
_getPrefix:function $PhoneNumber$$_getPrefix$(){return this.areaCode||this.serviceCode||this.mobilePrefix||""},_hasPrefix:function $PhoneNumber$$_hasPrefix$(){return this._getPrefix()!==""},_xor:function $PhoneNumber$$_xor$($left$$,$right$$){return $left$$===void 0&&$right$$===void 0||$left$$!==void 0&&$right$$!==void 0?false:true},_join:function $PhoneNumber$$_join$(){var $fieldName$$,$formatted$$="";try{for(var $field$$ in PhoneNumber._fieldOrder)if(typeof $field$$==="string"&&typeof PhoneNumber._fieldOrder[$field$$]===
"string"){$fieldName$$=PhoneNumber._fieldOrder[$field$$];this[$fieldName$$]!==void 0&&($formatted$$=$formatted$$+this[$fieldName$$])}}catch($e$$){throw $e$$;}return $formatted$$},compare:function $PhoneNumber$$compare$($other$$){var $match$$=100,$FRdepartments_thisPrefix$$={590:1,594:1,596:1,262:1},$ITcountries$$={378:1,379:1},$currentCountryCode$$=0;typeof this.locale.region==="string"&&($currentCountryCode$$=this.locale._mapRegiontoCC(this.locale.region));if(!this.subscriberNumber||!$other$$.subscriberNumber||
this.subscriberNumber!==$other$$.subscriberNumber||this._xor(this.extension,$other$$.extension)||this.extension!==$other$$.extension)return 0;if(this._xor(this.countryCode,$other$$.countryCode))switch(this.locale.getRegion()){case "FR":if(this.countryCode in $FRdepartments_thisPrefix$$||$other$$.countryCode in $FRdepartments_thisPrefix$$){if(this.areaCode!==$other$$.areaCode||this.mobilePrefix!==$other$$.mobilePrefix)$match$$=$match$$-100}else $match$$=$match$$-16;break;case "IT":this.countryCode in
$ITcountries$$||$other$$.countryCode in $ITcountries$$?this.areaCode!==$other$$.areaCode&&($match$$=$match$$-100):$match$$=$match$$-16;break;default:$match$$=$match$$-16;if(this.countryCode!==void 0&&this.countryCode!==$currentCountryCode$$||$other$$.countryCode!==void 0&&$other$$.countryCode!==$currentCountryCode$$)$match$$=$match$$-16}else if(this.countryCode!==$other$$.countryCode)if($other$$.countryCode==="33"||this.countryCode==="33")if(this.countryCode in $FRdepartments_thisPrefix$$||$other$$.countryCode in
$FRdepartments_thisPrefix$$){if(this.areaCode!==$other$$.areaCode||this.mobilePrefix!==$other$$.mobilePrefix)$match$$=$match$$-100}else $match$$=$match$$-100;else this.countryCode==="39"||$other$$.countryCode==="39"?this.countryCode in $ITcountries$$||$other$$.countryCode in $ITcountries$$?this.areaCode!==$other$$.areaCode&&($match$$=$match$$-100):$match$$=$match$$-100:$match$$=$match$$-100;this._xor(this.serviceCode,$other$$.serviceCode)?$match$$=$match$$-20:this.serviceCode!==$other$$.serviceCode&&
($match$$=$match$$-100);this._xor(this.mobilePrefix,$other$$.mobilePrefix)?$match$$=$match$$-20:this.mobilePrefix!==$other$$.mobilePrefix&&($match$$=$match$$-100);this._xor(this.areaCode,$other$$.areaCode)?$match$$=$match$$-12:this.areaCode!==$other$$.areaCode&&($match$$=$match$$-100);$FRdepartments_thisPrefix$$=this._getPrefix();$other$$=$other$$._getPrefix();$FRdepartments_thisPrefix$$&&($other$$&&$FRdepartments_thisPrefix$$!==$other$$)&&($match$$=$match$$-100);$match$$<0?$match$$=0:$match$$>100&&
($match$$=100);return $match$$},equals:function equals($other$$){if($other$$.locale&&this.locale&&!this.locale.equals($other$$.locale)&&(!this.countryCode||!$other$$.countryCode))return false;for(var $p$$ in $other$$)if($p$$!==void 0&&(this[$p$$]!==void 0&&typeof this[$p$$]!=="object")&&($other$$[$p$$]===void 0||this[$p$$]!==$other$$[$p$$]))return false;for($p$$ in $other$$)if($p$$!==void 0&&($other$$[$p$$]!==void 0&&typeof $other$$[$p$$]!=="object")&&(this[$p$$]===void 0||this[$p$$]!==$other$$[$p$$]))return false;
return true},_doNormalize:function $PhoneNumber$$_doNormalize$($options$$,$norm$$,$homeLocale$$,$currentLocale$$,$currentPlan$$,$destinationLocale$$,$destinationPlan$$){var $formatted$$="";if(!$norm$$.invalid&&$options$$&&$options$$.assistedDialing){if($norm$$.subscriberNumber&&(!$options$$.manualDialing||$norm$$.iddPrefix||$norm$$.countryCode||$norm$$.trunkAccess))if($currentLocale$$.getRegion()!==$destinationLocale$$.getRegion()){if(!$norm$$._hasPrefix()&&$options$$.defaultAreaCode&&$destinationLocale$$.getRegion()===
$homeLocale$$.getRegion()&&(!$destinationPlan$$.getFieldLength("minLocalLength")||$norm$$.subscriberNumber.length>=$destinationPlan$$.getFieldLength("minLocalLength"))){$norm$$.areaCode=$options$$.defaultAreaCode;if(!$destinationPlan$$.getSkipTrunk()&&$destinationPlan$$.getTrunkCode())$norm$$.trunkAccess=$destinationPlan$$.getTrunkCode()}$norm$$.trunkAccess&&$destinationPlan$$.getSkipTrunk()&&delete $norm$$.trunkAccess;if($options$$.sms)if($homeLocale$$.getRegion()==="US"&&$currentLocale$$.getRegion()!==
"US")if($destinationLocale$$.getRegion()!=="US"){$norm$$.iddPrefix="011";$norm$$.countryCode=$norm$$.countryCode||$homeLocale$$._mapRegiontoCC($destinationLocale$$.getRegion())}else if($options$$.networkType==="cdma"){delete $norm$$.iddPrefix;delete $norm$$.countryCode;if($norm$$.areaCode)$norm$$.trunkAccess="1"}else{if($norm$$.areaCode){$norm$$.iddPrefix="+";$norm$$.countryCode="1";delete $norm$$.trunkAccess}}else{$norm$$.iddPrefix=$options$$.networkType==="cdma"?$currentPlan$$.getIDDCode():"+";
$norm$$.countryCode=$norm$$.countryCode||$homeLocale$$._mapRegiontoCC($destinationLocale$$.region)}else $norm$$._hasPrefix()&&!$norm$$.countryCode&&($norm$$.countryCode=$homeLocale$$._mapRegiontoCC($destinationLocale$$.region));if($norm$$.countryCode&&!$options$$.sms)$norm$$.iddPrefix=$options$$.networkType==="cdma"?$currentPlan$$.getIDDCode():"+"}else{if($options$$.defaultAreaCode)if($destinationPlan$$.getPlanStyle()==="open"){if(!$norm$$.trunkAccess&&$norm$$._hasPrefix()&&$destinationPlan$$.getTrunkCode())$norm$$.trunkAccess=
$destinationPlan$$.getTrunkCode()}else if($norm$$._hasPrefix()){if($destinationPlan$$.getTrunkRequired()&&$destinationPlan$$.getTrunkCode())$norm$$.trunkAccess=$norm$$.trunkAccess||$destinationPlan$$.getTrunkCode()}else if($destinationLocale$$.getRegion()===$homeLocale$$.getRegion()){$norm$$.areaCode=$options$$.defaultAreaCode;if($destinationPlan$$.getTrunkRequired()&&$destinationPlan$$.getTrunkCode())$norm$$.trunkAccess=$norm$$.trunkAccess||$destinationPlan$$.getTrunkCode()}if($options$$.sms&&$homeLocale$$.getRegion()===
"US"&&$currentLocale$$.getRegion()!=="US"){$norm$$.iddPrefix="011";$destinationPlan$$.getSkipTrunk()&&$norm$$.trunkAccess&&delete $norm$$.trunkAccess}else if($norm$$.iddPrefix||$norm$$.countryCode){delete $norm$$.iddPrefix;delete $norm$$.countryCode;if(($destinationPlan$$.getPlanStyle()==="open"||$destinationPlan$$.getTrunkRequired())&&$destinationPlan$$.getTrunkCode())$norm$$.trunkAccess=$destinationPlan$$.getTrunkCode()}}}else if(!$norm$$.invalid){if(!$norm$$._hasPrefix()&&$options$$&&$options$$.defaultAreaCode&&
$destinationLocale$$.getRegion()===$homeLocale$$.region)$norm$$.areaCode=$options$$.defaultAreaCode;!$norm$$.countryCode&&$norm$$._hasPrefix()&&($norm$$.countryCode=$homeLocale$$._mapRegiontoCC($destinationLocale$$.getRegion()));if($norm$$.countryCode){$norm$$.iddPrefix=$options$$&&$options$$.networkType&&$options$$.networkType==="cdma"?$currentPlan$$.getIDDCode():"+";if($destinationPlan$$.getSkipTrunk()&&$norm$$.trunkAccess)delete $norm$$.trunkAccess;else if(!$destinationPlan$$.getSkipTrunk()&&!$norm$$.trunkAccess&&
$destinationPlan$$.getTrunkCode())$norm$$.trunkAccess=$destinationPlan$$.getTrunkCode()}}return $formatted$$=$norm$$._join()},_doReparse:function $PhoneNumber$$_doReparse$($options$$,$norm$$,$homeLocale$$,$currentLocale$$,$currentPlan$$,$destinationLocale$$,$destinationPlan$$,$sync$$,$loadParams$$,$callback$$){var $formatted$$,$tempRegion$$;if($options$$&&$options$$.assistedDialing&&!$norm$$.trunkAccess&&!$norm$$.iddPrefix&&$norm$$.subscriberNumber&&$norm$$.subscriberNumber.length>$destinationPlan$$.getFieldLength("maxLocalLength"))new PhoneNumber("+"+
this._join(),{locale:this.locale,sync:$sync$$,loadParms:$loadParams$$,onLoad:ilib.bind(this,function($data$$){if(($tempRegion$$=$data$$.countryCode&&$data$$.locale._mapCCtoRegion($data$$.countryCode))&&$tempRegion$$!=="unknown"&&$tempRegion$$!=="SG"){$norm$$=$data$$;$destinationLocale$$=$data$$.destinationLocale;$destinationPlan$$=$data$$.destinationPlan}$formatted$$=this._doNormalize($options$$,$norm$$,$homeLocale$$,$currentLocale$$,$currentPlan$$,$destinationLocale$$,$destinationPlan$$,$sync$$,
$loadParams$$);typeof $callback$$==="function"&&$callback$$($formatted$$)})});else if($options$$&&$options$$.assistedDialing&&$norm$$.invalid&&$currentLocale$$.region!==$norm$$.locale.region)new PhoneNumber(this._join(),{locale:$currentLocale$$,sync:$sync$$,loadParms:$loadParams$$,onLoad:ilib.bind(this,function($data$$){$data$$&&!$data$$.invalid&&($norm$$=$data$$);$formatted$$=this._doNormalize($options$$,$norm$$,$homeLocale$$,$currentLocale$$,$currentPlan$$,$destinationLocale$$,$destinationPlan$$,
$sync$$,$loadParams$$);typeof $callback$$==="function"&&$callback$$($formatted$$)})});else{$formatted$$=this._doNormalize($options$$,$norm$$,$homeLocale$$,$currentLocale$$,$currentPlan$$,$destinationLocale$$,$destinationPlan$$,$sync$$,$loadParams$$);typeof $callback$$==="function"&&$callback$$($formatted$$)}},normalize:function $PhoneNumber$$normalize$($options$$){var $norm$$,$sync$$=true,$loadParams$$={};if($options$$){typeof $options$$.sync!=="undefined"&&($sync$$=$options$$.sync==true);if($options$$.loadParams)$loadParams$$=
$options$$.loadParams}$norm$$=new PhoneNumber(this);var $normalized$$;$options$$&&(typeof $options$$.mcc!=="undefined"||typeof $options$$.country!=="undefined")?new PhoneLocale({mcc:$options$$.mcc,countryCode:$options$$.countryCode,locale:this.locale,sync:$sync$$,loadParams:$loadParams$$,onLoad:ilib.bind(this,function($loc$$){new NumberingPlan({locale:$loc$$,sync:$sync$$,loadParms:$loadParams$$,onLoad:ilib.bind(this,function($plan$$){this._doReparse($options$$,$norm$$,this.locale,$loc$$,$plan$$,this.destinationLocale,
this.destinationPlan,$sync$$,$loadParams$$,function($fmt$$){$normalized$$=$fmt$$;if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad($fmt$$)})})})})}):this._doReparse($options$$,$norm$$,this.locale,this.locale,this.plan,this.destinationLocale,this.destinationPlan,$sync$$,$loadParams$$,function($fmt$$){$normalized$$=$fmt$$;if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad($fmt$$)});return $normalized$$}};
var PhoneFmt=function $PhoneFmt$($options$$){this.sync=true;this.styleName="default";this.loadParams={};var $locale$$=new Locale;if($options$$){if($options$$.locale)$locale$$=$options$$.locale;if(typeof $options$$.sync!=="undefined")this.sync=$options$$.sync==true;if($options$$.loadParams)this.loadParams=$options$$.loadParams;if($options$$.style)this.style=$options$$.style}new PhoneLocale({locale:$locale$$,mcc:$options$$&&$options$$.mcc,countryCode:$options$$&&$options$$.countryCode,onLoad:ilib.bind(this,
function($data$$){this.locale=$data$$;new NumberingPlan({locale:this.locale,sync:this.sync,loadParms:this.loadParams,onLoad:ilib.bind(this,function($plan$$){this.plan=$plan$$;Utils.loadData({name:"phonefmt.json",object:PhoneFmt,locale:this.locale,sync:this.sync,loadParams:JSUtils.merge(this.loadParams,{returnOne:true}),callback:ilib.bind(this,function($fmtdata$$){this.fmtdata=$fmtdata$$;if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})})})})})})};
PhoneFmt.prototype={_substituteDigits:function $PhoneFmt$$_substituteDigits$($part$$,$formatString$$1_formats$$2_templates$$,$mustUseAll$$){var $formatted$$="",$partIndex$$=0,$i$$;if(!$part$$)return $formatted$$;if(typeof $formatString$$1_formats$$2_templates$$==="object"){$formatString$$1_formats$$2_templates$$=typeof $formatString$$1_formats$$2_templates$$.template!=="undefined"?$formatString$$1_formats$$2_templates$$.template:$formatString$$1_formats$$2_templates$$;if($part$$.length>$formatString$$1_formats$$2_templates$$.length)throw"part "+
$part$$+" is too big. We do not have a format template to format it.";$formatString$$1_formats$$2_templates$$=$formatString$$1_formats$$2_templates$$[$part$$.length-1]}for($i$$=0;$i$$<$formatString$$1_formats$$2_templates$$.length;$i$$++)if($formatString$$1_formats$$2_templates$$.charAt($i$$)==="X"){$formatted$$=$formatted$$+$part$$.charAt($partIndex$$);$partIndex$$++}else $formatted$$=$formatted$$+$formatString$$1_formats$$2_templates$$.charAt($i$$);if($mustUseAll$$&&$partIndex$$<$part$$.length-
1)throw"too many digits in "+$part$$+" for format "+$formatString$$1_formats$$2_templates$$;return $formatted$$},_getStyle:function $PhoneFmt$$_getStyle$($name$$,$fmtdata$$){return $fmtdata$$[$name$$]||$fmtdata$$["default"]},_doFormat:function $PhoneFmt$$_doFormat$($number$$,$options$$,$fieldName$$,$isWhole_locale$$15_temp$$7_templates$$,$fmtdata$$0$$,$callback$$){var $sync$$=true,$loadParams$$={},$countryCode$$,$style$$,$formatted$$="";if($options$$){typeof $options$$.sync!=="undefined"&&($sync$$=
$options$$.sync==true);if($options$$.loadParams)$loadParams$$=$options$$.loadParams}$style$$=this.style;$number$$.countryCode?$style$$=$number$$.mobilePrefix?"internationalmobile":"international":$number$$.mobilePrefix!==void 0?$style$$="mobile":$number$$.serviceCode!==void 0&&typeof $fmtdata$$0$$.service!=="undefined"&&($style$$="service");for(var $isWhole_locale$$15_temp$$7_templates$$=!$options$$||!$options$$.partial,$fmtdata$$0$$=this._getStyle($style$$,$fmtdata$$0$$),$fmtdata$$0$$=($isWhole_locale$$15_temp$$7_templates$$?
$fmtdata$$0$$.whole:$fmtdata$$0$$.partial)||$fmtdata$$0$$,$i$$=$fieldName$$;$i$$<PhoneNumber._fieldOrder.length;$i$$++){$fieldName$$=PhoneNumber._fieldOrder[$i$$];if($number$$[$fieldName$$]!==void 0)if($fmtdata$$0$$[$fieldName$$]!==void 0){$isWhole_locale$$15_temp$$7_templates$$=$fmtdata$$0$$[$fieldName$$];$fieldName$$==="trunkAccess"&&$number$$.areaCode===void 0&&($number$$.serviceCode===void 0&&$number$$.mobilePrefix===void 0)&&($isWhole_locale$$15_temp$$7_templates$$="X");$countryCode$$&&typeof $fmtdata$$0$$[$countryCode$$].suffix!==
"undefined"&&$fieldName$$!=="extension"&&$number$$[$fieldName$$].search(/[xwtp,;]/i)<=-1&&($formatted$$=$formatted$$+$fmtdata$$0$$[$countryCode$$].suffix);$countryCode$$=$fieldName$$;$isWhole_locale$$15_temp$$7_templates$$=this._substituteDigits($number$$[$fieldName$$],$isWhole_locale$$15_temp$$7_templates$$,$fieldName$$==="subscriberNumber");$formatted$$=$formatted$$+$isWhole_locale$$15_temp$$7_templates$$;if($fieldName$$==="countryCode"){$countryCode$$=$number$$.countryCode.replace(/[wWpPtT\+#\*]/g,
"");new PhoneLocale({locale:this.locale,sync:$sync$$,loadParms:$loadParams$$,countryCode:$countryCode$$,onLoad:ilib.bind(this,function($locale$$){Utils.loadData({name:"phonefmt.json",object:PhoneFmt,locale:$locale$$,sync:$sync$$,loadParams:JSUtils.merge($loadParams$$,{returnOne:true}),callback:ilib.bind(this,function($fmtdata$$){var $subfmt$$="";this._doFormat($number$$,$options$$,$i$$+1,$locale$$,$fmtdata$$,function($subformat$$){$subfmt$$=$subformat$$;typeof $callback$$==="function"&&$callback$$($formatted$$+
$subformat$$)});$formatted$$=$formatted$$+$subfmt$$})})})});return $formatted$$}}else $formatted$$=$formatted$$+$number$$[$fieldName$$]}typeof $callback$$==="function"&&$callback$$($formatted$$);return $formatted$$},format:function $PhoneFmt$$format$($number$$,$options$$){var $formatted$$="",$callback$$;$callback$$=$options$$&&$options$$.onLoad;try{this._doFormat($number$$,$options$$,0,this.locale,this.fmtdata,function($fmt$$){$formatted$$=$fmt$$;typeof $callback$$==="function"&&$callback$$($fmt$$)})}catch($e$$){if(typeof $e$$===
"string"){var $formatted$$="",$field$$;for($field$$ in PhoneNumber._fieldOrder)if(typeof $field$$==="string"&&typeof PhoneNumber._fieldOrder[$field$$]==="string"&&$number$$[PhoneNumber._fieldOrder[$field$$]]!==void 0){$formatted$$=$formatted$$+$number$$[PhoneNumber._fieldOrder[$field$$]];PhoneNumber._fieldOrder[$field$$]==="countryCode"&&($formatted$$=$formatted$$+" ")}}else throw $e$$;typeof $callback$$==="function"&&$callback$$($formatted$$)}return $formatted$$},getAvailableStyles:function $PhoneFmt$$getAvailableStyles$(){var $ret$$=
[],$style$$;if(this.fmtdata)for($style$$ in this.fmtdata)this.fmtdata[$style$$].example&&$ret$$.push($style$$);return $ret$$},getStyleExample:function $PhoneFmt$$getStyleExample$($style$$){return this.fmtdata[$style$$].example||void 0}};
var PhoneGeoLocator=function $PhoneGeoLocator$($options$$){var $sync$$=true,$loadParams$$={},$locale$$=ilib.getLocale();if($options$$){if($options$$.locale)$locale$$=$options$$.locale;if(typeof $options$$.sync==="boolean")$sync$$=$options$$.sync;if($options$$.loadParams)$loadParams$$=$options$$.loadParams}new PhoneLocale({locale:$locale$$,mcc:$options$$&&$options$$.mcc,countryCode:$options$$&&$options$$.countryCode,sync:$sync$$,loadParams:$loadParams$$,onLoad:ilib.bind(this,function($loc$$){this.locale=
$loc$$;new NumberingPlan({locale:this.locale,sync:$sync$$,loadParams:$loadParams$$,onLoad:ilib.bind(this,function($plan$$){this.plan=$plan$$;new ResBundle({locale:this.locale,name:"phoneres",sync:$sync$$,loadParams:$loadParams$$,onLoad:ilib.bind(this,function($rb$$){this.rb=$rb$$;Utils.loadData({name:"iddarea.json",object:PhoneGeoLocator,nonlocale:true,sync:$sync$$,loadParams:$loadParams$$,callback:ilib.bind(this,function($data$$){this.regiondata=$data$$;Utils.loadData({name:"area.json",object:PhoneGeoLocator,
locale:this.locale,sync:$sync$$,loadParams:JSUtils.merge($loadParams$$,{returnOne:true}),callback:ilib.bind(this,function($areadata$$){this.areadata=$areadata$$;if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})})})})})})})})})})};
PhoneGeoLocator.prototype={_parseAreaAndSubscriber:function $PhoneGeoLocator$$_parseAreaAndSubscriber$($number$$,$stateTable$$){var $ch$$31_newState$$,$i$$,$consumed$$2_handlerMethod$$,$lastLeaf$$,$currentState$$;if($number$$&&$stateTable$$){$currentState$$=$stateTable$$;for($i$$=0;$i$$<$number$$.length;){$ch$$31_newState$$=PhoneNumber._getCharacterCode($number$$.charAt($i$$));if($ch$$31_newState$$>=0){$ch$$31_newState$$=$currentState$$.s&&$currentState$$.s[$ch$$31_newState$$];!$ch$$31_newState$$&&
($currentState$$.s&&$currentState$$.s[14])&&($ch$$31_newState$$=$currentState$$.s[14]);if(typeof $ch$$31_newState$$==="object"){if(typeof $ch$$31_newState$$.l!=="undefined"){$lastLeaf$$=$ch$$31_newState$$;$consumed$$2_handlerMethod$$=$i$$}$currentState$$=$ch$$31_newState$$;$i$$++}else{if(typeof $ch$$31_newState$$==="undefined"||$ch$$31_newState$$===0){$ch$$31_newState$$=$lastLeaf$$;$i$$=$consumed$$2_handlerMethod$$}if(typeof $ch$$31_newState$$==="number"&&$ch$$31_newState$$||typeof $ch$$31_newState$$===
"object"&&typeof $ch$$31_newState$$.l!=="undefined"){$consumed$$2_handlerMethod$$=PhoneNumber._states[typeof $ch$$31_newState$$==="number"?$ch$$31_newState$$:$ch$$31_newState$$.l];return $consumed$$2_handlerMethod$$==="area"?$number$$.substring(0,$i$$+1):void 0}break}}else $i$$++}}},_matchPrefix:function $PhoneGeoLocator$$_matchPrefix$($prefix$$,$table$$){var $i$$,$matchedDot$$,$matchesWithDots$$=[];if($table$$[$prefix$$])return $table$$[$prefix$$];for(var $entry$$ in $table$$)if($entry$$&&typeof $entry$$===
"string"){$i$$=0;for($matchedDot$$=false;$i$$<$entry$$.length&&($entry$$.charAt($i$$)===$prefix$$.charAt($i$$)||$entry$$.charAt($i$$)===".");){$entry$$.charAt($i$$)==="."&&($matchedDot$$=true);$i$$++}if($i$$>=$entry$$.length)if($matchedDot$$)$matchesWithDots$$.push($entry$$);else return $table$$[$entry$$]}if($matchesWithDots$$.length>0){$matchesWithDots$$.sort(function($left$$,$right$$){return $right$$<$left$$?-1:$left$$<$right$$?1:0});return $table$$[$matchesWithDots$$[0]]}},_getAreaInfo:function $PhoneGeoLocator$$_getAreaInfo$($number$$,
$areaCode_countryCode$$2_data$$31_temp$$,$locale$$,$plan$$,$options$$){var $sync$$=true,$ret$$={},$areaInfo$$,$geoTable$$,$tempNumber$$,$prefix$$;if($options$$&&typeof $options$$.sync==="boolean")$sync$$=$options$$.sync;$prefix$$=$number$$.areaCode||$number$$.serviceCode;$geoTable$$=$areaCode_countryCode$$2_data$$31_temp$$;if($prefix$$!==void 0)if($plan$$.getExtendedAreaCode()){$tempNumber$$=$prefix$$+$number$$.subscriberNumber;$tempNumber$$=$tempNumber$$.replace(/[wWpPtT\+#\*]/g,"");Utils.loadData({name:"extarea.json",
object:PhoneGeoLocator,locale:$locale$$,sync:$sync$$,loadParams:JSUtils.merge($options$$&&$options$$.loadParams||{},{returnOne:true}),callback:ilib.bind(this,function($data$$0$$){this.extarea=$data$$0$$;Utils.loadData({name:"extstates.json",object:PhoneGeoLocator,locale:$locale$$,sync:$sync$$,loadParams:JSUtils.merge($options$$&&$options$$.loadParams||{},{returnOne:true}),callback:ilib.bind(this,function($data$$){this.extstates=$data$$;($geoTable$$=this.extarea)&&this.extstates&&($prefix$$=this._parseAreaAndSubscriber($tempNumber$$,
this.extstates));if(!$prefix$$){$geoTable$$=this.areadata;$prefix$$=$number$$.areaCode||$number$$.serviceCode}if(!$plan$$.fieldLengths||$plan$$.getFieldLength("maxLocalLength")===void 0||!$number$$.subscriberNumber||$number$$.subscriberNumber.length<=$plan$$.fieldLengths("maxLocalLength"))if(($areaInfo$$=this._matchPrefix($prefix$$,$geoTable$$))&&$areaInfo$$.sn&&$areaInfo$$.ln)$ret$$.area={sn:this.rb.getString($areaInfo$$.sn).toString(),ln:this.rb.getString($areaInfo$$.ln).toString()}})})})})}else if(!$plan$$||
$plan$$.getFieldLength("maxLocalLength")===void 0||!$number$$.subscriberNumber||$number$$.subscriberNumber.length<=$plan$$.getFieldLength("maxLocalLength"))if($geoTable$$){$areaCode_countryCode$$2_data$$31_temp$$=$prefix$$.replace(/[wWpPtT\+#\*]/g,"");if(($areaInfo$$=this._matchPrefix($areaCode_countryCode$$2_data$$31_temp$$,$geoTable$$))&&$areaInfo$$.sn&&$areaInfo$$.ln)$ret$$.area={sn:this.rb.getString($areaInfo$$.sn).toString(),ln:this.rb.getString($areaInfo$$.ln).toString()};else if($number$$.serviceCode)$ret$$.area=
{sn:this.rb.getString("Service Number").toString(),ln:this.rb.getString("Service Number").toString()}}else{$areaCode_countryCode$$2_data$$31_temp$$=$number$$.locale._mapRegiontoCC(this.locale.getRegion());if($areaCode_countryCode$$2_data$$31_temp$$!=="0"&&this.regiondata)($areaCode_countryCode$$2_data$$31_temp$$=this.regiondata[$areaCode_countryCode$$2_data$$31_temp$$])&&$areaCode_countryCode$$2_data$$31_temp$$.sn&&($ret$$.country={sn:this.rb.getString($areaCode_countryCode$$2_data$$31_temp$$.sn).toString(),
ln:this.rb.getString($areaCode_countryCode$$2_data$$31_temp$$.ln).toString(),code:this.locale.getRegion()})}else{$areaCode_countryCode$$2_data$$31_temp$$=$number$$.locale._mapRegiontoCC(this.locale.getRegion());if($areaCode_countryCode$$2_data$$31_temp$$!=="0"&&this.regiondata)($areaCode_countryCode$$2_data$$31_temp$$=this.regiondata[$areaCode_countryCode$$2_data$$31_temp$$])&&$areaCode_countryCode$$2_data$$31_temp$$.sn&&($ret$$.country={sn:this.rb.getString($areaCode_countryCode$$2_data$$31_temp$$.sn).toString(),
ln:this.rb.getString($areaCode_countryCode$$2_data$$31_temp$$.ln).toString(),code:this.locale.getRegion()})}else if($number$$.mobilePrefix)$ret$$.area={sn:this.rb.getString("Mobile Number").toString(),ln:this.rb.getString("Mobile Number").toString()};else if($number$$.emergency)$ret$$.area={sn:this.rb.getString("Emergency Services Number").toString(),ln:this.rb.getString("Emergency Services Number").toString()};return $ret$$},locate:function $PhoneGeoLocator$$locate$($number$$,$options$$){var $loadParams$$=
{},$ret$$={},$region$$,$countryCode$$,$temp$$,$plan$$,$areaResult$$,$phoneLoc$$=this.locale,$sync$$=true;if($number$$===void 0||typeof $number$$!=="object"||!($number$$ instanceof PhoneNumber))return $ret$$;if($options$$){typeof $options$$.sync!=="undefined"&&($sync$$=$options$$.sync==true);if($options$$.loadParams)$loadParams$$=$options$$.loadParams}$region$$=this.locale.getRegion();if($number$$.countryCode!==void 0&&this.regiondata){$countryCode$$=$number$$.countryCode.replace(/[wWpPtT\+#\*]/g,
"");$temp$$=this.regiondata[$countryCode$$];$phoneLoc$$=$number$$.destinationLocale;$plan$$=$number$$.destinationPlan;$ret$$.country={sn:this.rb.getString($temp$$.sn).toString(),ln:this.rb.getString($temp$$.ln).toString(),code:$phoneLoc$$.getRegion()}}if(!$plan$$)$plan$$=this.plan;Utils.loadData({name:"area.json",object:PhoneGeoLocator,locale:$phoneLoc$$,sync:$sync$$,loadParams:JSUtils.merge($loadParams$$,{returnOne:true}),callback:ilib.bind(this,function($areadata$$){if($areadata$$)this.areadata=
$areadata$$;$areaResult$$=this._getAreaInfo($number$$,this.areadata,$phoneLoc$$,$plan$$,$options$$);$ret$$=JSUtils.merge($ret$$,$areaResult$$);if($ret$$.country===void 0){$countryCode$$=$number$$.locale._mapRegiontoCC($region$$);if($countryCode$$!=="0"&&this.regiondata)($temp$$=this.regiondata[$countryCode$$])&&$temp$$.sn&&($ret$$.country={sn:this.rb.getString($temp$$.sn).toString(),ln:this.rb.getString($temp$$.ln).toString(),code:this.locale.getRegion()})}})});return $ret$$},country:function $PhoneGeoLocator$$country$($number$$){var $countryCode$$,
$region$$,$phoneLoc$$;if(!$number$$||!($number$$ instanceof PhoneNumber))return"";$phoneLoc$$=$number$$.locale;$region$$=$number$$.countryCode&&$phoneLoc$$._mapCCtoRegion($number$$.countryCode)||$number$$.locale&&$number$$.locale.region||$phoneLoc$$.locale.getRegion()||this.locale.getRegion();$countryCode$$=$number$$.countryCode||$phoneLoc$$._mapRegiontoCC($region$$);$number$$.areaCode?$region$$=$phoneLoc$$._mapAreatoRegion($countryCode$$,$number$$.areaCode):$countryCode$$==="33"&&$number$$.serviceCode&&
($region$$=$phoneLoc$$._mapAreatoRegion($countryCode$$,$number$$.serviceCode));return $region$$}};var Measurement=function $Measurement$(){};Measurement._constructors={};
Measurement.prototype={normalizeUnits:function $Measurement$$normalizeUnits$($name$$){return this.aliases[$name$$]||$name$$},getUnit:function $Measurement$$getUnit$(){return this.unit},getOriginalUnit:function $Measurement$$getOriginalUnit$(){return this.originalUnit},getAmount:function $Measurement$$getAmount$(){return this.amount},getMeasure:function $Measurement$$getMeasure$(){},convert:function $Measurement$$convert$(){},scale:function $Measurement$$scale$(){},localize:function $Measurement$$localize$(){}};
var UnknownUnit=function $UnknownUnit$($options$$){if($options$$){this.unit=$options$$.unit;this.amount=$options$$.amount}};UnknownUnit.prototype=new Measurement;UnknownUnit.prototype.parent=Measurement;UnknownUnit.prototype.constructor=UnknownUnit;UnknownUnit.aliases={unknown:"unknown"};UnknownUnit.prototype.getMeasure=function $UnknownUnit$$getMeasure$(){return"unknown"};UnknownUnit.prototype.convert=function $UnknownUnit$$convert$(){};UnknownUnit.convert=function $UnknownUnit$convert$(){};
UnknownUnit.prototype.localize=function $UnknownUnit$$localize$(){return new UnknownUnit({unit:this.unit,amount:this.amount})};UnknownUnit.prototype.scale=function $UnknownUnit$$scale$(){return new UnknownUnit({unit:this.unit,amount:this.amount})};UnknownUnit.getMeasures=function $UnknownUnit$getMeasures$(){return[]};
var AreaUnit=function $AreaUnit$($options$$){this.unit="square meter";this.amount=0;this.aliases=AreaUnit.aliases;if($options$$){if(typeof $options$$.unit!=="undefined"){this.originalUnit=$options$$.unit;this.unit=this.aliases[$options$$.unit]||$options$$.unit}if(typeof $options$$.amount==="object")if($options$$.amount.getMeasure()==="area")this.amount=AreaUnit.convert(this.unit,$options$$.amount.getUnit(),$options$$.amount.getAmount());else throw"Cannot convert unit "+$options$$.amount.unit+" to area";
else if(typeof $options$$.amount!=="undefined")this.amount=parseFloat($options$$.amount)}if(typeof AreaUnit.ratios[this.unit]==="undefined")throw"Unknown unit: "+$options$$.unit;};AreaUnit.prototype=new Measurement;AreaUnit.prototype.parent=Measurement;AreaUnit.prototype.constructor=AreaUnit;
AreaUnit.ratios={"square centimeter":[1,1,1.0E-4,1.0E-8,1.0E-10,0.15500031,0.00107639104,1.19599005E-4,2.47105381E-8,3.86102159E-11],"square meter":[2,1E4,1,1.0E-4,1.0E-6,1550,10.7639,1.19599,2.47105E-4,3.861E-7],hectare:[3,1E8,1E4,1,0.01,155E5,107639,11959.9,2.47105,0.00386102],"square km":[4,1E10,1E6,100,1,155E7,1076E4,1196E3,247.105,0.386102],"square inch":[5,6.4516,6.4516E-4,6.4516E-8,6.4516E-10,1,7.71605E-4,7.716051E-4,1.5942E-7,2.491E-10],"square foot":[6,929.0304,0.092903,9.2903E-6,9.2903E-8,
144,1,0.111111,2.2957E-5,3.587E-8],"square yard":[7,8361.2736,0.836127,8.3613E-5,8.3613E-7,1296,9,1,2.06612E-4,3.2283E-7],acre:[8,4.04685642E7,4046.86,0.404686,0.00404686,6273E3,43560,4840,1,0.0015625],"square mile":[9,25899881100,259E4,258.999,2.58999,4014E6,2788E4,3098E3,640,1]};AreaUnit.prototype.getMeasure=function $AreaUnit$$getMeasure$(){return"area"};
AreaUnit.prototype.convert=function $AreaUnit$$convert$($to$$){return!$to$$||typeof AreaUnit.ratios[this.normalizeUnits($to$$)]==="undefined"?void 0:new AreaUnit({unit:$to$$,amount:this})};
AreaUnit.aliases={"square centimeter":"square centimeter","square cm":"square centimeter","sq cm":"square centimeter","Square Cm":"square centimeter","square Centimeters":"square centimeter","square Centimeter":"square centimeter","square Centimetre":"square centimeter","square Centimetres":"square centimeter","square centimeters":"square centimeter","Square km":"square km","Square kilometre":"square km","square kilometer":"square km","square kilometre":"square km","square kilometers":"square km",
"square kilometres":"square km","square km":"square km","sq km":"square km",km2:"square km",Hectare:"hectare",hectare:"hectare",ha:"hectare","Square meter":"square meter","Square meters":"square meter","square meter":"square meter","square meters":"square meter","Square metre":"square meter","Square metres":"square meter","square metres":"square meter","Square Metres":"square meter",sqm:"square meter",m2:"square meter","Square mile":"square mile","Square miles":"square mile","square mile":"square mile",
"square miles":"square mile","square mi":"square mile","Square mi":"square mile","sq mi":"square mile",mi2:"square mile",Acre:"acre",acre:"acre",Acres:"acre",acres:"acre","Square yard":"square yard","Square yards":"square yard","square yard":"square yard","square yards":"square yard",yd2:"square yard","Square foot":"square foot","square foot":"square foot","Square feet":"square foot","Square Feet":"square foot","sq ft":"square foot",ft2:"square foot","Square inch":"square inch","square inch":"square inch",
"Square inches":"square inch","square inches":"square inch",in2:"square inch"};AreaUnit.convert=function $AreaUnit$convert$($to$$,$from$$,$area$$){$from$$=AreaUnit.aliases[$from$$]||$from$$;$to$$=AreaUnit.aliases[$to$$]||$to$$;return typeof $from$$==="undefined"||typeof $to$$==="undefined"?void 0:$area$$*AreaUnit.ratios[$from$$][AreaUnit.ratios[$to$$][0]]};AreaUnit.getMeasures=function $AreaUnit$getMeasures$(){var $ret$$=[],$m$$;for($m$$ in AreaUnit.ratios)$ret$$.push($m$$);return $ret$$};
AreaUnit.metricSystem={"square centimeter":1,"square meter":2,hectare:3,"square km":4};AreaUnit.imperialSystem={"square inch":5,"square foot":6,"square yard":7,acre:8,"square mile":9};AreaUnit.uscustomarySystem={"square inch":5,"square foot":6,"square yard":7,acre:8,"square mile":9};AreaUnit.metricToUScustomary={"square centimeter":"square inch","square meter":"square yard",hectare:"acre","square km":"square mile"};
AreaUnit.usCustomaryToMetric={"square inch":"square centimeter","square foot":"square meter","square yard":"square meter",acre:"hectare","square mile":"square km"};
AreaUnit.prototype.scale=function $AreaUnit$$scale$($area$$2_measurementsystem$$){var $fromRow$$=AreaUnit.ratios[this.unit],$mSystem$$;if($area$$2_measurementsystem$$==="metric"||typeof $area$$2_measurementsystem$$==="undefined"&&typeof AreaUnit.metricSystem[this.unit]!=="undefined")$mSystem$$=AreaUnit.metricSystem;else if($area$$2_measurementsystem$$==="uscustomary"||typeof $area$$2_measurementsystem$$==="undefined"&&typeof AreaUnit.uscustomarySystem[this.unit]!=="undefined")$mSystem$$=AreaUnit.uscustomarySystem;
else if($area$$2_measurementsystem$$==="imperial"||typeof $area$$2_measurementsystem$$==="undefined"&&typeof AreaUnit.imperialSystem[this.unit]!=="undefined")$mSystem$$=AreaUnit.imperialSystem;var $area$$2_measurementsystem$$=this.amount,$munit$$=this.unit,$area$$2_measurementsystem$$=1.8446744073709552E19,$m$$;for($m$$ in $mSystem$$){var $tmp$$=this.amount*$fromRow$$[$mSystem$$[$m$$]];if($tmp$$>=1&&$tmp$$<$area$$2_measurementsystem$$){$area$$2_measurementsystem$$=$tmp$$;$munit$$=$m$$}}return new AreaUnit({unit:$munit$$,
amount:$area$$2_measurementsystem$$})};AreaUnit.prototype.localize=function $AreaUnit$$localize$($locale$$){return new AreaUnit({unit:$locale$$==="en-US"||$locale$$==="en-GB"?AreaUnit.metricToUScustomary[this.unit]||this.unit:AreaUnit.usCustomaryToMetric[this.unit]||this.unit,amount:this})};Measurement._constructors.area=AreaUnit;
var DigitalStorageUnit=function $DigitalStorageUnit$($options$$){this.unit="byte";this.amount=0;this.aliases=DigitalStorageUnit.aliases;if($options$$){if(typeof $options$$.unit!=="undefined"){this.originalUnit=$options$$.unit;this.unit=this.aliases[$options$$.unit]||$options$$.unit}if(typeof $options$$.amount==="object")if($options$$.amount.getMeasure()==="digitalStorage")this.amount=DigitalStorageUnit.convert(this.unit,$options$$.amount.getUnit(),$options$$.amount.getAmount());else throw"Cannot convert unit "+
$options$$.amount.unit+" to a digitalStorage";else if(typeof $options$$.amount!=="undefined")this.amount=parseFloat($options$$.amount)}if(typeof DigitalStorageUnit.ratios[this.unit]==="undefined")throw"Unknown unit: "+$options$$.unit;};DigitalStorageUnit.prototype=new Measurement;DigitalStorageUnit.prototype.parent=Measurement;DigitalStorageUnit.prototype.constructor=DigitalStorageUnit;
DigitalStorageUnit.ratios={bit:[1,1,0.125,9.765625E-4,1.220703125E-4,9.536743164E-7,1.192092896E-7,9.313225746E-10,1.164153218E-10,9.094947017E-13,1.136868377E-13,8.881784197E-16,1.110223025E-16],"byte":[2,8,1,0.0078125,9.765625E-4,7.629394531E-6,9.536743164E-7,7.450580597E-9,9.313225746E-10,7.275957614E-12,9.094947017E-13,7.105427358E-15,8.881784197E-16],kilobit:[3,1024,128,1,0.125,9.765625E-4,1.220703125E-4,9.536743164E-7,1.192092896E-7,9.313225746E-10,1.164153218E-10,9.094947017E-13,1.136868377E-13],
kilobyte:[4,8192,1024,8,1,0.0078125,9.765625E-4,7.629394531E-6,9.536743164E-7,7.450580597E-9,9.313225746E-10,7.275957614E-12,9.094947017E-13],megabit:[5,1048576,131072,1024,128,1,0.125,9.765625E-4,1.220703125E-4,9.536743164E-7,1.192092896E-7,9.313225746E-10,1.164153218E-10],megabyte:[6,8388608,1048576,8192,1024,8,1,0.0078125,9.765625E-4,7.629394531E-6,9.536743164E-7,7.450580597E-9,9.313225746E-10],gigabit:[7,1073741824,134217728,1048576,131072,1024,128,1,0.125,9.765625E-4,1.220703125E-4,9.536743164E-7,
1.192092896E-7],gigabyte:[8,8589934592,1073741824,8388608,1048576,8192,1024,8,1,0.0078125,9.765625E-4,7.629394531E-6,9.536743164E-7],terabit:[9,1099511628E3,137438953472,1073741824,134217728,1048576,131072,1024,128,1,0.125,9.765625E-4,1.220703125E-4],terabyte:[10,8796093022E3,1099511628E3,8589934592,1073741824,8388608,1048576,8192,1024,8,1,0.0078125,9.765625E-4],petabit:[11,1125899907E6,1407374884E5,1099511628E3,137438953472,1073741824,134217728,1048576,131072,1024,128,1,0.125],petabyte:[12,9007199255E6,
1125899907E6,8796093022E3,1099511628E3,8589934592,1073741824,8388608,1048576,8192,1024,8,1]};DigitalStorageUnit.bitSystem={bit:1,kilobit:3,megabit:5,gigabit:7,terabit:9,petabit:11};DigitalStorageUnit.byteSystem={"byte":2,kilobyte:4,megabyte:6,gigabyte:8,terabyte:10,petabyte:12};DigitalStorageUnit.prototype.getMeasure=function $DigitalStorageUnit$$getMeasure$(){return"digitalStorage"};
DigitalStorageUnit.prototype.convert=function $DigitalStorageUnit$$convert$($to$$){return!$to$$||typeof DigitalStorageUnit.ratios[this.normalizeUnits($to$$)]==="undefined"?void 0:new DigitalStorageUnit({unit:$to$$,amount:this})};DigitalStorageUnit.prototype.localize=function $DigitalStorageUnit$$localize$(){return new DigitalStorageUnit({unit:this.unit,amount:this.amount})};
DigitalStorageUnit.prototype.scale=function $DigitalStorageUnit$$scale$(){var $mSystem$$;$mSystem$$=this.unit in DigitalStorageUnit.bitSystem?DigitalStorageUnit.bitSystem:DigitalStorageUnit.byteSystem;var $dStorage$$=this.amount,$munit$$=this.unit,$fromRow$$=DigitalStorageUnit.ratios[this.unit],$dStorage$$=1.8446744073709552E19,$m$$;for($m$$ in $mSystem$$){var $tmp$$=this.amount*$fromRow$$[$mSystem$$[$m$$]];if($tmp$$>=1&&$tmp$$<$dStorage$$){$dStorage$$=$tmp$$;$munit$$=$m$$}}return new DigitalStorageUnit({unit:$munit$$,
amount:$dStorage$$})};
DigitalStorageUnit.aliases={bits:"bit",bit:"bit",Bits:"bit",Bit:"bit","byte":"byte",bytes:"byte",Byte:"byte",Bytes:"byte",kilobits:"kilobit",Kilobits:"kilobit",KiloBits:"kilobit",kiloBits:"kilobit",kilobit:"kilobit",Kilobit:"kilobit",kiloBit:"kilobit",KiloBit:"kilobit",kb:"kilobit",Kb:"kilobit",kilobyte:"kilobyte",Kilobyte:"kilobyte",kiloByte:"kilobyte",KiloByte:"kilobyte",kilobytes:"kilobyte",Kilobytes:"kilobyte",kiloBytes:"kilobyte",KiloBytes:"kilobyte",kB:"kilobyte",KB:"kilobyte",megabit:"megabit",
Megabit:"megabit",megaBit:"megabit",MegaBit:"megabit",megabits:"megabit",Megabits:"megabit",megaBits:"megabit",MegaBits:"megabit",Mb:"megabit",mb:"megabit",megabyte:"megabyte",Megabyte:"megabyte",megaByte:"megabyte",MegaByte:"megabyte",megabytes:"megabyte",Megabytes:"megabyte",megaBytes:"megabyte",MegaBytes:"megabyte",MB:"megabyte",mB:"megabyte",gigabit:"gigabit",Gigabit:"gigabit",gigaBit:"gigabit",GigaBit:"gigabit",gigabits:"gigabit",Gigabits:"gigabit",gigaBits:"gigabyte",GigaBits:"gigabit",Gb:"gigabit",
gb:"gigabit",gigabyte:"gigabyte",Gigabyte:"gigabyte",gigaByte:"gigabyte",GigaByte:"gigabyte",gigabytes:"gigabyte",Gigabytes:"gigabyte",gigaBytes:"gigabyte",GigaBytes:"gigabyte",GB:"gigabyte",gB:"gigabyte",terabit:"terabit",Terabit:"terabit",teraBit:"terabit",TeraBit:"terabit",terabits:"terabit",Terabits:"terabit",teraBits:"terabit",TeraBits:"terabit",tb:"terabit",Tb:"terabit",terabyte:"terabyte",Terabyte:"terabyte",teraByte:"terabyte",TeraByte:"terabyte",terabytes:"terabyte",Terabytes:"terabyte",
teraBytes:"terabyte",TeraBytes:"terabyte",TB:"terabyte",tB:"terabyte",petabit:"petabit",Petabit:"petabit",petaBit:"petabit",PetaBit:"petabit",petabits:"petabit",Petabits:"petabit",petaBits:"petabit",PetaBits:"petabit",pb:"petabit",Pb:"petabit",petabyte:"petabyte",Petabyte:"petabyte",petaByte:"petabyte",PetaByte:"petabyte",petabytes:"petabyte",Petabytes:"petabyte",petaBytes:"petabyte",PetaBytes:"petabyte",PB:"petabyte",pB:"petabyte"};
DigitalStorageUnit.convert=function $DigitalStorageUnit$convert$($to$$,$from$$,$digitalStorage$$){$from$$=DigitalStorageUnit.aliases[$from$$]||$from$$;$to$$=DigitalStorageUnit.aliases[$to$$]||$to$$;return typeof $from$$==="undefined"||typeof $to$$==="undefined"?void 0:$digitalStorage$$*DigitalStorageUnit.ratios[$from$$][DigitalStorageUnit.ratios[$to$$][0]]};
DigitalStorageUnit.getMeasures=function $DigitalStorageUnit$getMeasures$(){var $ret$$=[],$m$$;for($m$$ in DigitalStorageUnit.ratios)$ret$$.push($m$$);return $ret$$};Measurement._constructors.digitalStorage=DigitalStorageUnit;
var EnergyUnit=function $EnergyUnit$($options$$){this.unit="joule";this.amount=0;this.aliases=EnergyUnit.aliases;if($options$$){if(typeof $options$$.unit!=="undefined"){this.originalUnit=$options$$.unit;this.unit=this.aliases[$options$$.unit]||$options$$.unit}if(typeof $options$$.amount==="object")if($options$$.amount.getMeasure()==="energy")this.amount=EnergyUnit.convert(this.unit,$options$$.amount.getUnit(),$options$$.amount.getAmount());else throw"Cannot convert units "+$options$$.amount.unit+
" to a energy";else if(typeof $options$$.amount!=="undefined")this.amount=parseFloat($options$$.amount)}if(typeof EnergyUnit.ratios[this.unit]==="undefined")throw"Unknown unit: "+$options$$.unit;};EnergyUnit.prototype=new Measurement;EnergyUnit.prototype.parent=Measurement;EnergyUnit.prototype.constructor=EnergyUnit;
EnergyUnit.ratios={millijoule:[1,1,0.001,9.4781707775E-7,1.0E-6,2.7777777778E-7,2.3884589663E-7,1.0E-9,2.7777777778E-10,1.0E-12,2.7777777778E-13,2.7777777778E-16],joule:[2,1E3,1,9.4781707775E-4,0.001,2.7777777778E-4,2.3884589663E-4,1.0E-6,2.7777777778E-7,1.0E-9,2.7777777778E-10,2.7777777778E-13],BTU:[3,1055055.9,1055.0559,1,1.0550559,0.29307108333,0.25199577243,0.0010550559,2.9307108333E-4,1.0550559E-6,2.9307108333E-7,2.9307108333E-10],kilojoule:[4,1E6,1E3,0.94781707775,1,0.27777777778,0.23884589663,
0.001,2.7777777778E-4,1.0E-6,2.7777777778E-7,2.7777777778E-10],"watt hour":[5,36E5,3600,3.4121414799,3.6,1,0.85984522786,0.0036,0.001,3.6E-6,1.0E-6,1.0E-9],calorie:[6,486800,4186.8,3.9683205411,4.1868,1.163,1,0.0041868,0.001163,4.1868E-6,1.163E-6,1.163E-9],megajoule:[7,1E9,1E6,947.81707775,1E3,277.77777778,238.84589663,1,0.27777777778,0.001,2.7777777778E-4,2.7777777778E-7],"kilowatt hour":[8,36E8,36E5,3412.1414799,3600,1E3,859.84522786,3.6,1,0.0036,0.001,1.0E-6],gigajoule:[9,1E12,1E9,947817.07775,
1E6,277777.77778,238845.89663,1E3,277.77777778,1,0.27777777778,2.7777777778E-4],"megawatt hour":[10,36E11,36E8,3412141.4799,36E5,1E6,859845.22786,3600,1E3,3.6,1,0.001],"gigawatt hour":[11,36E14,36E11,3.4121414799E9,36E8,1E9,8.5984522786E8,36E5,1E6,3600,1E3,1]};EnergyUnit.prototype.getMeasure=function $EnergyUnit$$getMeasure$(){return"energy"};
EnergyUnit.prototype.convert=function $EnergyUnit$$convert$($to$$){return!$to$$||typeof EnergyUnit.ratios[this.normalizeUnits($to$$)]==="undefined"?void 0:new EnergyUnit({unit:$to$$,amount:this})};
EnergyUnit.aliases={"milli joule":"millijoule",millijoule:"millijoule",MilliJoule:"millijoule",milliJ:"millijoule",joule:"joule",J:"joule",j:"joule",Joule:"joule",Joules:"joule",joules:"joule",BTU:"BTU",btu:"BTU","British thermal unit":"BTU","british thermal unit":"BTU","kilo joule":"kilojoule",kJ:"kilojoule",kj:"kilojoule",Kj:"kilojoule",kiloJoule:"kilojoule",kilojoule:"kilojoule",kjoule:"kilojoule","watt hour":"watt hour",Wh:"watt hour",wh:"watt hour","watt-hour":"watt hour",calorie:"calorie",Cal:"calorie",
cal:"calorie",Calorie:"calorie",calories:"calorie","mega joule":"megajoule",MJ:"megajoule",megajoule:"megajoule",megajoules:"megajoule",Megajoules:"megajoule",megaJoules:"megajoule",MegaJoules:"megajoule",megaJoule:"megajoule",MegaJoule:"megajoule","kilo Watt hour":"kilowatt hour",kWh:"kilowatt hour",kiloWh:"kilowatt hour",KiloWh:"kilowatt hour","KiloWatt-hour":"kilowatt hour","kilowatt hour":"kilowatt hour","kilowatt-hour":"kilowatt hour","KiloWatt-hours":"kilowatt hour","kilowatt-hours":"kilowatt hour",
"Kilo Watt-hour":"kilowatt hour","Kilo Watt-hours":"kilowatt hour","giga joule":"gigajoule",gJ:"gigajoule",GJ:"gigajoule",GigaJoule:"gigajoule",gigaJoule:"gigajoule",gigajoule:"gigajoule",GigaJoules:"gigajoule",gigaJoules:"gigajoule",Gigajoules:"gigajoule",gigajoules:"gigajoule","mega watt hour":"megawatt hour",MWh:"megawatt hour",MegaWh:"megawatt hour",megaWh:"megawatt hour",megaWatthour:"megawatt hour","megaWatt-hour":"megawatt hour","mega Watt-hour":"megawatt hour","megaWatt hour":"megawatt hour",
"megawatt hour":"megawatt hour","mega Watt hour":"megawatt hour","giga watt hour":"gigawatt hour",gWh:"gigawatt hour",GWh:"gigawatt hour",gigaWh:"gigawatt hour","gigaWatt-hour":"gigawatt hour","gigawatt-hour":"gigawatt hour","gigaWatt hour":"gigawatt hour","gigawatt hour":"gigawatt hour",gigawatthour:"gigawatt hour"};
EnergyUnit.convert=function $EnergyUnit$convert$($to$$,$from$$,$energy$$){$from$$=EnergyUnit.aliases[$from$$]||$from$$;$to$$=EnergyUnit.aliases[$to$$]||$to$$;return typeof $from$$==="undefined"||typeof $to$$==="undefined"?void 0:$energy$$*EnergyUnit.ratios[$from$$][EnergyUnit.ratios[$to$$][0]]};EnergyUnit.getMeasures=function $EnergyUnit$getMeasures$(){var $ret$$=[],$m$$;for($m$$ in EnergyUnit.ratios)$ret$$.push($m$$);return $ret$$};
EnergyUnit.metricJouleSystem={millijoule:1,joule:2,kilojoule:4,megajoule:7,gigajoule:9};EnergyUnit.metricWattHourSystem={"watt hour":5,"kilowatt hour":8,"megawatt hour":10,"gigawatt hour":11};EnergyUnit.imperialSystem={BTU:3};EnergyUnit.uscustomarySystem={calorie:6};EnergyUnit.metricToImperial={millijoule:"BTU",joule:"BTU",kilojoule:"BTU",megajoule:"BTU",gigajoule:"BTU"};EnergyUnit.imperialToMetric={BTU:"joule"};
EnergyUnit.prototype.localize=function $EnergyUnit$$localize$($locale$$){return new EnergyUnit({unit:$locale$$==="en-GB"?EnergyUnit.metricToImperial[this.unit]||this.unit:EnergyUnit.imperialToMetric[this.unit]||this.unit,amount:this})};
EnergyUnit.prototype.scale=function $EnergyUnit$$scale$($energy$$1_measurementsystem$$){var $fromRow$$=EnergyUnit.ratios[this.unit],$mSystem$$;if($energy$$1_measurementsystem$$==="metric"&&typeof EnergyUnit.metricJouleSystem[this.unit]!=="undefined"||typeof $energy$$1_measurementsystem$$==="undefined"&&typeof EnergyUnit.metricJouleSystem[this.unit]!=="undefined")$mSystem$$=EnergyUnit.metricJouleSystem;else if($energy$$1_measurementsystem$$==="metric"&&typeof EnergyUnit.metricWattHourSystem[this.unit]!==
"undefined"||typeof $energy$$1_measurementsystem$$==="undefined"&&typeof EnergyUnit.metricWattHourSystem[this.unit]!=="undefined")$mSystem$$=EnergyUnit.metricWattHourSystem;else if($energy$$1_measurementsystem$$==="uscustomary"||typeof $energy$$1_measurementsystem$$==="undefined"&&typeof EnergyUnit.uscustomarySystem[this.unit]!=="undefined")$mSystem$$=EnergyUnit.uscustomarySystem;else if($energy$$1_measurementsystem$$==="imperial"||typeof $energy$$1_measurementsystem$$==="undefined"&&typeof EnergyUnit.imperialSystem[this.unit]!==
"undefined")$mSystem$$=EnergyUnit.imperialSystem;var $energy$$1_measurementsystem$$=this.amount,$munit$$=this.unit,$energy$$1_measurementsystem$$=1.8446744073709552E19,$m$$;for($m$$ in $mSystem$$){var $tmp$$=this.amount*$fromRow$$[$mSystem$$[$m$$]];if($tmp$$>=1&&$tmp$$<$energy$$1_measurementsystem$$){$energy$$1_measurementsystem$$=$tmp$$;$munit$$=$m$$}}return new EnergyUnit({unit:$munit$$,amount:$energy$$1_measurementsystem$$})};Measurement._constructors.energy=EnergyUnit;
var FuelConsumptionUnit=function $FuelConsumptionUnit$($options$$){this.unit="km/liter";this.amount=0;this.aliases=FuelConsumptionUnit.aliases;if($options$$){if(typeof $options$$.unit!=="undefined"){this.originalUnit=$options$$.unit;this.unit=this.aliases[$options$$.unit]||$options$$.unit}if(typeof $options$$.amount==="object")if($options$$.amount.getMeasure()==="fuelconsumption")this.amount=FuelConsumptionUnit.convert(this.unit,$options$$.amount.getUnit(),$options$$.amount.getAmount());else throw"Cannot convert unit "+
$options$$.amount.unit+" to fuelconsumption";else if(typeof $options$$.amount!=="undefined")this.amount=parseFloat($options$$.amount)}};FuelConsumptionUnit.prototype=new Measurement;FuelConsumptionUnit.prototype.parent=Measurement;FuelConsumptionUnit.prototype.constructor=FuelConsumptionUnit;FuelConsumptionUnit.ratios=["km/liter","liter/100km","mpg","mpg(imp)"];FuelConsumptionUnit.prototype.getMeasure=function $FuelConsumptionUnit$$getMeasure$(){return"fuelconsumption"};
FuelConsumptionUnit.prototype.convert=function $FuelConsumptionUnit$$convert$($to$$){return!$to$$||typeof FuelConsumptionUnit.ratios[this.normalizeUnits($to$$)]==="undefined"?void 0:new FuelConsumptionUnit({unit:$to$$,amount:this})};
FuelConsumptionUnit.aliases={"Km/liter":"km/liter","KM/Liter":"km/liter","KM/L":"km/liter","Kilometers Per Liter":"km/liter","kilometers per liter":"km/liter","km/l":"km/liter","Kilometers/Liter":"km/liter","Kilometer/Liter":"km/liter","kilometers/liter":"km/liter","kilometer/liter":"km/liter","km/liter":"km/liter","Liter/100km":"liter/100km","Liters/100km":"liter/100km","Liter/100kms":"liter/100km","Liters/100kms":"liter/100km","liter/100km":"liter/100km","liters/100kms":"liter/100km","liters/100km":"liter/100km",
"liter/100kms":"liter/100km","Liter/100KM":"liter/100km","Liters/100KM":"liter/100km","L/100km":"liter/100km","L/100KM":"liter/100km","l/100KM":"liter/100km","l/100km":"liter/100km","l/100kms":"liter/100km","MPG(US)":"mpg","USMPG ":"mpg",mpg:"mpg",mpgUS:"mpg","mpg(US)":"mpg","mpg(us)":"mpg","mpg-us":"mpg","mpg Imp":"mpg(imp)","MPG(imp)":"mpg(imp)","mpg(imp)":"mpg(imp)","mpg-imp":"mpg(imp)"};FuelConsumptionUnit.metricToUScustomary={"km/liter":"mpg","liter/100km":"mpg"};
FuelConsumptionUnit.metricToImperial={"km/liter":"mpg(imp)","liter/100km":"mpg(imp)"};FuelConsumptionUnit.imperialToMetric={"mpg(imp)":"km/liter"};FuelConsumptionUnit.imperialToUScustomary={"mpg(imp)":"mpg"};FuelConsumptionUnit.uScustomaryToImperial={mpg:"mpg(imp)"};FuelConsumptionUnit.uScustomarylToMetric={mpg:"km/liter"};
FuelConsumptionUnit.prototype.localize=function $FuelConsumptionUnit$$localize$($locale$$){return new FuelConsumptionUnit({unit:$locale$$==="en-US"?FuelConsumptionUnit.metricToUScustomary[this.unit]||FuelConsumptionUnit.imperialToUScustomary[this.unit]||this.unit:$locale$$==="en-GB"?FuelConsumptionUnit.metricToImperial[this.unit]||FuelConsumptionUnit.uScustomaryToImperial[this.unit]||this.unit:FuelConsumptionUnit.uScustomarylToMetric[this.unit]||FuelConsumptionUnit.imperialToUScustomary[this.unit]||
this.unit,amount:this})};
FuelConsumptionUnit.convert=function $FuelConsumptionUnit$convert$($to$$,$from$$,$fuelConsumption$$){var $from$$=FuelConsumptionUnit.aliases[$from$$]||$from$$,$to$$=FuelConsumptionUnit.aliases[$to$$]||$to$$,$returnValue$$=0;switch($from$$){case "km/liter":switch($to$$){case "km/liter":$returnValue$$=$fuelConsumption$$*1;break;case "liter/100km":$returnValue$$=100/$fuelConsumption$$;break;case "mpg":$returnValue$$=$fuelConsumption$$*2.35215;break;case "mpg(imp)":$returnValue$$=$fuelConsumption$$*2.82481}break;
case "liter/100km":switch($to$$){case "km/liter":$returnValue$$=100/$fuelConsumption$$;break;case "liter/100km":$returnValue$$=$fuelConsumption$$*1;break;case "mpg":$returnValue$$=235.215/$fuelConsumption$$;break;case "mpg(imp)":$returnValue$$=282.481/$fuelConsumption$$}break;case "mpg":switch($to$$){case "km/liter":$returnValue$$=$fuelConsumption$$*0.425144;break;case "liter/100km":$returnValue$$=235.215/$fuelConsumption$$;break;case "mpg":$returnValue$$=1*$fuelConsumption$$;break;case "mpg(imp)":$returnValue$$=
1.20095*$fuelConsumption$$}break;case "mpg(imp)":switch($to$$){case "km/liter":$returnValue$$=$fuelConsumption$$*0.354006;break;case "liter/100km":$returnValue$$=282.481/$fuelConsumption$$;break;case "mpg":$returnValue$$=0.832674*$fuelConsumption$$;break;case "mpg(imp)":$returnValue$$=1*$fuelConsumption$$}}return $returnValue$$};FuelConsumptionUnit.prototype.scale=function $FuelConsumptionUnit$$scale$(){return new FuelConsumptionUnit({unit:this.unit,amount:this.amount})};
FuelConsumptionUnit.getMeasures=function $FuelConsumptionUnit$getMeasures$(){var $ret$$=[];$ret$$.push("km/liter");$ret$$.push("liter/100km");$ret$$.push("mpg");$ret$$.push("mpg(imp)");return $ret$$};Measurement._constructors.fuelconsumption=FuelConsumptionUnit;
var LengthUnit=function $LengthUnit$($options$$){this.unit="meter";this.amount=0;this.aliases=LengthUnit.aliases;if($options$$){if(typeof $options$$.unit!=="undefined"){this.originalUnit=$options$$.unit;this.unit=this.aliases[$options$$.unit]||$options$$.unit}if(typeof $options$$.amount==="object")if($options$$.amount.getMeasure()==="length")this.amount=LengthUnit.convert(this.unit,$options$$.amount.getUnit(),$options$$.amount.getAmount());else throw"Cannot convert unit "+$options$$.amount.unit+" to a length";
else if(typeof $options$$.amount!=="undefined")this.amount=parseFloat($options$$.amount)}if(typeof LengthUnit.ratios[this.unit]==="undefined")throw"Unknown unit: "+$options$$.unit;};LengthUnit.prototype=new Measurement;LengthUnit.prototype.parent=Measurement;LengthUnit.prototype.constructor=LengthUnit;
LengthUnit.ratios={micrometer:[1,1,0.001,1.0E-4,3.93701E-5,1.0E-5,3.28084E-6,1.09361E-6,1.0E-6,1.0E-7,1.0E-8,1.0E-9,6.21373E-10,5.39957E-10,1.0E-12,1.0E-15],millimeter:[2,1E3,1,0.1,0.0393701,0.01,0.00328084,0.00109361,0.001,1.0E-4,1.0E-5,1.0E-6,6.21373E-7,5.39957E-7,1.0E-9,1.0E-12],centimeter:[3,1E4,10,1,0.393701,0.1,0.0328084,0.0109361,0.01,0.001,1.0E-4,1.0E-5,6.21373E-6,5.39957E-6,1.0E-8,1.0E-9],inch:[4,25399.986,25.399986,2.5399986,1,0.25399986,0.083333333,0.027777778,0.025399986,0.0025399986,
2.5399986E-4,2.5399986E-5,1.5783E-5,1.3715E-5,2.5399986E-8,2.5399986E-11],decimeter:[5,1E5,100,10,3.93701,1,0.328084,0.109361,0.1,0.01,0.001,1.0E-4,6.21373E-5,5.39957E-5,1.0E-7,1.0E-8],foot:[6,304799.99,304.79999,30.479999,12,3.0479999,1,0.33333333,0.30479999,0.030479999,0.0030479999,3.0479999E-4,1.89394E-4,1.64579E-4,3.0479999E-7,3.0479999E-10],yard:[7,914402.758,914.402758,91.4402758,36,9.14402758,3,1,0.914402758,0.0914402758,0.00914402758,9.14402758E-4,5.68182E-4,4.93737E-4,9.14402758E-7,9.14402758E-10],
meter:[8,1E6,1E3,100,39.3701,10,3.28084,1.09361,1,0.1,0.01,0.001,6.213712E-4,5.39957E-4,1.0E-6,1.0E-7],decameter:[9,1E7,1E4,1E3,393.701,100,32.8084,10.9361,10,1,0.1,0.01,0.00621373,0.00539957,1.0E-5,1.0E-6],hectometer:[10,1E8,1E5,1E4,3937.01,1E3,328.084,109.361,100,10,1,0.1,0.0621373,0.0539957,1.0E-4,1.0E-5],kilometer:[11,1E9,1E6,1E5,39370.1,1E4,3280.84,1093.61,1E3,100,10,1,0.621373,0.539957,0.001,1.0E-4],mile:[12,160934E4,1609340,160934,63360,16093.4,5280,1760,1609.34,160.934,16.0934,1.60934,1,0.868976,
0.00160934,1.60934E-6],nauticalmile:[13,1852E6,1852E3,185200,72913.4,18520,6076.12,2025.37,1852,185.2,18.52,1.852,1.15078,1,0.001852,1.852E-6],megameter:[14,1E12,1E9,1E6,39370100,1E5,3280840,1093610,1E4,1E3,100,10,621.373,539.957,1,0.001],gigameter:[15,1E15,1E12,1E9,393701E5,1E8,328084E4,109361E4,1E7,1E6,1E5,1E4,621373,539957,1E3,1]};LengthUnit.metricSystem={micrometer:1,millimeter:2,centimeter:3,decimeter:5,meter:8,decameter:9,hectometer:10,kilometer:11,megameter:14,gigameter:15};
LengthUnit.imperialSystem={inch:4,foot:6,yard:7,mile:12,nauticalmile:13};LengthUnit.uscustomarySystem={inch:4,foot:6,yard:7,mile:12,nauticalmile:13};LengthUnit.metricToUScustomary={micrometer:"inch",millimeter:"inch",centimeter:"inch",decimeter:"inch",meter:"yard",decameter:"yard",hectometer:"mile",kilometer:"mile",megameter:"nauticalmile",gigameter:"nauticalmile"};LengthUnit.usCustomaryToMetric={inch:"centimeter",foot:"centimeter",yard:"meter",mile:"kilometer",nauticalmile:"kilometer"};
LengthUnit.prototype.getMeasure=function $LengthUnit$$getMeasure$(){return"length"};LengthUnit.prototype.localize=function $LengthUnit$$localize$($locale$$){return new LengthUnit({unit:$locale$$==="en-US"||$locale$$==="en-GB"?LengthUnit.metricToUScustomary[this.unit]||this.unit:LengthUnit.usCustomaryToMetric[this.unit]||this.unit,amount:this})};
LengthUnit.prototype.convert=function $LengthUnit$$convert$($to$$){return!$to$$||typeof LengthUnit.ratios[this.normalizeUnits($to$$)]==="undefined"?void 0:new LengthUnit({unit:$to$$,amount:this})};
LengthUnit.prototype.scale=function $LengthUnit$$scale$($mSystem$$3_measurementsystem$$){if($mSystem$$3_measurementsystem$$==="metric"||typeof $mSystem$$3_measurementsystem$$==="undefined"&&typeof LengthUnit.metricSystem[this.unit]!=="undefined")$mSystem$$3_measurementsystem$$=LengthUnit.metricSystem;else if($mSystem$$3_measurementsystem$$==="imperial"||typeof $mSystem$$3_measurementsystem$$==="undefined"&&typeof LengthUnit.imperialSystem[this.unit]!=="undefined")$mSystem$$3_measurementsystem$$=LengthUnit.imperialSystem;
else if($mSystem$$3_measurementsystem$$==="uscustomary"||typeof $mSystem$$3_measurementsystem$$==="undefined"&&typeof LengthUnit.uscustomarySystem[this.unit]!=="undefined")$mSystem$$3_measurementsystem$$=LengthUnit.uscustomarySystem;else return new LengthUnit({unit:this.unit,amount:this.amount});var $length$$=this.amount,$munit$$=this.unit,$fromRow$$=LengthUnit.ratios[this.unit],$length$$=1.8446744073709552E19,$m$$;for($m$$ in $mSystem$$3_measurementsystem$$){var $tmp$$=this.amount*$fromRow$$[$mSystem$$3_measurementsystem$$[$m$$]];
if($tmp$$>=1&&$tmp$$<$length$$){$length$$=$tmp$$;$munit$$=$m$$}}return new LengthUnit({unit:$munit$$,amount:$length$$})};
LengthUnit.aliases={miles:"mile",mile:"mile",nauticalmiles:"nauticalmile","nautical mile":"nauticalmile","nautical miles":"nauticalmile",nauticalmile:"nauticalmile",yards:"yard",yard:"yard",feet:"foot",foot:"foot",inches:"inch",inch:"inch",meters:"meter",metre:"meter",metres:"meter",m:"meter",meter:"meter",micrometers:"micrometer",micrometres:"micrometer",micrometre:"micrometer","\u00b5m":"micrometer",micrometer:"micrometer",millimeters:"millimeter",millimetres:"millimeter",millimetre:"millimeter",
mm:"millimeter",millimeter:"millimeter",centimeters:"centimeter",centimetres:"centimeter",centimetre:"centimeter",cm:"centimeter",centimeter:"centimeter",decimeters:"decimeter",decimetres:"decimeter",decimetre:"decimeter",dm:"decimeter",decimeter:"decimeter",decameters:"decameter",decametres:"decameter",decametre:"decameter",dam:"decameter",decameter:"decameter",hectometers:"hectometer",hectometres:"hectometer",hectometre:"hectometer",hm:"hectometer",hectometer:"hectometer",kilometers:"kilometer",
kilometres:"kilometer",kilometre:"kilometer",km:"kilometer",kilometer:"kilometer",megameters:"megameter",megametres:"megameter",megametre:"megameter",Mm:"megameter",megameter:"megameter",gigameters:"gigameter",gigametres:"gigameter",gigametre:"gigameter",Gm:"gigameter",gigameter:"gigameter"};
LengthUnit.convert=function $LengthUnit$convert$($to$$,$from$$,$length$$){$from$$=LengthUnit.aliases[$from$$]||$from$$;$to$$=LengthUnit.aliases[$to$$]||$to$$;return typeof $from$$==="undefined"||typeof $to$$==="undefined"?void 0:$length$$*LengthUnit.ratios[$from$$][LengthUnit.ratios[$to$$][0]]};LengthUnit.getMeasures=function $LengthUnit$getMeasures$(){var $ret$$=[],$m$$;for($m$$ in LengthUnit.ratios)$ret$$.push($m$$);return $ret$$};Measurement._constructors.length=LengthUnit;
var MassUnit=function $MassUnit$($options$$){this.unit="gram";this.amount=0;this.aliases=MassUnit.aliases;if($options$$){if(typeof $options$$.unit!=="undefined"){this.originalUnit=$options$$.unit;this.unit=this.aliases[$options$$.unit]||$options$$.unit}if(typeof $options$$.amount==="object")if($options$$.amount.getMeasure()==="mass")this.amount=MassUnit.convert(this.unit,$options$$.amount.getUnit(),$options$$.amount.getAmount());else throw"Cannot convert units "+$options$$.amount.unit+" to a mass";
else if(typeof $options$$.amount!=="undefined")this.amount=parseFloat($options$$.amount)}if(typeof MassUnit.ratios[this.unit]==="undefined")throw"Unknown unit: "+$options$$.unit;};MassUnit.prototype=new Measurement;MassUnit.prototype.parent=Measurement;MassUnit.prototype.constructor=MassUnit;
MassUnit.ratios={microgram:[1,1,0.001,1.0E-6,3.5274E-8,2.2046E-9,1.0E-9,1.5747E-10,1.1023E-12,1.0E-12,9.8421E-13],milligram:[2,1E3,1,0.001,3.5274E-5,2.2046E-6,1.0E-6,1.5747E-7,1.1023E-9,1.0E-9,9.8421E-10],gram:[3,1E6,1E3,1,0.035274,0.00220462,0.001,1.57473E-4,1.1023E-6,1.0E-6,9.8421E-7],ounce:[4,2835E4,28349.5,28.3495,1,0.0625,0.0283495,0.00446429,3.125E-5,2.835E-5,2.7902E-5],pound:[5,4536E5,453592,453.592,16,1,0.453592,0.0714286,5.0E-4,4.53592E-4,4.46429E-4],kilogram:[6,1E9,1E6,1E3,35.274,2.20462,
1,0.157473,0.00110231,0.001,9.84207E-4],stone:[7,635E7,635E4,6350.29,224,14,6.35029,1,0.007,0.00635029,0.00625],"short ton":[8,9072E8,9072E5,907185,32E3,2E3,907.185,142.857,1,0.907185,0.892857],"metric ton":[9,1E12,1E9,1E6,35274,2204.62,1E3,157.473,1.10231,1,0.984207],"long ton":[10,1016E9,1016E6,1016E3,35840,2240,1016.05,160,1.12,1.01605,1]};MassUnit.metricSystem={microgram:1,milligram:2,gram:3,kilogram:6,"metric ton":9};MassUnit.imperialSystem={ounce:4,pound:5,stone:7,"long ton":10};
MassUnit.uscustomarySystem={ounce:4,pound:5,"short ton":8};MassUnit.metricToUScustomary={microgram:"ounce",milligram:"ounce",gram:"ounce",kilogram:"pound","metric ton":"long ton"};MassUnit.metricToImperial={microgram:"ounce",milligram:"ounce",gram:"ounce",kilogram:"pound","metric ton":"short ton"};MassUnit.imperialToMetric={ounce:"gram",pound:"kilogram",stone:"kilogram","short ton":"metric ton"};MassUnit.imperialToUScustomary={ounce:"ounce",pound:"pound",stone:"stone","short ton":"long ton"};
MassUnit.uScustomaryToImperial={ounce:"ounce",pound:"pound",stone:"stone","long ton":"short ton"};MassUnit.uScustomarylToMetric={ounce:"gram",pound:"kilogram",stone:"kilogram","long ton":"metric ton"};
MassUnit.prototype.localize=function $MassUnit$$localize$($locale$$){return new MassUnit({unit:$locale$$==="en-US"?MassUnit.metricToUScustomary[this.unit]||MassUnit.imperialToUScustomary[this.unit]||this.unit:$locale$$==="en-GB"?MassUnit.metricToImperial[this.unit]||MassUnit.uScustomaryToImperial[this.unit]||this.unit:MassUnit.uScustomarylToMetric[this.unit]||MassUnit.imperialToUScustomary[this.unit]||this.unit,amount:this})};MassUnit.prototype.getMeasure=function $MassUnit$$getMeasure$(){return"mass"};
MassUnit.prototype.convert=function $MassUnit$$convert$($to$$){return!$to$$||typeof MassUnit.ratios[this.normalizeUnits($to$$)]==="undefined"?void 0:new MassUnit({unit:$to$$,amount:this})};
MassUnit.aliases={"\u00b5g":"microgram",microgram:"microgram",mcg:"microgram",milligram:"milligram",mg:"milligram",milligrams:"milligram",Milligram:"milligram",Milligrams:"milligram",MilliGram:"milligram",MilliGrams:"milligram",g:"gram",gram:"gram",grams:"gram",Gram:"gram",Grams:"gram",ounce:"ounce",oz:"ounce",Ounce:"ounce","\u2125":"ounce",pound:"pound",poundm:"pound","\u2114":"pound",lb:"pound",pounds:"pound",Pound:"pound",Pounds:"pound",kilogram:"kilogram",kg:"kilogram",kilograms:"kilogram","kilo grams":"kilogram",
"kilo gram":"kilogram",Kilogram:"kilogram",Kilograms:"kilogram",KiloGram:"kilogram",KiloGrams:"kilogram","Kilo gram":"kilogram","Kilo grams":"kilogram","Kilo Gram":"kilogram","Kilo Grams":"kilogram",stone:"stone",st:"stone",stones:"stone",Stone:"stone","short ton":"short ton","Short ton":"short ton","Short Ton":"short ton","metric ton":"metric ton",metricton:"metric ton",t:"metric ton",tonne:"metric ton",Tonne:"metric ton","Metric Ton":"metric ton",MetricTon:"metric ton","long ton":"long ton",longton:"long ton",
Longton:"long ton","Long ton":"long ton","Long Ton":"long ton",ton:"long ton",Ton:"long ton"};MassUnit.convert=function $MassUnit$convert$($to$$,$from$$,$mass$$){$from$$=MassUnit.aliases[$from$$]||$from$$;$to$$=MassUnit.aliases[$to$$]||$to$$;return typeof $from$$==="undefined"||typeof $to$$==="undefined"?void 0:$mass$$*MassUnit.ratios[$from$$][MassUnit.ratios[$to$$][0]]};
MassUnit.prototype.scale=function $MassUnit$$scale$($mSystem$$4_measurementsystem$$){if($mSystem$$4_measurementsystem$$==="metric"||typeof $mSystem$$4_measurementsystem$$==="undefined"&&typeof MassUnit.metricSystem[this.unit]!=="undefined")$mSystem$$4_measurementsystem$$=MassUnit.metricSystem;else if($mSystem$$4_measurementsystem$$==="imperial"||typeof $mSystem$$4_measurementsystem$$==="undefined"&&typeof MassUnit.imperialSystem[this.unit]!=="undefined")$mSystem$$4_measurementsystem$$=MassUnit.imperialSystem;
else if($mSystem$$4_measurementsystem$$==="uscustomary"||typeof $mSystem$$4_measurementsystem$$==="undefined"&&typeof MassUnit.uscustomarySystem[this.unit]!=="undefined")$mSystem$$4_measurementsystem$$=MassUnit.uscustomarySystem;else return new MassUnit({unit:this.unit,amount:this.amount});var $mass$$=this.amount,$munit$$=this.amount,$fromRow$$=MassUnit.ratios[this.unit],$mass$$=1.8446744073709552E19,$m$$;for($m$$ in $mSystem$$4_measurementsystem$$){var $tmp$$=this.amount*$fromRow$$[$mSystem$$4_measurementsystem$$[$m$$]];
if($tmp$$>=1&&$tmp$$<$mass$$){$mass$$=$tmp$$;$munit$$=$m$$}}return new MassUnit({unit:$munit$$,amount:$mass$$})};MassUnit.getMeasures=function $MassUnit$getMeasures$(){var $ret$$=[],$m$$;for($m$$ in MassUnit.ratios)$ret$$.push($m$$);return $ret$$};Measurement._constructors.mass=MassUnit;
var TemperatureUnit=function $TemperatureUnit$($options$$){this.unit="celsius";this.amount=0;this.aliases=TemperatureUnit.aliases;if($options$$){if(typeof $options$$.unit!=="undefined"){this.originalUnit=$options$$.unit;this.unit=this.aliases[$options$$.unit]||$options$$.unit}if(typeof $options$$.amount==="object")if($options$$.amount.getMeasure()==="temperature")this.amount=TemperatureUnit.convert(this.unit,$options$$.amount.getUnit(),$options$$.amount.getAmount());else throw"Cannot convert unit "+
$options$$.amount.unit+" to a temperature";else if(typeof $options$$.amount!=="undefined")this.amount=parseFloat($options$$.amount)}};TemperatureUnit.prototype=new Measurement;TemperatureUnit.prototype.parent=Measurement;TemperatureUnit.prototype.constructor=TemperatureUnit;TemperatureUnit.prototype.getMeasure=function $TemperatureUnit$$getMeasure$(){return"temperature"};
TemperatureUnit.aliases={Celsius:"celsius",celsius:"celsius",C:"celsius",centegrade:"celsius",Centegrade:"celsius",centigrade:"celsius",Centigrade:"celsius",fahrenheit:"fahrenheit",Fahrenheit:"fahrenheit",F:"fahrenheit",kelvin:"kelvin",K:"kelvin",Kelvin:"kelvin","\u00b0F":"fahrenheit","\u2109":"fahrenheit","\u2103":"celsius","\u00b0C":"celsius"};
TemperatureUnit.prototype.convert=function $TemperatureUnit$$convert$($to$$){return!$to$$||typeof TemperatureUnit.ratios[this.normalizeUnits($to$$)]==="undefined"?void 0:new TemperatureUnit({unit:$to$$,amount:this})};
TemperatureUnit.convert=function $TemperatureUnit$convert$($to$$,$from$$,$temperature$$){var $result$$=0,$from$$=TemperatureUnit.aliases[$from$$]||$from$$,$to$$=TemperatureUnit.aliases[$to$$]||$to$$;if($from$$===$to$$)return $temperature$$;$from$$==="celsius"?$to$$==="fahrenheit"?$result$$=$temperature$$*9/5+32:$to$$==="kelvin"&&($result$$=$temperature$$+273.15):$from$$==="fahrenheit"?$to$$==="celsius"?$result$$=5/9*($temperature$$-32):$to$$==="kelvin"&&($result$$=($temperature$$+459.67)*5/9):$from$$===
"kelvin"&&($to$$==="celsius"?$result$$=$temperature$$-273.15:$to$$==="fahrenheit"&&($result$$=$temperature$$*9/5-459.67));return $result$$};TemperatureUnit.prototype.scale=function $TemperatureUnit$$scale$(){return new TemperatureUnit({unit:this.unit,amount:this.amount})};TemperatureUnit.getMeasures=function $TemperatureUnit$getMeasures$(){return["celsius","kelvin","fahrenheit"]};TemperatureUnit.metricToUScustomary={celsius:"fahrenheit"};TemperatureUnit.usCustomaryToMetric={fahrenheit:"celsius"};
TemperatureUnit.prototype.localize=function $TemperatureUnit$$localize$($locale$$){return new TemperatureUnit({unit:$locale$$==="en-US"?TemperatureUnit.metricToUScustomary[this.unit]||this.unit:TemperatureUnit.usCustomaryToMetric[this.unit]||this.unit,amount:this})};Measurement._constructors.temperature=TemperatureUnit;
var TimeUnit=function $TimeUnit$($options$$){this.unit="second";this.amount=0;this.aliases=TimeUnit.aliases;if($options$$){if(typeof $options$$.unit!=="undefined"){this.originalUnit=$options$$.unit;this.unit=this.aliases[$options$$.unit]||$options$$.unit}if(typeof $options$$.amount==="object")if($options$$.amount.getMeasure()==="time")this.amount=TimeUnit.convert(this.unit,$options$$.amount.getUnit(),$options$$.amount.getAmount());else throw"Cannot convert units "+$options$$.amount.unit+" to a time";
else if(typeof $options$$.amount!=="undefined")this.amount=parseFloat($options$$.amount)}if(typeof TimeUnit.ratios[this.unit]==="undefined")throw"Unknown unit: "+$options$$.unit;};TimeUnit.prototype=new Measurement;TimeUnit.prototype.parent=Measurement;TimeUnit.prototype.constructor=TimeUnit;
TimeUnit.ratios={nanosecond:[1,1,0.001,1.0E-6,1.0E-9,1.6667E-11,2.7778E-13,1.1574E-14,1.6534E-15,3.8027E-16,3.1689E-17,3.1689E-18,3.1689E-19],microsecond:[2,1E3,1,0.001,1.0E-6,1.6667E-8,2.7778E-10,1.1574E-11,1.6534E-12,3.8027E-13,3.1689E-14,3.1689E-15,3.1689E-16],millisecond:[3,1E6,1E3,1,0.001,1.6667E-5,2.7778E-7,1.1574E-8,1.6534E-9,3.8027E-10,3.1689E-11,3.1689E-12,3.1689E-13],second:[4,1E9,1E6,1E3,1,0.0166667,2.77778E-4,1.1574E-5,1.6534E-6,3.8027E-7,3.1689E-8,3.1689E-9,3.1689E-10],minute:[5,6E10,
6E7,6E4,60,1,0.0166667,6.94444E-4,9.9206E-5,2.2816E-5,1.9013E-6,1.9013E-7,1.9013E-8],hour:[6,36E11,36E8,36E5,3600,60,1,0.0416667,0.00595238,0.00136895,1.1408E-4,1.1408E-5,1.1408E-6],day:[7,864E11,864E8,864E5,86400,1440,24,1,0.142857,0.0328549,0.00273791,2.73791E-4,2.7379E-5],week:[8,6048E11,6048E8,6048E5,604800,10080,168,7,1,0.229984,0.0191654,0.00191654,1.91654E-4],month:[9,263E13,263E10,263E7,263E4,43829.1,730.484,30.4368,4.34812,1,0.0833333,0.00833333,8.33333E-4],year:[10,3156E13,3156E10,3156E7,
3156E4,525949,8765.81,365.242,52.1775,12,1,0.1,0.01],decade:[11,3156E14,3156E11,3156E8,3156E5,5259E3,87658.1,3652.42,521.775,120,10,1,0.1],century:[12,3156E15,3156E15,3156E9,3156E6,5259E4,876581,36524.2,5217.75,1200,100,10,1]};TimeUnit.prototype.getMeasure=function $TimeUnit$$getMeasure$(){return"time"};TimeUnit.prototype.convert=function $TimeUnit$$convert$($to$$){return!$to$$||typeof TimeUnit.ratios[this.normalizeUnits($to$$)]==="undefined"?void 0:new TimeUnit({unit:$to$$,amount:this})};
TimeUnit.aliases={ns:"nanosecond",NS:"nanosecond",nS:"nanosecond",Ns:"nanosecond",Nanosecond:"nanosecond",Nanoseconds:"nanosecond",nanosecond:"nanosecond",nanoseconds:"nanosecond",NanoSecond:"nanosecond",NanoSeconds:"nanosecond","\u03bcs":"microsecond","\u03bcS":"microsecond",microsecond:"microsecond",microseconds:"microsecond",Microsecond:"microsecond",Microseconds:"microsecond",MicroSecond:"microsecond",MicroSeconds:"microsecond",ms:"millisecond",MS:"millisecond",mS:"millisecond",Ms:"millisecond",
millisecond:"millisecond",milliseconds:"millisecond",Millisecond:"millisecond",Milliseconds:"millisecond",MilliSecond:"millisecond",MilliSeconds:"millisecond",s:"second",S:"second",sec:"second",second:"second",seconds:"second",Second:"second",Seconds:"second",min:"minute",Min:"minute",minute:"minute",minutes:"minute",Minute:"minute",Minutes:"minute",h:"hour",H:"hour",hr:"hour",Hr:"hour",hR:"hour",HR:"hour",hour:"hour",hours:"hour",Hour:"hour",Hours:"hour",Hrs:"hour",hrs:"hour",day:"day",days:"day",
Day:"day",Days:"day",week:"week",weeks:"week",Week:"week",Weeks:"week",month:"month",Month:"month",months:"month",Months:"month",year:"year",years:"year",Year:"year",Years:"year",yr:"year",Yr:"year",yrs:"year",Yrs:"year",decade:"decade",decades:"decade",Decade:"decade",Decades:"decade",century:"century",centuries:"century",Century:"century",Centuries:"century"};
TimeUnit.convert=function $TimeUnit$convert$($to$$,$from$$,$time$$){$from$$=TimeUnit.aliases[$from$$]||$from$$;$to$$=TimeUnit.aliases[$to$$]||$to$$;return typeof $from$$==="undefined"||typeof $to$$==="undefined"?void 0:$time$$*TimeUnit.ratios[$from$$][TimeUnit.ratios[$to$$][0]]};TimeUnit.prototype.localize=function $TimeUnit$$localize$(){return new TimeUnit({unit:this.unit,amount:this.amount})};
TimeUnit.prototype.scale=function $TimeUnit$$scale$(){var $fromRow$$=TimeUnit.ratios[this.unit],$time$$=this.amount,$munit$$=this.unit,$i$$71_tmp$$,$time$$=1.8446744073709552E19,$m$$;for($m$$ in TimeUnit.ratios){$i$$71_tmp$$=TimeUnit.ratios[$m$$][0];$i$$71_tmp$$=this.amount*$fromRow$$[$i$$71_tmp$$];if($i$$71_tmp$$>=1&&$i$$71_tmp$$<$time$$){$time$$=$i$$71_tmp$$;$munit$$=$m$$}}return new TimeUnit({unit:$munit$$,amount:$time$$})};
TimeUnit.getMeasures=function $TimeUnit$getMeasures$(){var $ret$$=[],$m$$;for($m$$ in TimeUnit.ratios)$ret$$.push($m$$);return $ret$$};Measurement._constructors.time=TimeUnit;
var VelocityUnit=function $VelocityUnit$($options$$){this.unit="meters/second";this.amount=0;this.aliases=VelocityUnit.aliases;if($options$$){if(typeof $options$$.unit!=="undefined"){this.originalUnit=$options$$.unit;this.unit=this.aliases[$options$$.unit]||$options$$.unit}if(typeof $options$$.amount==="object")if($options$$.amount.getMeasure()==="speed")this.amount=VelocityUnit.convert(this.unit,$options$$.amount.getUnit(),$options$$.amount.getAmount());else throw"Cannot convert units "+$options$$.amount.unit+
" to a speed";else if(typeof $options$$.amount!=="undefined")this.amount=parseFloat($options$$.amount)}if(typeof VelocityUnit.ratios[this.unit]==="undefined")throw"Unknown unit: "+$options$$.unit;};VelocityUnit.prototype=new Measurement;VelocityUnit.prototype.parent=Measurement;VelocityUnit.prototype.constructor=VelocityUnit;
VelocityUnit.ratios={"kilometer/hour":[1,1,0.911344,0.621371,0.539957,0.277778,2.77778E-4,1.72603109E-4],"feet/second":[2,1.09728,1,0.681818,0.592484,0.3048,3.048E-4,1.89393939E-4],"miles/hour":[3,1.60934,1.46667,1,0.868976,0.44704,4.4704E-4,2.77777778E-4],knot:[4,1.852,1.68781,1.15078,1,0.514444,5.14444E-4,3.19660958E-4],"meters/second":[5,3.6,3.28084,2.236936,1.94384,1,0.001,6.21371192E-4],"kilometer/second":[6,3600,3280.8399,2236.93629,1943.84449,1E3,1,0.621371192],"miles/second":[7,5793.6384,
5280,3600,3128.31447,1609.344,1.609344,1]};VelocityUnit.metricSystem={"kilometer/hour":1,"meters/second":5,"kilometer/second":6};VelocityUnit.imperialSystem={"feet/second":2,"miles/hour":3,knot:4,"miles/second":7};VelocityUnit.uscustomarySystem={"feet/second":2,"miles/hour":3,knot:4,"miles/second":7};VelocityUnit.metricToUScustomary={"kilometer/hour":"miles/hour","meters/second":"feet/second","kilometer/second":"miles/second"};
VelocityUnit.UScustomaryTometric={"miles/hour":"kilometer/hour","feet/second":"meters/second","miles/second":"kilometer/second",knot:"kilometer/hour"};VelocityUnit.prototype.getMeasure=function $VelocityUnit$$getMeasure$(){return"speed"};VelocityUnit.prototype.convert=function $VelocityUnit$$convert$($to$$){return!$to$$||typeof VelocityUnit.ratios[this.normalizeUnits($to$$)]==="undefined"?void 0:new VelocityUnit({unit:$to$$,amount:this})};
VelocityUnit.prototype.scale=function $VelocityUnit$$scale$($mSystem$$5_measurementsystem$$){if($mSystem$$5_measurementsystem$$==="metric"||typeof $mSystem$$5_measurementsystem$$==="undefined"&&typeof VelocityUnit.metricSystem[this.unit]!=="undefined")$mSystem$$5_measurementsystem$$=VelocityUnit.metricSystem;else if($mSystem$$5_measurementsystem$$==="imperial"||typeof $mSystem$$5_measurementsystem$$==="undefined"&&typeof VelocityUnit.imperialSystem[this.unit]!=="undefined")$mSystem$$5_measurementsystem$$=
VelocityUnit.imperialSystem;else if($mSystem$$5_measurementsystem$$==="uscustomary"||typeof $mSystem$$5_measurementsystem$$==="undefined"&&typeof VelocityUnit.uscustomarySystem[this.unit]!=="undefined")$mSystem$$5_measurementsystem$$=VelocityUnit.uscustomarySystem;else return new VelocityUnit({unit:this.unit,amount:this.amount});var $speed$$=this.amount,$munit$$=this.unit,$fromRow$$=VelocityUnit.ratios[this.unit],$speed$$=1.8446744073709552E19,$m$$;for($m$$ in $mSystem$$5_measurementsystem$$){var $tmp$$=
this.amount*$fromRow$$[$mSystem$$5_measurementsystem$$[$m$$]];if($tmp$$>=1&&$tmp$$<$speed$$){$speed$$=$tmp$$;$munit$$=$m$$}}return new VelocityUnit({unit:$munit$$,amount:$speed$$})};VelocityUnit.prototype.localize=function $VelocityUnit$$localize$($locale$$){return new VelocityUnit({unit:$locale$$==="en-US"||$locale$$==="en-GB"?VelocityUnit.metricToUScustomary[this.unit]||this.unit:VelocityUnit.UScustomaryTometric[this.unit]||this.unit,amount:this})};
VelocityUnit.aliases={"foot/sec":"feet/second","foot/s":"feet/second","feet/s":"feet/second","f/s":"feet/second","feet/second":"feet/second","feet/sec":"feet/second","meter/sec":"meters/second","meter/s":"meters/second","meters/s":"meters/second","metre/sec":"meters/second","metre/s":"meters/second","metres/s":"meters/second","mt/sec":"meters/second","m/sec":"meters/second","mt/s":"meters/second","m/s":"meters/second",mps:"meters/second","meters/second":"meters/second","meters/sec":"meters/second",
"kilometer/hour":"kilometer/hour","km/hour":"kilometer/hour","kilometers/hour":"kilometer/hour",kmh:"kilometer/hour","km/h":"kilometer/hour","kilometer/h":"kilometer/hour","kilometers/h":"kilometer/hour","km/hr":"kilometer/hour","kilometer/hr":"kilometer/hour","kilometers/hr":"kilometer/hour","kilometre/hour":"kilometer/hour",mph:"miles/hour","mile/hour":"miles/hour","mile/hr":"miles/hour","mile/h":"miles/hour","miles/h":"miles/hour","miles/hr":"miles/hour","miles/hour":"miles/hour",kn:"knot",kt:"knot",
kts:"knot",knots:"knot","nm/h":"knot","nm/hr":"knot","nauticalmile/h":"knot","nauticalmile/hr":"knot","nauticalmile/hour":"knot","nauticalmiles/hr":"knot","nauticalmiles/hour":"knot",knot:"knot","kilometer/second":"kilometer/second","kilometer/sec":"kilometer/second","kilometre/sec":"kilometer/second","Kilometre/sec":"kilometer/second","kilometers/second":"kilometer/second","kilometers/sec":"kilometer/second","kilometres/sec":"kilometer/second","Kilometres/sec":"kilometer/second","km/sec":"kilometer/second",
"Km/s":"kilometer/second","km/s":"kilometer/second","miles/second":"miles/second","miles/sec":"miles/second","miles/s":"miles/second","mile/s":"miles/second","mile/sec":"miles/second","Mile/s":"miles/second"};VelocityUnit.convert=function $VelocityUnit$convert$($to$$,$from$$,$speed$$){$from$$=VelocityUnit.aliases[$from$$]||$from$$;$to$$=VelocityUnit.aliases[$to$$]||$to$$;return typeof $from$$==="undefined"||typeof $to$$==="undefined"?void 0:$speed$$*VelocityUnit.ratios[$from$$][VelocityUnit.ratios[$to$$][0]]};
VelocityUnit.getMeasures=function $VelocityUnit$getMeasures$(){var $ret$$=[],$m$$;for($m$$ in VelocityUnit.ratios)$ret$$.push($m$$);return $ret$$};Measurement._constructors.speed=VelocityUnit;Measurement._constructors.velocity=VelocityUnit;
var VolumeUnit=function $VolumeUnit$($options$$){this.unit="cubic meter";this.amount=0;this.aliases=VolumeUnit.aliases;if($options$$){if(typeof $options$$.unit!=="undefined"){this.originalUnit=$options$$.unit;this.unit=this.aliases[$options$$.unit]||$options$$.unit}if(typeof $options$$.amount==="object")if($options$$.amount.getMeasure()==="volume")this.amount=VolumeUnit.convert(this.unit,$options$$.amount.getUnit(),$options$$.amount.getAmount());else throw"Cannot convert unit "+$options$$.amount.unit+
" to a volume";else if(typeof $options$$.amount!=="undefined")this.amount=parseFloat($options$$.amount)}if(typeof VolumeUnit.ratios[this.unit]==="undefined")throw"Unknown unit: "+$options$$.unit;};VolumeUnit.prototype=new Measurement;VolumeUnit.prototype.parent=Measurement;VolumeUnit.prototype.constructor=VolumeUnit;
VolumeUnit.ratios={tsp:[1,1,0.333333,0.300781,0.166667,0.0208333,0.0104167,0.00520833,0.00130208,1.74063E-4,4.92892,0.00492892,4.9289E-6,0.832674,0.277558,0.173474,0.00867369,0.00433684,0.00108421],tbsp:[2,3,1,0.902344,0.5,0.0625,0.0312,0.015625,0.00390625,5.2219E-4,14.7868,0.0147868,1.4787E-5,2.49802,0.832674,0.520421,0.0260211,0.0130105,0.00325263],"cubic inch":[3,3.32468,1.10823,1,0.554113,0.0692641,0.034632,0.017316,0.004329,5.78704E-4,16.3871,0.0163871,1.6387E-5,2.76837,0.92279,0.576744,0.0288372,
0.0144186,0.00360465],"us ounce":[4,6,2,1.80469,1,0.125,0.0625,0.0078125,0.0078125,0.00104438,29.5735,0.0295735,2.9574E-5,4.99604,1.04084,1.04084,0.0520421,0.0260211,0.00650526],cup:[5,48,16,14.4375,8,1,0.5,0.25,0.0625,0.00835503,236.588,0.236588,2.36588E-4,39.9683,13.3228,8.32674,0.416337,0.208168,0.0520421],pint:[6,96,32,28.875,16,2,1,0.5,0.125,0.0167101,473.176,0.473176,4.73176E-4,79.9367,26.6456,16.6535,0.832674,0.416337,0.104084],quart:[7,192,64,57.75,32,4,2,1,0.25,0.0334201,946.353,0.946353,
9.46353E-4,159.873,53.2911,33.307,1.66535,0.832674,0.208168],gallon:[8,768,256,231,128,16,8,4,1,0.133681,3785.41,3.78541,0.00378541,639.494,213.165,133.228,6.66139,3.3307,0.832674],"cubic foot":[9,5745.04,1915.01,1728,957.506,119.688,59.8442,29.9221,7.48052,1,28316.8,28.3168,0.0283168,4783.74,1594.58,996.613,49.8307,24.9153,6.22883],milliliter:[10,0.202884,0.067628,0.0610237,0.033814,0.00422675,0.00211338,0.00105669,2.64172E-4,3.5315E-5,1,0.001,1.0E-6,0.168936,0.0563121,0.0351951,0.00175975,8.79877E-4,
2.19969E-4],liter:[11,202.884,67.628,61.0237,33.814,4.22675,2.11338,1.05669,0.264172,0.0353147,1E3,1,0.001,56.3121,56.3121,35.191,1.75975,0.879877,0.219969],"cubic meter":[12,202884,67628,61023.7,33814,4226.75,2113.38,1056.69,264.172,35.3147,1E6,1E3,1,168936,56312.1,35195.1,1759.75,879.877,219.969],"imperial tsp":[13,1.20095,0.200158,0.361223,0.600475,0.0250198,0.0125099,0.00625495,0.00156374,2.09041E-4,5.91939,0.00591939,5.9194E-6,1,0.333333,0.208333,0.0104167,0.00520833,0.00130208],"imperial tbsp":[14,
3.60285,1.20095,1.08367,0.600475,0.0750594,0.0375297,0.0187649,0.00469121,6.27124E-4,17.7582,0.0177582,1.7758E-5,3,1,0.625,0.03125,0.015625,0.00390625],"imperial ounce":[15,5.76456,1.92152,1.73387,0.96076,0.120095,0.0600475,0.0300238,0.00750594,0.0010034,28.4131,0.0284131,2.8413E-5,4.8,1.6,1,0.05,0.025,0.00625],"imperial pint":[16,115.291,38.4304,34.6774,19.2152,2.4019,1.20095,0.600475,0.150119,0.020068,568.261,0.568261,5.68261E-4,96,32,20,1,0.5,0.125],"imperial quart":[17,230.582,76.8608,69.3549,
38.4304,4.8038,2.4019,1.20095,0.300238,0.0401359,1136.52,1.13652,0.00113652,192,64,40,2,1,0.25],"imperial gallon":[18,922.33,307.443,277.42,153.722,19.2152,9.6076,4.8038,1.20095,0.160544,4546.09,4.54609,0.00454609,768,256,160,8,4,1]};VolumeUnit.prototype.getMeasure=function $VolumeUnit$$getMeasure$(){return"volume"};VolumeUnit.prototype.convert=function $VolumeUnit$$convert$($to$$){return!$to$$||typeof VolumeUnit.ratios[this.normalizeUnits($to$$)]==="undefined"?void 0:new VolumeUnit({unit:$to$$,amount:this})};
VolumeUnit.aliases={"US gal":"gallon","US gallon":"gallon","US Gal":"gallon","US Gallons":"gallon","Gal(US)":"gallon","gal(US)":"gallon",gallon:"gallon",quart:"quart","US quart":"quart","US quarts":"quart","US Quart":"quart","US Quarts":"quart","US qt":"quart","Qt(US)":"quart","qt(US)":"quart","US pint":"pint","US Pint":"pint",pint:"pint","pint(US)":"pint","Pint(US)":"pint","US cup":"cup","US Cup":"cup","cup(US)":"cup","Cup(US)":"cup",cup:"cup","us ounce":"us ounce","US ounce":"us ounce","\u2125":"us ounce",
"US Oz":"us ounce","oz(US)":"us ounce","Oz(US)":"us ounce","US tbsp":"tbsp",tbsp:"tbsp","tbsp(US)":"tbsp","US tablespoon":"tbsp","US tsp":"tsp","tsp(US)":"tsp",tsp:"tsp","Cubic meter":"cubic meter","cubic meter":"cubic meter","Cubic metre":"cubic meter","cubic metre":"cubic meter",m3:"cubic meter",Liter:"liter",Liters:"liter",liter:"liter",L:"liter",l:"liter",Milliliter:"milliliter",ML:"milliliter",ml:"milliliter",milliliter:"milliliter",mL:"milliliter","Imperial gal":"imperial gallon","imperial gallon":"imperial gallon",
"Imperial gallon":"imperial gallon","gallon(imperial)":"imperial gallon","gal(imperial)":"imperial gallon","Imperial quart":"imperial quart","imperial quart":"imperial quart","Imperial Quart":"imperial quart","IMperial qt":"imperial quart","qt(Imperial)":"imperial quart","quart(imperial)":"imperial quart","Imperial pint":"imperial pint","imperial pint":"imperial pint","pint(Imperial)":"imperial pint","imperial oz":"imperial ounce","imperial ounce":"imperial ounce","Imperial Ounce":"imperial ounce",
"Imperial tbsp":"imperial tbsp","imperial tbsp":"imperial tbsp","tbsp(Imperial)":"imperial tbsp","Imperial tsp":"imperial tsp","imperial tsp":"imperial tsp","tsp(Imperial)":"imperial tsp","Cubic foot":"cubic foot","cubic foot":"cubic foot","Cubic Foot":"cubic foot","Cubic feet":"cubic foot","cubic Feet":"cubic foot","cubic ft":"cubic foot",ft3:"cubic foot","Cubic inch":"cubic inch","Cubic inches":"cubic inch","cubic inches":"cubic inch","cubic inch":"cubic inch","cubic in":"cubic inch","cu in":"cubic inch",
"cu inch":"cubic inch","inch\u00b3":"cubic inch","in\u00b3":"cubic inch","inch^3":"cubic inch","in^3":"cubic inch","c.i":"cubic inch",CI:"cubic inch",cui:"cubic inch"};VolumeUnit.convert=function $VolumeUnit$convert$($to$$,$from$$,$volume$$){$from$$=VolumeUnit.aliases[$from$$]||$from$$;$to$$=VolumeUnit.aliases[$to$$]||$to$$;return typeof $from$$==="undefined"||typeof $to$$==="undefined"?void 0:$volume$$*VolumeUnit.ratios[$from$$][VolumeUnit.ratios[$to$$][0]]};
VolumeUnit.getMeasures=function $VolumeUnit$getMeasures$(){var $ret$$=[],$m$$;for($m$$ in VolumeUnit.ratios)$ret$$.push($m$$);return $ret$$};VolumeUnit.metricSystem={milliliter:10,liter:11,"cubic meter":12};VolumeUnit.imperialSystem={"imperial tsp":13,"imperial tbsp":14,"imperial ounce":15,"imperial pint":16,"imperial quart":17,"imperial gallon":18};VolumeUnit.uscustomarySystem={tsp:1,tbsp:2,"cubic inch":3,"us ounce":4,cup:5,pint:6,quart:7,gallon:8,"cubic foot":9};
VolumeUnit.metricToUScustomary={milliliter:"tsp",liter:"quart","cubic meter":"cubic foot"};VolumeUnit.metricToImperial={milliliter:"imperial tsp",liter:"imperial quart","cubic meter":"imperial gallon"};VolumeUnit.imperialToMetric={"imperial tsp":"milliliter","imperial tbsp":"milliliter","imperial ounce":"milliliter","imperial pint":"liter","imperial quart":"liter","imperial gallon":"cubic meter"};
VolumeUnit.imperialToUScustomary={"imperial tsp":"tsp","imperial tbsp":"tbsp","imperial ounce":"us ounce","imperial pint":"pint","imperial quart":"quart","imperial gallon":"gallon"};VolumeUnit.uScustomaryToImperial={tsp:"imperial tsp",tbsp:"imperial tbsp","cubic inch":"imperial tbsp","us ounce":"imperial ounce",cup:"imperial ounce",pint:"imperial pint",quart:"imperial quart",gallon:"imperial gallon","cubic foot":"imperial gallon"};
VolumeUnit.uScustomarylToMetric={tsp:"milliliter",tbsp:"milliliter","cubic inch":"milliliter","us ounce":"milliliter",cup:"milliliter",pint:"liter",quart:"liter",gallon:"cubic meter","cubic foot":"cubic meter"};
VolumeUnit.prototype.localize=function $VolumeUnit$$localize$($locale$$){return new VolumeUnit({unit:$locale$$==="en-US"?VolumeUnit.metricToUScustomary[this.unit]||VolumeUnit.imperialToUScustomary[this.unit]||this.unit:$locale$$==="en-GB"?VolumeUnit.metricToImperial[this.unit]||VolumeUnit.uScustomaryToImperial[this.unit]||this.unit:VolumeUnit.uScustomarylToMetric[this.unit]||VolumeUnit.imperialToUScustomary[this.unit]||this.unit,amount:this})};
VolumeUnit.prototype.scale=function $VolumeUnit$$scale$($measurementsystem$$11_volume$$){var $fromRow$$=VolumeUnit.ratios[this.unit],$mSystem$$;if($measurementsystem$$11_volume$$==="metric"||typeof $measurementsystem$$11_volume$$==="undefined"&&typeof VolumeUnit.metricSystem[this.unit]!=="undefined")$mSystem$$=VolumeUnit.metricSystem;else if($measurementsystem$$11_volume$$==="uscustomary"||typeof $measurementsystem$$11_volume$$==="undefined"&&typeof VolumeUnit.uscustomarySystem[this.unit]!=="undefined")$mSystem$$=
VolumeUnit.uscustomarySystem;else if($measurementsystem$$11_volume$$==="imperial"||typeof $measurementsystem$$11_volume$$==="undefined"&&typeof VolumeUnit.imperialSystem[this.unit]!=="undefined")$mSystem$$=VolumeUnit.imperialSystem;var $measurementsystem$$11_volume$$=this.amount,$munit$$=this.unit,$measurementsystem$$11_volume$$=1.8446744073709552E19,$m$$;for($m$$ in $mSystem$$){var $tmp$$=this.amount*$fromRow$$[$mSystem$$[$m$$]];if($tmp$$>=1&&$tmp$$<$measurementsystem$$11_volume$$){$measurementsystem$$11_volume$$=
$tmp$$;$munit$$=$m$$}}return new VolumeUnit({unit:$munit$$,amount:$measurementsystem$$11_volume$$})};Measurement._constructors.volume=VolumeUnit;
var MeasurementFactory=function $MeasurementFactory$($options$$){if($options$$&&typeof $options$$.unit!=="undefined"){var $measure$$=void 0,$c$$;for($c$$ in Measurement._constructors)if(typeof Measurement._constructors[$c$$].aliases[$options$$.unit]!=="undefined"){$measure$$=$c$$;break}return!$measure$$||typeof $measure$$==="undefined"?new UnknownUnit({unit:$options$$.unit,amount:$options$$.amount}):new Measurement._constructors[$measure$$]($options$$)}};
MeasurementFactory.getAvailableUnits=function $MeasurementFactory$getAvailableUnits$(){var $units$$=[],$c$$;for($c$$ in Measurement._constructors)$units$$=$units$$.concat(Measurement._constructors[$c$$].getMeasures());return $units$$};
var UnitFmt=function $UnitFmt$($options$$){var $sync$$=true,$loadParams$$=void 0;this.length="long";this.scale=true;this.measurementType="undefined";this.convert=true;this.locale=new Locale;if($options$$){if($options$$.locale)this.locale=typeof $options$$.locale==="string"?new Locale($options$$.locale):$options$$.locale;if(typeof $options$$.sync==="boolean")$sync$$=$options$$.sync;if(typeof $options$$.loadParams!=="undefined")$loadParams$$=$options$$.loadParams;if($options$$.length)this.length=$options$$.length;
if(typeof $options$$.autoScale==="boolean")this.scale=$options$$.autoScale;if(typeof $options$$.autoConvert==="boolean")this.convert=$options$$.autoConvert;if(typeof $options$$.useNative==="boolean")this.useNative=$options$$.useNative;if($options$$.measurementSystem)this.measurementSystem=$options$$.measurementSystem;if(typeof $options$$.maxFractionDigits==="number")this.maxFractionDigits=$options$$.maxFractionDigits;if(typeof $options$$.minFractionDigits==="number")this.minFractionDigits=$options$$.minFractionDigits;
this.roundingMode=$options$$.roundingMode}if(!UnitFmt.cache)UnitFmt.cache={};Utils.loadData({object:UnitFmt,locale:this.locale,name:"unitfmt.json",sync:$sync$$,loadParams:$loadParams$$,callback:ilib.bind(this,function($format$$){this.template=$format$$.unitfmt[this.length];new NumFmt({locale:this.locale,useNative:this.useNative,maxFractionDigits:this.maxFractionDigits,minFractionDigits:this.minFractionDigits,roundingMode:this.roundingMode,sync:$sync$$,loadParams:$loadParams$$,onLoad:ilib.bind(this,
function($numfmt$$){this.numFmt=$numfmt$$;if($options$$&&typeof $options$$.onLoad==="function")$options$$.onLoad(this)})})})})};
UnitFmt.prototype={getLocale:function $UnitFmt$$getLocale$(){return this.locale},getTemplate:function $UnitFmt$$getTemplate$(){return this.template},toString:function $UnitFmt$$toString$(){return this.getTemplate()},getScale:function $UnitFmt$$getScale$(){return this.scale},getMeasurementSystem:function $UnitFmt$$getMeasurementSystem$(){return this.measurementSystem},format:function $UnitFmt$$format$($measurement$$1_u$$){var $measurement$$1_u$$=this.convert?$measurement$$1_u$$.localize(this.locale.getSpec()):
$measurement$$1_u$$,$measurement$$1_u$$=this.scale?$measurement$$1_u$$.scale(this.measurementSystem):$measurement$$1_u$$,$formatted$$=new IString(this.template[$measurement$$1_u$$.getUnit()]);$formatted$$.setLocale(this.locale,true,void 0,void 0);$formatted$$=$formatted$$.formatChoice($measurement$$1_u$$.amount,{n:this.numFmt.format($measurement$$1_u$$.amount)});return $formatted$$.length>0?$formatted$$:$measurement$$1_u$$.amount+" "+$measurement$$1_u$$.unit}};